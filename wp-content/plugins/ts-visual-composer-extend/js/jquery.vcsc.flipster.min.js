!function(t,e,n){"use strict";function r(t,e){var n=null;return function(){var r=this,i=arguments;null===n&&(n=setTimeout(function(){t.apply(r,i),n=null},e))}}var i=function(){var t={};return function(e){if(t[e]!==n)return t[e];var r=document.createElement("div"),i=r.style,a=e.charAt(0).toUpperCase()+e.slice(1),s=["webkit","moz","ms","o"],o=(e+" "+s.join(a+" ")+a).split(" ");for(var l in o)if(o[l]in i)return t[e]=o[l];return t[e]=!1}}(),a="http://www.w3.org/2000/svg",s=function(){var t;return function(){if(t!==n)return t;var e=document.createElement("div");return e.innerHTML="<svg/>",t=e.firstChild&&e.firstChild.namespaceURI===a}}(),o=t(e),l=i("transform"),u={preloader:!0,itemContainer:"ul",itemSelector:"li",start:"center",fadeIn:500,grayout:!0,mirror:!0,mirrorHeight:10,loop:!1,autoplay:!1,pauseOnHover:!0,style:"coverflow",spacing:-.6,maxwidth:320,sidespace:30,click:!0,keyboard:!0,scrollwheel:!0,touch:!0,nav:!1,buttons:!1,buttonPrev:"Previous",buttonNext:"Next",onItemSwitch:!1},c={main:"ts-flipster-wrapper",active:"ts-flipster-active",processing:"ts-flipster-processing",container:"ts-flipster-container",grayout:"ts-flipster-grayout",nav:"ts-flipster-nav",navChild:"ts-flipster-nav-child",navItem:"ts-flipster-nav-item",navLink:"ts-flipster-nav-link",navCurrent:"ts-flipster-nav-item-current",navCategory:"ts-flipster-nav-item-category",navCategoryLink:"ts-flipster-nav-link-category",button:"ts-flipster-button",buttonPrev:"ts-flipster-button-prev",buttonNext:"ts-flipster-button-next",item:"ts-flipster-item",itemCurrent:"ts-flipster-item-current",itemPast:"ts-flipster-item-past",itemFuture:"ts-flipster-item-future",itemContent:"ts-flipster-item-content"},f=new RegExp("\\b("+c.itemCurrent+"|"+c.itemPast+"|"+c.itemFuture+")(.*?)(\\s|$)","g"),p=new RegExp("\\s\\s+","g");t.fn.TS_VCSC_Flipster=function(e){var i="string"==typeof e?!0:!1;if(i){var v=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this).data("methods");return n[e]?n[e].apply(this,v):this})}var h=t.extend({},u,e);return this.each(function(){function e(t){var e="next"===t?h.buttonNext:h.buttonPrev;return"custom"!==h.buttons&&s?'<svg viewBox="0 0 13 20" xmlns="'+a+'" aria-labelledby="title"><title>'+e+'</title><polyline points="10,3 3,10 10,17"'+("next"===t?' transform="rotate(180 6.5,10)"':"")+"/></svg>":e}function i(n){return n=n||"next",t('<button class="'+c.button+" "+("next"===n?c.buttonNext:c.buttonPrev)+'" role="button" />').html(e(n)).on("click",function(t){I(n),t.preventDefault()})}function u(){h.buttons&&z.length>1&&(U.find("."+c.button).remove(),U.append(i("prev"),i("next")))}function v(){var e={};!h.nav||z.length<=1||(M&&M.remove(),M=t('<ul class="'+c.nav+" "+c.nav+"-"+h.nav+'" role="navigation" />'),O=t(""),z.each(function(n){var r=t(this),i=r.data("flip-category"),a=n+1,s=t('<a href="#" class="'+c.navLink+'">'+a+"</a>").data("index",n);if(O=O.add(s),i){if(!e[i]){var o=t('<li class="'+c.navItem+" "+c.navCategory+'">'),l=t('<a href="#" class="'+c.navLink+" "+c.navCategoryLink+'" data-flip-category="'+i+'">'+i+"</a>").data("category",i).data("index",n);e[i]=t('<ul class="'+c.navChild+'" />'),O=O.add(l),o.append(l,e[i]).appendTo(M)}e[i].append(s)}else M.append(s);s.wrap('<li class="'+c.navItem+'">')}),M.on("click","a",function(e){var n=t(this).data("index");n>=0&&(I(n),e.preventDefault())}),"after"===h.nav?U.append(M):U.prepend(M),B=M.find("."+c.navItem))}function d(){if(h.nav){var e=A.data("flip-category");B.removeClass(c.navCurrent),O.filter(function(){return t(this).data("index")===X||e&&t(this).data("category")===e}).parent().addClass(c.navCurrent)}}function m(){U.css("transition","none"),N.css("transition","none"),z.css("transition","none")}function g(){U.css("transition",""),N.css("transition",""),z.css("transition","")}function y(){var e,n=0;return z.each(function(){e=t(this).height(),e>n&&(n=e)}),n}function C(t){return t&&m(),_=N.width(),N.attr("data-width-current",_),w(_,!1),F=y(),h.mirror&&(F+=F/100*h.mirrorHeight),N.height(F),_?(R&&(clearInterval(R),R=!1),h.buttons&&z.length>1&&U.find("."+c.button).each(function(){jQuery(this).css("margin-top","-"+jQuery(this).outerHeight()/2+"px"),M&&"before"===h.nav?jQuery(this).css("top",F/2+M.height()+"px"):jQuery(this).css("top",F/2+"px")}),void x(t)):void(R=R||setInterval(function(){C(t)},500))}function w(t,e){(parseInt(N.attr("data-width-last"))!=t||e)&&($=t-2*h.sidespace<h.maxwidth?t-2*h.sidespace:h.maxwidth,z.each(function(){jQuery(this).css("max-width",$+"px")}),h.mirror&&U.find("img").reflect({height:1/h.mirrorHeight,opacity:.5}),N.attr("data-width-last",t))}function x(e){z.each(function(n){var r,i,a=t(this);a.attr("class",function(t,e){return e&&e.replace(f,"").replace(p," ")}),r=a.outerWidth(),0!==h.spacing&&a.css("margin-right",r*h.spacing+"px"),i=a.position().left,V[n]=-1*(i+r/2-_/2),n===z.length-1&&(b(),e&&setTimeout(g,1))})}function b(){var e,r,i,a=z.length;z.each(function(n){e=t(this),r=" ",n===X?(r+=c.itemCurrent,i=a+1):X>n?(r+=c.itemPast+" "+c.itemPast+"-"+(X-n),i=n):(r+=c.itemFuture+" "+c.itemFuture+"-"+(n-X),i=a-n),e.css("z-index",i).attr("class",function(t,e){return e&&e.replace(f,"").replace(p," ")+r})}),X>=0&&(_&&V[X]!==n||C(!0),l?N.css("transform","translateX("+V[X]+"px)"):N.css({left:V[X]+"px"})),d()}function I(t){var e=X;if(!(z.length<=1))return"prev"===t?X>0?X--:h.loop&&(X=z.length-1):"next"===t?X<z.length-1?X++:h.loop&&(X=0):"number"==typeof t?X=t:t!==n&&(X=z.index(t)),A=z.eq(X),X!==e&&h.onItemSwitch&&h.onItemSwitch.call(U,z[X],z[e]),h.grayout&&(jQuery(z).removeClass(c.itemCurrent).addClass(c.grayout),jQuery(A).addClass(c.itemCurrent).removeClass(c.grayout)),("coverflow"==h.style||"flat"==h.style)&&x(),b(),U}function k(t){return h.autoplay=t||h.autoplay,clearInterval(q),q=setInterval(function(){var t=X;I("next"),t!==X||h.loop||clearInterval(q)},h.autoplay),U}function j(){return clearInterval(q),q=0,U}function Q(t){return j(),h.autoplay&&t&&(q=-1),U}function H(){U.hasClass(c.active)||(U.removeClass(c.processing),C(!0),h.preloader&&U.parents(".ts-lightbox-gallery-flipster-main").find(".ts-lightbox-gallery-flipster-preloader").hide(),U.removeAttr("style").hide().addClass(c.active),C(!0),U.fadeIn(h.fadeIn))}function T(){return z.length<=1?void 0:(z.addClass(c.item).each(function(){var e=t(this);e.children("."+c.itemContent).length||e.wrapInner('<div class="'+c.itemContent+'" />')}),h.click&&("carousel"==h.style?z.find("."+c.itemContent).on("click.flipster touchend.flipster",function(e){W||(t(this).parent().hasClass(c.itemCurrent)||e.preventDefault(),I(this.parentElement))}):z.on("click.flipster touchend.flipster",function(e){W||(t(this).hasClass(c.itemCurrent)||e.preventDefault(),I(this))})),h.grayout&&z.on("mouseenter.flipster",function(){jQuery(this).hasClass(c.itemCurrent)||jQuery(this).removeClass(c.grayout)}).on("mouseleave.flipster",function(){jQuery(this).hasClass(c.itemCurrent)||jQuery(this).addClass(c.grayout)}),u(),v(),X>=0&&I(X),U)}function D(t){h.keyboard&&(t[0].tabIndex=0,t.on("keydown.flipster",r(function(t){var e=t.which;(37===e||39===e)&&(I(37===e?"prev":"next"),t.preventDefault())},250,!0)))}function P(t){if(h.scrollwheel){var e,n,i=!1,a=0,s=0,l=0;t.on("mousewheel.flipster wheel.flipster",function(){i=!0}).on("mousewheel.flipster wheel.flipster",r(function(t){clearTimeout(s),s=setTimeout(function(){a=0,l=0},300),t=t.originalEvent,l+=t.wheelDelta||-1*(t.deltaY+t.deltaX),Math.abs(l)<25||(a++,e=l>0?"prev":"next",n!==e&&(a=0),n=e,(6>a||a%3===0)&&I(e),l=0)},50)),o.on("mousewheel.flipster wheel.flipster",function(t){i&&(t.preventDefault(),i=!1)})}}function S(t){if(h.touch){if(1==$TS_VCSC_Hammer_ReleaseNew){var e=document.getElementById(t.attr("id")),n=new Hammer(e,{prevent_default:!0});n.on("swipeleft",function(t){return t.preventDefault(),W=!0,I("next"),!1}).on("swiperight",function(t){return t.preventDefault(),W=!0,I("prev"),!1})}else{var e=new Hammer(t);e.on("swipeleft",function(){return I("next"),W=!0,!1}).on("swiperight",function(){return W=!0,I("prev"),!1})}t.on("touchend touchcancel",function(){W=!1})}}function E(){var t;if(U.css("visibility","hidden"),N=U.find(h.itemContainer).addClass(c.container),z=N.find(h.itemSelector),_=N.width(),N.attr("data-width-current",_).attr("data-width-last",_),w(_,!0),T(),z.length<=1)return void U.css("visibility","");t=h.style?"ts-flipster-"+h.style.split(" ").join(" ts-flipster-"):!1,U.addClass([c.main,l?"flipster-transform":" flipster-no-transform",t,h.click?"ts-flipster-click":""].join(" "));var e=U.find("img");if(h.start&&(X="center"===h.start?Math.floor(z.length/2):h.start),I(X),e.length>1){var n=0;e.ensureLoad(function(){n++,n>=e.length&&H()}),setTimeout(H,1e4)}else setTimeout(H,500);o.on("resize.flipster",r(C,400)),h.autoplay&&k(),h.pauseOnHover&&N.on("mouseenter.flipster",function(){q?Q(!0):j()}).on("mouseleave.flipster",function(){-1===q&&k()}),D(U),P(N),S(N)}var L,N,_,F,R,z,A,M,B,O,U=t(this),V=[],X=0,$=320,q=!1,W=!1;L={jump:I,next:function(){return I("next")},prev:function(){return I("prev")},play:k,stop:j,pause:Q,index:T},U.data("methods",L),U.hasClass(c.active)||E()})}}(jQuery,window);