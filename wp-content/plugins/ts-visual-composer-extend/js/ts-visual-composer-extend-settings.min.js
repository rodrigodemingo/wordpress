function TS_VCSC_setCookie(e,t,s){var i=new Date;i.setDate(i.getDate()+s);var n=encodeURIComponent(t)+(null==s?"":"; expires="+i.toUTCString());document.cookie=e+"="+n}function TS_VCSC_getCookie(e){var t,s,i,n=document.cookie.split(";");for(t=0;t<n.length;t++)if(s=n[t].substr(0,n[t].indexOf("=")),i=n[t].substr(n[t].indexOf("=")+1),s=s.replace(/^\s+|\s+$/g,""),s==e)return decodeURIComponent(i)}function hexToR(e){return parseInt(cutHex(e).substring(0,2),16)}function hexToG(e){return parseInt(cutHex(e).substring(2,4),16)}function hexToB(e){return parseInt(cutHex(e).substring(4,6),16)}function cutHex(e){return"#"==e.charAt(0)?e.substring(1,7):e}function isHexaColor(e){return/(^#?[A-Fa-f0-9]{6}$)|(^#[A-Fa-f0-9]{3}$)/.test(e)}function TS_VCSC_GetColorValues(e){var t={red:null,green:null,blue:null,alpha:null};if("string"==typeof e)if(0===e.indexOf("#"))e=e.substr(1),t=3==e.length?{red:parseInt(e[0]+e[0],16),green:parseInt(e[1]+e[1],16),blue:parseInt(e[2]+e[2],16),alpha:1}:{red:parseInt(e.substr(0,2),16),green:parseInt(e.substr(2,2),16),blue:parseInt(e.substr(4,2),16),alpha:1};else if(0===e.indexOf("rgb(")){var s=e.indexOf(",");t={red:parseInt(e.substr(4,s)),green:parseInt(e.substr(s+1,e.indexOf(",",s))),blue:parseInt(e.substr(e.indexOf(",",s+1)+1,e.indexOf(")"))),alpha:1}}else if(0===e.indexOf("rgba(")){var s=e.indexOf(","),i=e.indexOf(",",s+1);t={red:parseInt(e.substr(5,s)),green:parseInt(e.substr(s+1,i)),blue:parseInt(e.substr(e.indexOf(",",s+1)+1,e.indexOf(",",i))),alpha:parseFloat(e.substr(e.indexOf(",",i+1)+1,e.indexOf(")")))}}else{var n={acqua:"#0ff",teal:"#008080",blue:"#00f",navy:"#000080",yellow:"#ff0",olive:"#808000",lime:"#0f0",green:"#008000",fuchsia:"#f0f",purple:"#800080",red:"#f00",maroon:"#800000",white:"#fff",gray:"#808080",silver:"#c0c0c0",black:"#000"};void 0!=n[e]&&(t=getColorValues(n[e]))}return t}function checkIconFontSelect(){var e=0;return jQuery("input[data-check='ts_vcsc_extend_settings_tinymceIconFont']").each(function(){"checked"==jQuery(this).attr("checked")&&e++}),0==e?(jQuery("#ts_vcsc_extend_settings_tinymceIconFontError").show(),"You must select at least one allowable Icon Font!"):void jQuery("#ts_vcsc_extend_settings_tinymceIconFontError").hide()}function checkColorPickerSyntax(e){var t=e.val(),s="true"==e.attr("data-alpha")?!0:!1,i=!1;return t.match(/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/)?i=!0:t.match(/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/)?i=!0:t.match(/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*((0(\.[0-9]*)?)|(1(\.0)?))\s*\)$/)&&(i=!0),i?void 0:s?"You must provide a valid color value (HEX / RGB / RGBA)!":"You must provide a valid color value (HEX / RGB)!"}var $ts_vcsc_extend_tabs_array=[],SettingsError=0;!function(e){e.fn.hasAttr=function(e){if(this.attr)var t=this.attr(e);else var t=this.getAttribute(e);return"undefined"!=typeof t&&t!==!1&&null!==t},e.fn.alterClass=function(t,s){var i=this;if(-1===t.indexOf("*"))return i.removeClass(t),s?i.addClass(s):i;var n=new RegExp("\\s"+t.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");return i.each(function(t,s){for(var i=" "+s.className+" ";n.test(i);)i=i.replace(n," ");s.className=e.trim(i)}),s?i.addClass(s):i},e.fn.hasDataSet=function(t){return"undefined"!=typeof e(this).data(t)}}(jQuery);var SweetContent="",SweetTitle="",SweetType="",SweetConfirm=!0,SweetCancel=!0,SweetTimer=5e3;!function(e){e(document).ready(function(){e("form#ts_vcsc_extend_settings").submit(function(t){return"1"===e("#ts_vcsc_extend_settings_true").val()?void e("form#ts_vcsc_extend_settings").submit():void t.preventDefault()}),e.isFunction(e.fn.validationEngine)&&(e("ul#v-nav-main li.link-data").each(function(t,s){e(s);$ts_vcsc_extend_tabs_array.push(e(this).attr("data-name"))}),e("form#ts_vcsc_extend_settings").validationEngine("attach",{scroll:!1,focusFirstField:!1,showOneMessage:!0,showPrompts:!0,promptPosition:"inline",validateNonVisibleFields:!0,addSuccessCssClassToField:"Passed",addFailureCssClassToField:"Failed",onValidationComplete:function(t,s){0!=e("#v-nav-main").length&&e("#v-nav-main").is('[class^="sticky"]')&&e("#v-nav-main").stickyScroll("reset");var i=t.attr("data-type");if(1==s)e("#ts_vcsc_extend_errors").hide(),e("#ts_vcsc_extend_errors").find(".ts-vcsc-section-title-header").empty(),e("#ts_vcsc_extend_errors").find(".ts-vcsc-section-content").empty(),e("#ts_vcsc_extend_settings_count").val("0"),SettingsError=0,"settings"==i&&(e("#ts_vcsc_extend_settings_true").val("1"),SweetContent="Your settings validated correctly. Do you want to save your settings?",TS_VCSC_SweetAlert({title:"Composium - Visual Composer Extensions",text:"",html:SweetContent,type:"success",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!0,showCancelButton:!0,showOtherButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"No",closeOnConfirm:!0,closeOnCancel:!0},function(t){t?(e(".ts_vcsc_extend_settings_submit").show(),e(".ts_vcsc_extend_settings_validate").hide(),e(".errorMarker").hide(),e("form#ts_vcsc_extend_settings").validationEngine("detach"),setTimeout(function(){e("#ts_vcsc_extend_settings_true").val("1"),e("form#ts_vcsc_extend_settings").off("submit").dequeue().stop(),e("#ts_vcsc_extend_settings_submit_1").trigger("click")},250)):t||(e(".ts_vcsc_extend_settings_submit").hide(),e(".ts_vcsc_extend_settings_validate").show(),e("#ts_vcsc_extend_settings_true").val("0"))}));else{e("#ts_vcsc_extend_settings_true").val("0"),e("html, body").animate({scrollTop:0},"slow"),e("#ts_vcsc_extend_errors").hide(),e("#ts_vcsc_extend_errors").find(".ts-vcsc-section-title-header").empty(),e("#ts_vcsc_extend_errors").find(".ts-vcsc-section-content").empty();var n=0,o=0,r={tab1:[],tab2:[],tab3:[],tab4:[],tab5:[],tab6:[],tab7:[],tab8:[],tab9:[],tab10:[],tab11:[],tab12:[],tab13:[],tab14:[],tab15:[],tab16:[],tab17:[],tab18:[],tab19:[],tab20:[],tab21:[],tab22:[],tab23:[],tab24:[],tab25:[],tab26:[],tab27:[],tab28:[],tab29:[],tab30:[]};e("#ts_vcsc_extend_settings :input").each(function(t,s){e(s);e(this).hasClass("Failed")&&0!=e(this).attr("data-order").length&&0!=e(this).attr("data-error").length&&(11==e(this).attr("data-order")?"Allowable Icon Fonts Selection"==e(this).attr("data-error")&&(o++,1==o&&(n++,r["tab"+e(this).attr("data-order")].push(e(this).attr("data-error")))):(n++,r["tab"+e(this).attr("data-order")].push(e(this).attr("data-error"))))}),e("#ts_vcsc_extend_settings_count").val(n),SettingsError=n,e("#ts_vcsc_extend_errors").find(".ts-vcsc-section-title-header").empty().html(1==n?"Please fix the following Error:":"Please fix the following "+n+" Errors:");var a=1;0!=r.tab1.length?("settings"==i&&e("#ts_vcsc_extend_errors").find(".ts-vcsc-section-content").append("<h4 style='margin-bottom: 20px;'>Tab: General Settings</h4>"),e.each(r.tab1,function(t,s){e("#ts_vcsc_extend_errors").find(".ts-vcsc-section-content").append("<div>#"+a++ +": "+s+"</div>")}),e("#errorTab1").show()):e("#errorTab1").hide(),0!=r.tab9.length?(e("#ts_vcsc_extend_errors").find(".ts-vcsc-section-content").append("<h4 style='margin-bottom: 20px;'>Tab: Lightbox Settings</h4>"),e.each(r.tab9,function(t,s){e("#ts_vcsc_extend_errors").find(".ts-vcsc-section-content").append("<div>#"+a++ +": "+s+"</div>")}),e("#errorTab9").show()):e("#errorTab9").hide(),0!=r.tab10.length?(e("#ts_vcsc_extend_errors").find(".ts-vcsc-section-content").append("<h4 style='margin-bottom: 20px;'>Tab: Language Settings</h4>"),e.each(r.tab10,function(t,s){e("#ts_vcsc_extend_errors").find(".ts-vcsc-section-content").append("<div>#"+a++ +": "+s+"</div>")}),e("#errorTab10").show()):e("#errorTab10").hide(),0!=r.tab11.length?(e("#ts_vcsc_extend_errors").find(".ts-vcsc-section-content").append("<h4 style='margin-bottom: 20px;'>Tab: Social Networks</h4>"),e.each(r.tab11,function(t,s){e("#ts_vcsc_extend_errors").find(".ts-vcsc-section-content").append("<div>#"+a++ +": "+s+"</div>")}),e("#errorTab11").show()):e("#errorTab11").hide(),0!=r.tab13.length?(e("#ts_vcsc_extend_errors").find(".ts-vcsc-section-content").append("<h4 style='margin-bottom: 20px;'>Tab: Icon Fonts Manager</h4>"),e.each(r.tab13,function(t,s){e("#ts_vcsc_extend_errors").find(".ts-vcsc-section-content").append("<div>#"+a++ +": "+s+"</div>")}),e("#errorTab13").show()):e("#errorTab13").hide(),n>0?e("#ts_vcsc_extend_errors").show():e("#ts_vcsc_extend_errors").hide(),"settings"==i&&(SweetContent="Please correct the errors that have been found before your settings can be saved!"),TS_VCSC_SweetAlert({title:"Composium - Visual Composer Extensions",text:"",html:SweetContent,type:"error",allowOutsideClick:!0,allowEscapeKey:!1,showConfirmButton:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Close",cancelButtonText:"Close",closeOnConfirm:!0,closeOnCancel:!0}),0!=e("#v-nav-main").length&&e("#v-nav-main").is('[class^="scroll-to-fixed-fixed"]')&&e("#v-nav-main").trigger("resize")}}}))})}(jQuery),function(){jQuery.fn.customRadioCheck=function(){return this.each(function(){{var e=jQuery(this),t=jQuery("<span/>"),s=e.attr("name");e.attr("disabled")}t.addClass("custom-"+(e.is(":checkbox")?"check":"radio "+s)),e.is(":checked")&&t.addClass("checked"),e.is(":disabled")&&t.addClass("disabled"),t.insertAfter(e),e.parent("label").addClass("custom-label").attr("onclick",""),e.css({position:"absolute",left:"-9999px"}),e.on({change:function(){e.is(":radio")&&e.parent().siblings("label").find("."+s).removeClass("checked"),t.toggleClass("checked",e.is(":checked"))},focus:function(){t.addClass("focus")},blur:function(){t.removeClass("focus")}})})},jQuery.fn.VCSCcustomRadioCheck=function(){return this.each(function(){{var e=jQuery(this),t=jQuery("<span/>"),s=e.attr("name");e.attr("disabled")}t.addClass("custom-"+(e.is(":checkbox")?"check":"radio "+s)),e.is(":checked")&&t.addClass("checked"),e.is(":disabled")&&t.addClass("disabled"),t.insertAfter(e),e.parent("label").addClass("custom-label").attr("onclick",""),e.css({position:"absolute",left:"-9999px"}),e.on({change:function(){e.is(":radio")&&e.parent().siblings("label").find("."+s).removeClass("checked"),t.toggleClass("checked",e.is(":checked")),e.siblings("img.ts_vcsc_check_image").toggleClass("checked")},focus:function(){t.addClass("focus")},blur:function(){t.removeClass("focus")}})})},jQuery.fn.VCSCcustomRadioCheckFont=function(){return this.each(function(){var e=jQuery(this),t=jQuery("<span/>"),s=e.attr("name"),i=(e.attr("disabled"),e.attr("data-load"));t.addClass("custom-"+(e.is(":checkbox")?"check":"radio "+s)),e.is(":checked")&&t.addClass("checked"),e.is(":disabled")&&t.addClass("disabled"),t.insertAfter(e),e.parent("label").addClass("custom-label").attr("onclick",""),e.css({position:"absolute",left:"-9999px"}),e.on({change:function(){e.is(":radio")&&e.parent().siblings("label").find("."+s).removeClass("checked"),t.toggleClass("checked",e.is(":checked")),e.siblings("img.ts_vcsc_check_image").toggleClass("checked"),e.is(":checked")||jQuery("#"+i).siblings("span").hasClass("checked")&&jQuery("#"+i).click()},focus:function(){t.addClass("focus")},blur:function(){t.removeClass("focus")}})})},jQuery.fn.VCSCcustomRadioCheckLoad=function(){return this.each(function(){var e=jQuery(this),t=jQuery("<span/>"),s=e.attr("name"),i=(e.attr("disabled"),e.attr("data-font"));t.addClass("custom-"+(e.is(":checkbox")?"check":"radio "+s)),e.is(":checked")&&t.addClass("checked"),e.is(":disabled")&&t.addClass("disabled"),t.insertAfter(e),e.parent("label").addClass("custom-label").attr("onclick",""),e.css({position:"absolute",left:"-9999px"}),e.on({change:function(){e.is(":radio")&&e.parent().siblings("label").find("."+s).removeClass("checked"),t.toggleClass("checked",e.is(":checked")),e.siblings("img.ts_vcsc_check_image").toggleClass("checked"),e.is(":checked")&&(jQuery("#"+i).siblings("span").hasClass("checked")||jQuery("#"+i).click())},focus:function(){t.addClass("focus")},blur:function(){t.removeClass("focus")}})})}}(),function(e){e.fn.slideFade=function(){for(var t,s=0;s<arguments.length;s++)if("number"==typeof arguments[s])t=arguments[s];else var i=arguments[s];t||(t=500),this.toggleClass("slideFade").animate({opacity:"toggle",height:"toggle"},t,function(){"function"!=typeof i&&(i=function(){}),0!=e("#v-nav-main").length&&e("#v-nav-main").is('[class^="scroll-to-fixed-fixed"]')&&e("#v-nav-main").trigger("resize"),i.call(this)})}}(jQuery),function(e){function t(t){var s=t.find(".ts-vcsc-settings-group-toggle"),i=t.find(".ts-vcsc-settings-group-tabs").width(),n=t.find("#v-nav-main .current").attr("data-tab");return s.hasClass("expanded")?(s.removeClass("expanded"),t.find(".ts-vcsc-settings-group-main").removeClass("expand"),t.find(".ts-vcsc-settings-group-tabs").stop().animate({"margin-left":"0px"},500),t.find(".ts-vcsc-settings-group-main").stop().animate({"margin-left":i},500),t.find(".tab-content").each(function(){e(this).attr("id")!==n&&e(this).fadeOut("fast")})):(s.addClass("expanded"),t.find(".ts-vcsc-settings-group-main").addClass("expand"),t.find(".ts-vcsc-settings-group-tabs").stop().animate({"margin-left":-i-102},500),t.find(".ts-vcsc-settings-group-main").stop().animate({"margin-left":"-1px"},500),t.find(".tab-content").fadeIn("medium",function(){})),!1}e(document).ready(function(){function s(t,s,i,n,o){if(!(t.length<1)){var r=t.length>1?t.eq(0):t,a="undefined"!=typeof o&&null!==o,c=e(a?o:window),l=a?c.position():0,d=r.get(0),u=c.outerWidth(),h=c.outerHeight(),n=n?n:"both",p=i===!0?d.offsetWidth*d.offsetHeight:!0,_=a?0:l,g=_+h,f=c.scrollLeft(),v=f+u,m=r.position(),y=m.top,b=y+r.height(),x=m.left,w=x+r.width(),k=s===!0?b:y,C=s===!0?y:b,j=s===!0?w:x,Q=s===!0?x:w;return"both"===n?!!p&&g>=C&&k>=_&&v>=Q&&j>=f:"vertical"===n?!!p&&g>=C&&k>=_:"horizontal"===n?!!p&&v>=Q&&j>=f:void 0}}function n(e,t,n){var o=t.find("ul.ts-simpletabs-tabs-tab-links"),r=o[0].scrollWidth,a=n,c=250,l=t.width(),d=0,u=0,h=0,p=o.children("li").length-1,_=0,g=0,f=0,v=!1,m=0,y=0;if(o.find("li").each(function(){r+=jQuery(this).outerWidth(!0)}),o.find("li").each(function(e){s(jQuery(this),!1,!1,"horizontal",t,!1)&&(v?d+jQuery(this).outerWidth(!0)<l-90&&(d+=jQuery(this).outerWidth(!0),_++):(f=e+1,v=!0,d+=jQuery(this).outerWidth(!0),_++))}),a&&(_=1),g=f+_,1>=_||a?(a=!0,"left"==e?m=f-2:"right"==e&&(m=g-1)):"left"==e?m=f-1:"right"==e&&(m=g-1),0>m?m=0:m>p&&(m=p),"left"==e){for(i=m;i>=0;i--)y=o.find("li").eq(m).outerWidth(!0),o.scrollLeft()<l?(u=o.scrollLeft(),h=i):l-(u+y)>0&&(u+=y,h=i);u=o.find("li").eq(h).position().left-o.position().left+o.scrollLeft()}else"right"==e&&(u=o.find("li").eq(m).length>0?o.find("li").eq(m).position().left-o.position().left+o.scrollLeft():0);a&&("left"==e?u=o.find("li").eq(m).position().left-o.position().left+o.scrollLeft():"right"==e&&(u=o.find("li").eq(m).position().left-o.position().left+o.scrollLeft())),o.animate({scrollLeft:u},c)}function o(){jQuery(".ts-simpletabs-tabs-wrapper").each(function(){var e=jQuery(this).find(".ts-simpletabs-tabs-navigation"),t=e.find(".ts-simpletabs-tabs-scroll"),s=0;e.find("ul.ts-simpletabs-tabs-tab-links").width("100%"),e.find("ul.ts-simpletabs-tabs-tab-links").find("li").each(function(){s+=jQuery(this).outerWidth(!0)});var i=jQuery(this).width();i>s?(e.find("ul.ts-simpletabs-tabs-tab-links").width("100%"),t.fadeOut()):(e.find("ul.ts-simpletabs-tabs-tab-links").width(i-90+"px"),t.fadeIn())})}var r="",a="";0===jQuery("#ts-return-to-top-main").length&&jQuery("body").append('<div id="ts-return-to-top-main" class="ts-return-to-top-hidden"><i class="dashicons dashicons-arrow-up-alt2"></i></div>'),jQuery("body").hasClass("ts-return-to-top-added")||(jQuery(window).on("scroll",function(){jQuery(this).scrollTop()>=320?jQuery("#ts-return-to-top-main").removeClass("ts-return-to-top-hidden").addClass("ts-return-to-top-visible"):jQuery("#ts-return-to-top-main").removeClass("ts-return-to-top-visible").addClass("ts-return-to-top-hidden")}),jQuery("#ts-return-to-top-main").off().on("click",function(){jQuery("body,html").stop().animate({scrollTop:0},500)}),jQuery("body").addClass("ts-return-to-top-added")),jQuery(window).on("debouncedresize",function(){if(0!=jQuery(".ts-vcsc-settings-group-topbar").length){jQuery(".ts-vcsc-settings-group-topbar").trigger("detach.ScrollToFixed");var e=jQuery("#wpadminbar").outerHeight();jQuery(".ts-vcsc-settings-group-topbar").scrollToFixed({marginTop:e,zIndex:499})}}),0!=jQuery("#v-nav-main").length&&(r=jQuery("#v-nav-main").attr("data-type"),formHeight=jQuery("#v-nav-main").height(),jQuery(".ts-vcsc-settings-group-main").css("min-height",formHeight+"px")),jQuery(".ts-vcsc-settings-group-toggle").click(function(s){return s.preventDefault(),t(e(this).parents(".ts-vcsc-settings-group-container:first")),!1});var c=jQuery("#v-nav > ul#v-nav-main > li.link-data").each(function(){0!=jQuery(".ts_vcsc_extend_global_settings").length&&"undefined"!=typeof TS_VCSC_getCookie("ts_vcsc_extend_settings_active_tab_set")?a=TS_VCSC_getCookie("ts_vcsc_extend_settings_active_tab_set"):0!=e(".ts_vcsc_extend_new_settings").length&&"undefined"!=typeof TS_VCSC_getCookie("ts_vcsc_extend_settings_active_tab_new")||0!=jQuery(".ts_vcsc_extend_edit_settings").length&&"undefined"!=typeof TS_VCSC_getCookie("ts_vcsc_extend_settings_active_tab_old"),0!=a.length?(jQuery(this).removeClass("current"),jQuery(this).attr("data-tab")==a&&jQuery(this).addClass("current")):jQuery(this).hasClass("current")&&(a=jQuery(this).attr("data-tab")),jQuery(this).click(function(){var t=e(this).attr("data-tab");c.removeClass("current"),jQuery(this).addClass("current"),jQuery("div.tab-content").hide(),jQuery("#"+t).show(),"settings"==r&&TS_VCSC_setCookie("ts_vcsc_extend_settings_active_tab_set",jQuery(this).attr("data-tab"),31536e3),o()})});0!=jQuery("#ts_vcsc_extend_settings").length&&jQuery("#"+a).show(),jQuery(".ts-vcsc-section-title").on("click",function(){jQuery(this).hasClass("ts-vcsc-section-show")?(jQuery(this).removeClass("ts-vcsc-section-show"),jQuery(this).addClass("ts-vcsc-section-hide"),jQuery(this).siblings(".ts-vcsc-section-content").slideFade()):jQuery(this).hasClass("ts-vcsc-section-hide")&&(jQuery(this).removeClass("ts-vcsc-section-hide"),jQuery(this).addClass("ts-vcsc-section-show"),jQuery(this).siblings(".ts-vcsc-section-content").slideFade())}),jQuery(".ts-changelog-generator-tabs .ts-changelog-generator-tab-links a").on("click",function(e){e.preventDefault();var t=jQuery(this).attr("href");jQuery(".ts-changelog-generator-tabs "+t).fadeIn(400).siblings().hide(),jQuery(this).parent("li").addClass("active").siblings().removeClass("active")}),jQuery(".ts-simpletabs-tabs-wrapper .ts-simpletabs-tabs-tab-links a").on("click",function(e){e.preventDefault();var t=jQuery(this).attr("href");jQuery(".ts-simpletabs-tabs-wrapper "+t).fadeIn(400).siblings().hide(),jQuery(this).parent("li").addClass("active").siblings().removeClass("active")}),jQuery(".ts-simpletabs-tabs-scroll").click(function(){n(jQuery(this).attr("data-direction"),jQuery(this).parent(),!1)}),o(),jQuery(window).on("debouncedresize",function(){o()}),jQuery(".ts_vcsc_extend_messi_link").on("click",function(t){t.preventDefault();var s=e(this).attr("data-source"),i=e(this).attr("data-title");Messi.img(s,{title:i,modal:!0,modalOpacity:.7,viewport:{top:"50%",left:"50%"}})}),0!=e("#ts-vcsc-social-network-links").length&&e("ul#ts-vcsc-social-network-links").dragsort({dragSelector:"li",dragEnd:function(){var t=e("ul#ts-vcsc-social-network-links li");t.each(function(t){var s=e(this).attr("data-network");e(this).attr("data-order",t),e("#ts_vcsc_social_order_"+s).val(t)})},dragBetween:!1,placeHolderTemplate:"<li></li>",scrollSpeed:15}),jQuery("#ts_vcsc_extend_settings_allowFullOptions").bind("change",function(){"checked"==jQuery(this).attr("checked")?jQuery(".ts-settings-simple-options-hide").addClass("ts-settings-simple-options-show").removeClass("ts-settings-simple-options-hide"):jQuery(".ts-settings-simple-options-show").addClass("ts-settings-simple-options-hide").removeClass("ts-settings-simple-options-show"),0!=jQuery("#v-nav-main").length&&(r=jQuery("#v-nav-main").attr("data-type"),formHeight=jQuery("#v-nav-main").height(),jQuery(".ts-vcsc-settings-group-main").css("min-height",formHeight+"px"))}),jQuery("#ts_vcsc_extend_settings_useIconGenerator").bind("change",function(){"checked"==jQuery(this).attr("checked")?jQuery("#ts_vcsc_extend_settings_useIconGenerator_true").show():jQuery("#ts_vcsc_extend_settings_useIconGenerator_true").hide()}),jQuery("#ts_vcsc_extend_settings_additionsRows").bind("change",function(){"checked"==jQuery(this).attr("checked")?jQuery("#ts_vcsc_extend_settings_additionsRows_true").show():jQuery("#ts_vcsc_extend_settings_additionsRows_true").hide()}),jQuery("#ts_vcsc_extend_settings_defaultLightboxBacklight").bind("change",function(){"checked"==jQuery(this).attr("checked")?jQuery("#ts_vcsc_extend_settings_defaultLightboxBacklight_false").hide():jQuery("#ts_vcsc_extend_settings_defaultLightboxBacklight_false").show()}),jQuery("#ts_vcsc_extend_settings_defaultLightboxBackCustom").bind("change",function(){"checked"==jQuery(this).attr("checked")?(jQuery("#ts_vcsc_extend_settings_defaultLightboxBackCustom_true").show(),jQuery("#ts_vcsc_extend_settings_defaultLightboxBackCustom_false").hide()):(jQuery("#ts_vcsc_extend_settings_defaultLightboxBackCustom_true").hide(),jQuery("#ts_vcsc_extend_settings_defaultLightboxBackCustom_false").show())}),jQuery("#ts_vcsc_extend_settings_visualSelector").bind("change",function(){"checked"==jQuery(this).attr("checked")?jQuery("#ts_vcsc_extend_settings_visualSelector_true").show():jQuery("#ts_vcsc_extend_settings_visualSelector_true").hide()}),jQuery("#ts_vcsc_extend_settings_customTestimonial").bind("change",function(){"checked"==jQuery(this).attr("checked")?jQuery("#ts_vcsc_extend_settings_customTestimonial_true").show():jQuery("#ts_vcsc_extend_settings_customTestimonial_true").hide()}),jQuery("#ts_vcsc_extend_settings_linkerEnabled").bind("change",function(){"checked"==jQuery(this).attr("checked")?jQuery("#ts_vcsc_extend_settings_linker_true").show():jQuery("#ts_vcsc_extend_settings_linker_true").hide()}),0!=jQuery(".ts-color-control").length&&(Color.prototype.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var e=parseInt(this._color,10).toString(16);if(this.error)return"";if(e.length<6)for(var t=6-e.length-1;t>=0;t--)e="0"+e;return"#"+e},jQuery(".ts-color-control").each(function(){{var t=e(this),s=t.val().replace(/\s+/g,""),i=100;"true"==t.attr("data-alpha")?!0:!1}s.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)&&(i=100*parseFloat(s.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1])),t.wpColorPicker({defaultColor:"#000000",change:function(){t.validationEngine("hide");t.wpColorPicker("color")},clear:function(){}})})),jQuery(".ts-image-picker").each(function(){$itemWidth=parseInt(jQuery(this).attr("data-width")),$itemHeight=parseInt(jQuery(this).attr("data-height")),$itemBackground="true"==jQuery(this).attr("data-background")?!0:!1,jQuery(this).imagepicker({width:$itemWidth,height:$itemHeight,hide_select:!0,show_label:!1,as_background:$itemBackground})});var l,d;if(jQuery("#ts_vcsc_extend_settings_defaultLightboxUploader").click(function(e){return e.preventDefault(),"undefined"!=typeof l&&l.close(),l?void l.open():(l=wp.media.frames.file_frame=wp.media({title:"Select Lightbox Background Image",button:{text:"Select Background Image"},library:{type:"image"},multiple:!1}),l.on("select",function(){d=l.state().get("selection").first().toJSON(),jQuery("#ts_vcsc_extend_settings_defaultLightboxBackground").val(d.url),jQuery("#ts_vcsc_extend_settings_defaultLightboxImageDisplay").attr("src",d.url),jQuery("#ts_vcsc_extend_settings_defaultLightboxImageHolder").show(),jQuery("#ts_vcsc_extend_settings_defaultLightboxUploader").prop("disabled",!0).attr("disabled","disabled"),jQuery(window).trigger("resize")}),void l.open())}),jQuery("#ts_vcsc_extend_settings_defaultLightboxImageRemove").on("click",function(){jQuery("#ts_vcsc_extend_settings_defaultLightboxBackground").val(""),jQuery("#ts_vcsc_extend_settings_defaultLightboxImageDisplay").attr("src",""),jQuery("#ts_vcsc_extend_settings_defaultLightboxRepeat").val("no-repeat"),jQuery("#ts_vcsc_extend_settings_defaultLightboxImageHolder").hide(),jQuery("#ts_vcsc_extend_settings_defaultLightboxUploader").prop("disabled",!1).removeAttr("disabled")}),jQuery("#ts-vcsc-social-network-links-restore").on("click",function(){SweetContent="How do you want to re-order the social links?",TS_VCSC_SweetAlert({title:"Composium - Visual Composer Extensions",text:"",html:SweetContent,type:"info",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!0,showCancelButton:!0,showOtherButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Default",otherButtonText:"Alphabetical",cancelButtonText:"Cancel",closeOnConfirm:!0,closeOnOther:!0,closeOnCancel:!0},function(t){if(1==t){var s=e("ul#ts-vcsc-social-network-links"),i=s.children("li").get();i.sort(function(t,s){var i=parseInt(e(t).attr("data-original")),n=parseInt(e(s).attr("data-original"));return n>i?-1:i>n?1:0}),e.each(i,function(e,t){s.append(t)});var n=e("ul#ts-vcsc-social-network-links li");n.each(function(t){var s=e(this).attr("data-network");e(this).attr("data-order",t),e("#ts_vcsc_social_order_"+s).val(t)})}else if(void 0==t){var s=e("ul#ts-vcsc-social-network-links"),i=s.children("li").get();i.sort(function(t,s){var i=e(t).attr("data-network").toUpperCase(),n=e(s).attr("data-network").toUpperCase();return n>i?-1:i>n?1:0}),e.each(i,function(e,t){s.append(t)});var n=e("ul#ts-vcsc-social-network-links li");n.each(function(t){var s=e(this).attr("data-network");e(this).attr("data-order",t),e("#ts_vcsc_social_order_"+s).val(t)})}})}),"undefined"!=typeof SettingsSaved&&(SettingsSaved&&0==SettingsError&&(SweetContent="All settings have been successfully saved!",TS_VCSC_SweetAlert({title:"Composium - Visual Composer Extensions",text:"",html:SweetContent,type:"success",allowOutsideClick:!0,allowEscapeKey:!0,showConfirmButton:!0,showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Close",cancelButtonText:"",closeOnConfirm:!0,closeOnCancel:!0,timer:5e3})),SettingsSaved&&0!=SettingsError&&(SweetContent='<span style="color: red;">PROBLEM:</span> Settings have been saved but are not complete. Please fix the following Errors:<br/>',TS_VCSC_SweetAlert({title:"Composium - Visual Composer Extensions",text:"",html:SweetContent,type:"error",allowOutsideClick:!0,allowEscapeKey:!0,showConfirmButton:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"",cancelButtonText:"Got it!",closeOnConfirm:!0,closeOnCancel:!0,timer:5e3}))),"undefined"!=typeof SettingsLicenseUpdate&&SettingsLicenseUpdate&&(VC_Extension_Demo?SettingsLicenseKey?(SweetContent='<span style="color: red;">PROBLEM:</span> Your Envato License Key could not be confirmed!',SweetType="error",SweetConfirm=!1,SweetCancel=!0):1==SettingsUnLicensing?(SweetContent='<span style="color: red;">UNLICENSING:</span> "Composium - Visual Composer Extensions" has been unlicensed for this site and the plugin has been reset to its default mode!',SweetType="warning",SweetConfirm=!0,SweetCancel=!1):(SweetContent='<span style="color: red;">PROBLEM:</span> You did not provide a License Key to check!',SweetType="error",SweetConfirm=!1,SweetCancel=!0):(SweetContent="Your Envato License Key has been confirmed! Thank you for your Purchase",SweetType="success",SweetConfirm=!0,SweetCancel=!1),TS_VCSC_SweetAlert({title:"Composium - Visual Composer Extensions",text:"",html:SweetContent,type:SweetType,allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:SweetConfirm,showCancelButton:SweetCancel,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Close",cancelButtonText:"Close",closeOnConfirm:!0,closeOnCancel:!0},function(e){e,location.reload()})),"undefined"!=typeof CustomJSAdded&&CustomJSAdded&&(SweetContent="Your Custom <strong>JS</strong> Settings have been successfully saved!",TS_VCSC_SweetAlert({title:"Composium - Visual Composer Extensions",text:"",html:SweetContent,type:"success",allowOutsideClick:!0,allowEscapeKey:!0,showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Close",closeOnConfirm:!0,closeOnCancel:!0})),"undefined"!=typeof CustomCSSAdded&&CustomCSSAdded&&(SweetContent="Your Custom <strong>CSS</strong> Settings have been successfully saved!",TS_VCSC_SweetAlert({title:"Composium - Visual Composer Extensions",text:"",html:SweetContent,type:"success",allowOutsideClick:!0,allowEscapeKey:!0,showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Close",closeOnConfirm:!0,closeOnCancel:!0})),jQuery("input[name='ts_vcsc_extend_settings_tinymceTekanewa']").on("change",function(){"checked"==e(this).attr("checked")?e("#ts_vcsc_tinymceTekanewa_false").hide():e("#ts_vcsc_tinymceTekanewa_false").show()}),jQuery("input[name='ts_vcsc_extend_settings_builtinLightbox']").on("change",function(){"checked"==e(this).attr("checked")?e("#ts_vcsc_extend_settings_builtinLightbox_true").show():e("#ts_vcsc_extend_settings_builtinLightbox_true").hide()}),jQuery("input[name='ts_vcsc_extend_settings_allowEnlighterJS']").on("change",function(){"checked"==e(this).attr("checked")?e("#ts_vcsc_extend_settings_allowEnlighterJS_true").show():e("#ts_vcsc_extend_settings_allowEnlighterJS_true").hide()}),jQuery("input[name='ts_vcsc_extend_settings_allowDowntimeManager']").on("change",function(){var e=jQuery(".ts-downtime-backup-switch").find("input"),t=jQuery(this).prop("checked");console.log(t),1==t?e.attr("checked","checked").prop("checked",!0).val("1").attr("value","1"):e.removeAttr("checked").prop("checked",!1).val("0").attr("value","0")}),jQuery("input[name='ts_vcsc_extend_settings_allowDowntimeBackup']").on("change",function(){var e=jQuery(".ts-downtime-manager-switch").find("input"),t=jQuery(this).prop("checked");console.log(t),1==t?e.attr("checked","checked").prop("checked",!0).val("1").attr("value","1"):e.removeAttr("checked").prop("checked",!1).val("0").attr("value","0")}),jQuery("input[name='ts_vcsc_extend_settings_allowNotification']").on("change",function(){"checked"==e(this).attr("checked")?e("#ts_vcsc_extend_settings_allowNotification_true").show():e("#ts_vcsc_extend_settings_allowNotification_true").hide()}),jQuery(".customRadioCheck").VCSCcustomRadioCheck(),jQuery(".customRadioCheckFont").VCSCcustomRadioCheckFont(),jQuery(".customRadioCheckLoad").VCSCcustomRadioCheckLoad(),0!=jQuery(".ts-composer-switch").length&&jQuery(".ts-composer-switch").each(function(){var e=jQuery(this).attr("data-value"),t=jQuery(this).find(".toggle-check"),s=(jQuery(this).find(".toggle-on"),jQuery(this).find(".toggle-off"),jQuery(this).attr("data-style")),i=jQuery(this).attr("data-on"),n=jQuery(this).attr("data-off"),o=parseInt(jQuery(this).attr("data-width"));jQuery(this).find(".toggle").TSToggleSwitch({drag:!0,click:!0,text:{on:i,off:n},on:"true"==e?!0:!1,animate:250,transition:"ease-in-out",checkbox:t,clicker:null,width:o,height:20,type:s,generator:!1})}),jQuery("body").on("click","img.ts_vcsc_check_image",function(){var e=jQuery("#"+jQuery(this).attr("data-toggle")),t=jQuery("#"+jQuery(this).attr("data-load")),s=e.prop("checked");s?(jQuery(this).removeClass("checked"),e.prop("checked",!1).removeAttr("checked","checked").val("0").attr("value","0"),t.prop("checked",!1).removeAttr("checked","checked").val("0").attr("value","0")):(jQuery(this).addClass("checked"),e.prop("checked",!0).attr("checked","checked").val("1").attr("value","1"))}),jQuery(".ts-composer-switch").find(".toggle").on("toggle",function(e,t){var s=jQuery(this).attr("data-image");if(jQuery(this).hasClass("ts-switch-toggle"))if(t)jQuery("#"+s).addClass("checked");else{var i=jQuery("#"+jQuery(this).attr("data-load")).data("toggles");i.toggle(!1),jQuery("#"+s).removeClass("checked")}else if(jQuery(this).hasClass("ts-load-toggle")&&t){var n=jQuery("#"+jQuery(this).attr("data-toggle")).data("toggles");n.toggle(!0),jQuery("#"+s).hasClass("checked")||jQuery("#"+s).addClass("checked")
}}),jQuery(".ts-codestar-field-switcher").length>0&&jQuery(".ts-codestar-field-switcher").each(function(){var e=jQuery(this).find("input.ts-codestar-checkbox[type=checkbox]"),t=jQuery(this).find(".ts-codestar-fieldset"),s=jQuery(this).attr("data-value"),i=jQuery(this).attr("data-image");e.on("change",function(){s=jQuery(this).prop("checked"),1==s?e.attr("checked","checked").prop("checked",!0).val("1").attr("value","1"):0==s&&e.removeAttr("checked").prop("checked",!1).val("0").attr("value","0"),t.hasClass("ts-switch-toggle")?1==s?jQuery("#"+i).addClass("checked"):(jQuery("#"+jQuery(this).attr("data-load")).prop("checked",!1).removeAttr("checked","checked").val("0").attr("value","0"),jQuery("#"+i).removeClass("checked")):t.hasClass("ts-load-toggle")&&1==s&&(jQuery("#"+jQuery(this).attr("data-font")).prop("checked",!0).attr("checked","checked").val("1").attr("value","1"),jQuery("#"+i).hasClass("checked")||jQuery("#"+i).addClass("checked"))})}),jQuery("body").on("click","#ts-vcsc-manage-elements-all-enable",function(){var e=jQuery("#ts-vcsc-manage-elements-tabs .ts-simpletabs-tabs-content").find(".ts-switch-button");e.each(function(){var e=jQuery(this).find("input");e.prop("checked",!0).attr("checked","checked").val("1").attr("value","1")})}),jQuery("body").on("click","#ts-vcsc-manage-elements-all-disable",function(){var e=jQuery("#ts-vcsc-manage-elements-tabs .ts-simpletabs-tabs-content").find(".ts-switch-button");e.each(function(){var e=jQuery(this).find("input");e.prop("checked",!1).removeAttr("checked","checked").val("0").attr("value","0")})}),jQuery("body").on("click",".ts-vcsc-manage-elements-group-enable",function(){var e=jQuery(this).parent().parent().siblings().find(".ts-switch-button");e.each(function(){var e=jQuery(this).find("input");e.prop("checked",!0).attr("checked","checked").val("1").attr("value","1")})}),jQuery("body").on("click",".ts-vcsc-manage-elements-group-disable",function(){var e=jQuery(this).parent().parent().siblings().find(".ts-switch-button");e.each(function(){var e=jQuery(this).find("input");e.prop("checked",!1).removeAttr("checked","checked").val("0").attr("value","0")})}),0!=jQuery(".ts-nouislider-settings-element").length){var u=[],h=[],p=0,_=null,g=function(e){if(p=h.indexOf(e),_=u[p],"ts_vcsc_extend_settings_rowLimitLarge_slider"==e){var t=parseInt(jQuery("#ts_vcsc_extend_settings_rowLimitLarge").val()),s=parseInt(jQuery("#ts_vcsc_extend_settings_rowLimitMedium").val()),i=parseInt(jQuery("#ts_vcsc_extend_settings_rowLimitSmall").val());p=h.indexOf("ts_vcsc_extend_settings_rowLimitMedium_slider"),p>-1&&(_=u[p],_.noUiSlider.updateOptions({range:{min:[i],max:[t]}}))}else if("ts_vcsc_extend_settings_rowLimitMedium_slider"==e){var t=parseInt(jQuery("#ts_vcsc_extend_settings_rowLimitLarge").val()),s=parseInt(jQuery("#ts_vcsc_extend_settings_rowLimitMedium").val()),i=parseInt(jQuery("#ts_vcsc_extend_settings_rowLimitSmall").val());p=h.indexOf("ts_vcsc_extend_settings_rowLimitSmall_slider"),p>-1&&(_=u[p],_.noUiSlider.updateOptions({range:{min:[0],max:[s]}}))}};jQuery(".ts-nouislider-settings-element").each(function(){var e=jQuery(this).attr("id");h.push(e);var t=document.getElementById(e);u.push(t);var s=jQuery(this).siblings(".ts-nouislider-serial"),i=parseFloat(jQuery(this).attr("data-min")),n=parseFloat(jQuery(this).attr("data-max")),o=parseFloat(jQuery(this).attr("data-step")),r=parseFloat(jQuery(this).attr("data-value")),a=parseFloat(jQuery(this).attr("data-decimals"));noUiSlider.create(t,{range:{min:[i],max:[n]},start:r,handles:1,step:o,behaviour:"extend-tap",connect:[!0,!1],format:wNumb({mark:".",decimals:a})}),t.noUiSlider.set(r),jQuery(this).addClass("ts-nouislider-initialized"),t.noUiSlider.on("update",function(t){s.val(t),g(e)}),t.noUiSlider.on("change",function(t){s.val(t).trigger("change"),g(e)}),s.on("change",function(){t.noUiSlider.set(jQuery(this).val())})})}jQuery(".ts-multiple-options-selector").length>0&&jQuery(".ts-multiple-options-selector").each(function(){var e=jQuery(this).attr("data-holder"),t=jQuery(this).attr("data-callback"),s=[];jQuery(this).find("option").each(function(){"true"==jQuery(this).attr("data-initial")?(jQuery(this).attr("selected","selected").prop("selected",!0),s.push(jQuery(this).attr("value"))):jQuery(this).removeAttr("selected").prop("selected",!1)}),jQuery("#"+e).val(s.join()),jQuery(this).SumoSelect({forceCustomRendering:!0,okCancelInMulti:!0,triggerChangeCombined:!0,selectAll:!0,locale:["Confirm","Cancel","Select/Deselect All"]}),jQuery(this).on("change",function(){var s=jQuery(this).val()+"",i=s.split(",");jQuery("#"+e).val(s),"rowoptions"==t?(jQuery("#ts_vcsc_extend_settings_rowAllowableBackgroundsWrap").hide(),jQuery("#ts_vcsc_extend_settings_rowAllowableEffectsWrap").hide(),jQuery("#ts_vcsc_extend_settings_rowAllowableGlobalsWrap").hide(),i.indexOf("backgrounds")>-1?jQuery("#ts_vcsc_extend_settings_rowAllowableBackgroundsWrap").show():(jQuery("#ts_vcsc_extend_settings_rowAllowableBackgroundsValue").val(""),jQuery("#ts_vcsc_extend_settings_rowAllowableBackgroundsSelect option").removeAttr("selected").prop("selected",!1),jQuery("#ts_vcsc_extend_settings_rowAllowableBackgroundsSelect").hasClass("ts-multiple-options-initialized")&&(jQuery("#ts_vcsc_extend_settings_rowAllowableBackgroundsSelect")[0].sumo.reload(),jQuery("#ts_vcsc_extend_settings_rowAllowableBackgroundsSelect").trigger("change"))),i.indexOf("effects")>-1?jQuery("#ts_vcsc_extend_settings_rowAllowableEffectsWrap").show():(jQuery("#ts_vcsc_extend_settings_rowAllowableEffectsValue").val(""),jQuery("#ts_vcsc_extend_settings_rowAllowableEffectsSelect option").removeAttr("selected").prop("selected",!1),jQuery("#ts_vcsc_extend_settings_rowAllowableEffectsSelect").hasClass("ts-multiple-options-initialized")&&(jQuery("#ts_vcsc_extend_settings_rowAllowableEffectsSelect")[0].sumo.reload(),jQuery("#ts_vcsc_extend_settings_rowAllowableEffectsSelect").trigger("change"))),i.indexOf("globals")>-1?jQuery("#ts_vcsc_extend_settings_rowAllowableGlobalsWrap").show():(jQuery("#ts_vcsc_extend_settings_rowAllowableGlobalsValue").val(""),jQuery("#ts_vcsc_extend_settings_rowAllowableGlobalsSelect option").removeAttr("selected").prop("selected",!1),jQuery("#ts_vcsc_extend_settings_rowAllowableGlobalsSelect").hasClass("ts-multiple-options-initialized")&&(jQuery("#ts_vcsc_extend_settings_rowAllowableGlobalsSelect")[0].sumo.reload(),jQuery("#ts_vcsc_extend_settings_rowAllowableGlobalsSelect").trigger("change")))):"globaloptions"==t?(jQuery("#ts_vcsc_extend_settings_rowAllowablePaddingsWrap").hide(),jQuery("#ts_vcsc_extend_settings_rowAllowableVisibilityWrap").hide(),i.indexOf("general")>-1&&jQuery("#ts_vcsc_extend_settings_rowAllowablePaddingsWrap").show(),i.indexOf("visibility")>-1&&jQuery("#ts_vcsc_extend_settings_rowAllowableVisibilityWrap").show()):"backgroundoptions"==t&&(jQuery("#ts_vcsc_extend_settings_rowAllowableIndicatorWrap").hide(),jQuery("#ts_vcsc_extend_settings_rowAllowableBreakpointWrap").hide(),(i.indexOf("imagesingle")>-1||i.indexOf("imagefixed")>-1||i.indexOf("imageparallax")>-1||i.indexOf("imageautomove")>-1||i.indexOf("imagemovement")>-1||i.indexOf("colorsingle")>-1||i.indexOf("colorgradient")>-1)&&jQuery("#ts_vcsc_extend_settings_rowAllowableIndicatorWrap").show(),""!=s&&"null"!=s&&null!=s&&jQuery("#ts_vcsc_extend_settings_rowAllowableBreakpointWrap").show())}),jQuery(this).addClass("ts-multiple-options-initialized"),jQuery(this).trigger("change")}),setTimeout(function(){jQuery(window).trigger("resize"),jQuery(window).trigger("debouncedresize")},250)}),e(window).load(function(){setTimeout(function(){jQuery(window).trigger("resize"),jQuery(window).trigger("debouncedresize")},250)})}(jQuery),function(){var e,t,s,i,n=function(e,t){return function(){return e.apply(t,arguments)}},o=[].indexOf||function(e){for(var t=0,s=this.length;s>t;t++)if(t in this&&this[t]===e)return t;return-1};jQuery.fn.extend({imagepicker:function(t){return null==t&&(t={}),this.each(function(){var s;return s=jQuery(this),s.data("picker")&&s.data("picker").destroy(),s.data("picker",new e(this,i(t))),null!=t.initialized?t.initialized.call(s.data("picker")):void 0})}}),i=function(e){var t;return t={hide_select:!0,show_label:!1,as_background:!1,height:100,width:100,initialized:void 0,changed:void 0,clicked:void 0,selected:void 0,limit:void 0,limit_reached:void 0},jQuery.extend(t,e)},s=function(e,t){return 0===jQuery(e).not(t).length&&0===jQuery(t).not(e).length},e=function(){function e(e,t){this.opts=null!=t?t:{},this.sync_picker_with_select=n(this.sync_picker_with_select,this),this.select=jQuery(e),this.multiple="multiple"===this.select.attr("multiple"),null!=this.select.data("limit")&&(this.opts.limit=parseInt(this.select.data("limit"))),this.build_and_append_picker()}return e.prototype.destroy=function(){var e,t,s,i;for(i=this.picker_options,t=0,s=i.length;s>t;t++)e=i[t],e.destroy();return this.picker.remove(),this.select.unbind("change"),this.select.removeData("picker"),this.select.show()},e.prototype.build_and_append_picker=function(){var e=this;return this.opts.hide_select&&this.select.hide(),this.select.change(function(){return e.sync_picker_with_select()}),null!=this.picker&&this.picker.remove(),this.create_picker(),this.select.after(this.picker),this.sync_picker_with_select()},e.prototype.sync_picker_with_select=function(){var e,t,s,i,n;for(i=this.picker_options,n=[],t=0,s=i.length;s>t;t++)e=i[t],n.push(e.is_selected()?e.mark_as_selected():e.unmark_as_selected());return n},e.prototype.create_picker=function(){return this.picker=jQuery("<ul class='thumbnails image_picker_selector'></ul>"),this.picker_options=[],this.recursively_parse_option_groups(this.select,this.picker),this.picker},e.prototype.recursively_parse_option_groups=function(e,s){var i,n,o,r,a,c,l,d,u,h;for(d=e.children("optgroup"),r=0,c=d.length;c>r;r++)o=d[r],o=jQuery(o),i=jQuery("<ul></ul>"),i.append(jQuery("<li class='group_title'>"+o.attr("label")+"</li>")),s.append(jQuery("<li>").append(i)),this.recursively_parse_option_groups(o,i);for(u=function(){var s,i,o,r;for(o=e.children("option"),r=[],s=0,i=o.length;i>s;s++)n=o[s],r.push(new t(n,this,this.opts));return r}.call(this),h=[],a=0,l=u.length;l>a;a++)n=u[a],this.picker_options.push(n),n.has_image()&&h.push(s.append(n.node));return h},e.prototype.has_implicit_blanks=function(){var e;return function(){var t,s,i,n;for(i=this.picker_options,n=[],t=0,s=i.length;s>t;t++)e=i[t],e.is_blank()&&!e.has_image()&&n.push(e);return n}.call(this).length>0},e.prototype.selected_values=function(){return this.multiple?this.select.val()||[]:[this.select.val()]},e.prototype.toggle=function(e){var t,i,n;return i=this.selected_values(),n=e.value().toString(),this.multiple?o.call(this.selected_values(),n)>=0?(t=this.selected_values(),t.splice(jQuery.inArray(n,i),1),this.select.val([]),this.select.val(t)):null!=this.opts.limit&&this.selected_values().length>=this.opts.limit?null!=this.opts.limit_reached&&this.opts.limit_reached.call(this.select):this.select.val(this.selected_values().concat(n)):this.select.val(this.has_implicit_blanks()&&e.is_selected()?"":n),s(i,this.selected_values())||(this.select.change(),null==this.opts.changed)?void 0:this.opts.changed.call(this.select,i,this.selected_values())},e}(),t=function(){function e(e,t,s){this.picker=t,this.opts=null!=s?s:{},this.clicked=n(this.clicked,this),this.option=jQuery(e),this.create_node()}return e.prototype.destroy=function(){return this.node.find(".thumbnail").unbind()},e.prototype.has_image=function(){return null!=this.option.data("img-src")},e.prototype.is_blank=function(){return!(null!=this.value()&&""!==this.value())},e.prototype.is_selected=function(){var e;return e=this.picker.select.val(),this.picker.multiple?jQuery.inArray(this.value(),e)>=0:this.value()===e},e.prototype.mark_as_selected=function(){return this.node.find(".thumbnail").addClass("selected")},e.prototype.unmark_as_selected=function(){return this.node.find(".thumbnail").removeClass("selected")},e.prototype.value=function(){return this.option.val()},e.prototype.label=function(){return this.option.data("img-label")?this.option.data("img-label"):this.option.text()},e.prototype.clicked=function(){return this.picker.toggle(this),null!=this.opts.clicked&&this.opts.clicked.call(this.picker.select,this),null!=this.opts.selected&&this.is_selected()?this.opts.selected.call(this.picker.select,this):void 0},e.prototype.create_node=function(){var e,t;return this.node=jQuery("<li/>"),this.opts.as_background?(e=jQuery("<div class='image_picker_image' style='width: "+this.opts.width+"px; height: "+this.opts.height+"px;'></div>"),e.css("background-image","url("+this.option.data("img-src")+")")):(e=jQuery("<img class='image_picker_image' style='width: "+this.opts.width+"px; height: "+this.opts.height+"px;'/>"),e.attr("src",this.option.data("img-src"))),t=jQuery("<div class='thumbnail'>"),t.click({option:this},function(e){return e.data.option.clicked()}),t.append(e),this.opts.show_label&&t.append(jQuery("<p/>").html(this.label())),this.node.append(t),this.node},e}()}.call(this),function(e){var t,s,i=e.event;t=i.special.debouncedresize={setup:function(){e(this).on("resize",t.handler)},teardown:function(){e(this).off("resize",t.handler)},handler:function(e,n){var o=this,r=arguments,a=function(){e.type="debouncedresize",i.dispatch.apply(o,r)};s&&clearTimeout(s),n?a():s=setTimeout(a,t.threshold)},threshold:150},e.event.special.debouncedresize.threshold=250}(jQuery),function(e){e.isScrollToFixed=function(t){return!!e(t).data("ScrollToFixed")},e.ScrollToFixed=function(t,s){function i(){w.trigger("preUnfixed.ScrollToFixed"),d(),w.trigger("unfixed.ScrollToFixed"),Q=-1,k=w.offset().top,C=w.offset().left,f.options.offsets&&(C+=w.offset().left-w.position().left),-1==j&&(j=C),v=w.css("position"),x=!0,-1!=f.options.bottom&&(w.trigger("preFixed.ScrollToFixed"),c(),w.trigger("fixed.ScrollToFixed"))}function n(){var e=f.options.limit;return e?"function"==typeof e?e.apply(w):e:0}function o(){return"fixed"===v}function r(){return"absolute"===v}function a(){return!(o()||r())}function c(){o()||(S.css({display:w.css("display"),width:w.outerWidth(!0),height:w.outerHeight(!0),"float":w.css("float")}),cssOptions={"z-index":f.options.zIndex,position:"fixed",top:-1==f.options.bottom?h():"",bottom:-1==f.options.bottom?"":f.options.bottom,"margin-left":"0px"},f.options.dontSetWidth||(cssOptions.width=w.width()),w.css(cssOptions),w.addClass(f.options.baseClassName),f.options.className&&w.addClass(f.options.className),v="fixed")}function l(){var e=n(),t=C;f.options.removeOffsets&&(t="",e-=k),cssOptions={position:"absolute",top:e,left:t,"margin-left":"0px",bottom:""},f.options.dontSetWidth||(cssOptions.width=w.width()),w.css(cssOptions),v="absolute"}function d(){a()||(Q=-1,S.css("display","none"),w.css({"z-index":b,width:"",position:m,left:"",top:y,"margin-left":""}),w.removeClass("scroll-to-fixed-fixed"),f.options.className&&w.removeClass(f.options.className),v=null)}function u(e){e!=Q&&(w.css("left",C-e),Q=e)}function h(){var e=f.options.marginTop;return e?"function"==typeof e?e.apply(w):e:0}function p(){if(e.isScrollToFixed(w)){var t=x;x?a()&&(k=w.offset().top,C=w.offset().left):i();var s=e(window).scrollLeft(),p=e(window).scrollTop(),v=n();f.options.minWidth&&e(window).width()<f.options.minWidth?a()&&t||(g(),w.trigger("preUnfixed.ScrollToFixed"),d(),w.trigger("unfixed.ScrollToFixed")):f.options.maxWidth&&e(window).width()>f.options.maxWidth?a()&&t||(g(),w.trigger("preUnfixed.ScrollToFixed"),d(),w.trigger("unfixed.ScrollToFixed")):-1==f.options.bottom?v>0&&p>=v-h()?r()&&t||(g(),w.trigger("preAbsolute.ScrollToFixed"),l(),w.trigger("unfixed.ScrollToFixed")):p>=k-h()?(o()&&t||(g(),w.trigger("preFixed.ScrollToFixed"),c(),Q=-1,w.trigger("fixed.ScrollToFixed")),u(s)):a()&&t||(g(),w.trigger("preUnfixed.ScrollToFixed"),d(),w.trigger("unfixed.ScrollToFixed")):v>0?p+e(window).height()-w.outerHeight(!0)>=v-(h()||-_())?o()&&(g(),w.trigger("preUnfixed.ScrollToFixed"),"absolute"===m?l():d(),w.trigger("unfixed.ScrollToFixed")):(o()||(g(),w.trigger("preFixed.ScrollToFixed"),c()),u(s),w.trigger("fixed.ScrollToFixed")):u(s)}}function _(){return f.options.bottom?f.options.bottom:0}function g(){var e=w.css("position");w.trigger("absolute"==e?"postAbsolute.ScrollToFixed":"fixed"==e?"postFixed.ScrollToFixed":"postUnfixed.ScrollToFixed")}var f=this;f.$el=e(t),f.el=t,f.$el.data("ScrollToFixed",f);var v,m,y,b,x=!1,w=f.$el,k=0,C=0,j=-1,Q=-1,S=null,T=function(){w.is(":visible")&&(x=!1,p())},F=function(){window.requestAnimationFrame?requestAnimationFrame(p):p()},A=function(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1};f.init=function(){f.options=e.extend({},e.ScrollToFixed.defaultOptions,s),b=w.css("z-index"),f.$el.css("z-index",f.options.zIndex),S=e("<div />"),v=w.css("position"),m=w.css("position"),y=w.css("top"),a()&&f.$el.after(S),e(window).bind("resize.ScrollToFixed",T),e(window).bind("scroll.ScrollToFixed",F),"ontouchmove"in window&&e(window).bind("touchmove.ScrollToFixed",p),f.options.preFixed&&w.bind("preFixed.ScrollToFixed",f.options.preFixed),f.options.postFixed&&w.bind("postFixed.ScrollToFixed",f.options.postFixed),f.options.preUnfixed&&w.bind("preUnfixed.ScrollToFixed",f.options.preUnfixed),f.options.postUnfixed&&w.bind("postUnfixed.ScrollToFixed",f.options.postUnfixed),f.options.preAbsolute&&w.bind("preAbsolute.ScrollToFixed",f.options.preAbsolute),f.options.postAbsolute&&w.bind("postAbsolute.ScrollToFixed",f.options.postAbsolute),f.options.fixed&&w.bind("fixed.ScrollToFixed",f.options.fixed),f.options.unfixed&&w.bind("unfixed.ScrollToFixed",f.options.unfixed),f.options.spacerClass&&S.addClass(f.options.spacerClass),w.bind("resize.ScrollToFixed",function(){S.height(w.height())}),w.bind("scroll.ScrollToFixed",function(){w.trigger("preUnfixed.ScrollToFixed"),d(),w.trigger("unfixed.ScrollToFixed"),p()}),w.bind("detach.ScrollToFixed",function(t){A(t),w.trigger("preUnfixed.ScrollToFixed"),d(),w.trigger("unfixed.ScrollToFixed"),e(window).unbind("resize.ScrollToFixed",T),e(window).unbind("scroll.ScrollToFixed",F),w.unbind(".ScrollToFixed"),S.remove(),f.$el.removeData("ScrollToFixed")}),T()},f.init()},e.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1e3,baseClassName:"scroll-to-fixed-fixed"},e.fn.scrollToFixed=function(t){return this.each(function(){new e.ScrollToFixed(this,t)})}}(jQuery);