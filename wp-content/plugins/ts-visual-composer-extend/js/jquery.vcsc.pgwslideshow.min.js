!function(i){i.fn.TS_VCSC_Pagawa_Slideshow=function(t){var n={mainClassName:"pgwSlideshowDark",transitionEffect:"sliding",displayList:!0,displayControls:!0,displayTitles:!0,listPosition:"bottom",listBreak:480,touchControls:!0,autoSlide:!1,hoverStop:!0,afterSetup:!1,beforeSlide:!1,afterSlide:!1,maxHeight:null,transitionDuration:500,intervalDuration:5e3};if(0==this.length)return this;if(this.length>1)return this.each(function(){i(this).TS_VCSC_Pagawa_Slideshow(t)}),this;var e=this;e.plugin=this,e.config={},e.data=[],e.currentSlide=0,e.slideCount=0,e.resizeEvent=null,e.intervalEvent=null,e.touchFirstPosition=null,e.touchListLastPosition=!1,e.window=i(window);var s=function(){return e.config=i.extend({},n,t),r(),e.config.displayList&&h(),e.window.resize(function(){clearTimeout(e.resizeEvent),e.resizeEvent=setTimeout(function(){l(),e.plugin.find(".ps-current").css({height:"100%"}),e.config.maxHeight&&e.plugin.find(".ps-current > ul > li img").css({"max-height":"100%"});var i=e.plugin.find(".ps-current > ul > li.elt_"+e.currentSlide+" img").height();o(i),e.config.displayList&&(h(),v())},100)}),e.config.autoSlide&&(e.config.hoverStop&&e.plugin.on("mouseenter mouseleave touchstart touchend",function(i){"mouseenter"===i.type||"touchstart"===i.type?e.stopSlide():("mouseleave"===i.type||"touchend"===i.type)&&e.startSlide()}),g()),!0},o=function(i){return e.config.maxHeight&&i+e.plugin.find(".ps-list").height()>e.config.maxHeight&&(i=e.config.maxHeight-e.plugin.find(".ps-list").height()),e.plugin.find(".ps-current").css("height",i),e.config.maxHeight&&e.plugin.find(".ps-current > ul > li img").css("max-height",i+"px"),!0},a=function(){var t=0;return e.plugin.show(),e.plugin.find(".ps-list > ul > li").show().each(function(){t+=i(this).width()}),e.plugin.find(".ps-list > ul").width(t),!0},l=function(){return e.plugin.width()<=parseInt(e.config.listBreak)?e.plugin.addClass("narrow").removeClass("wide"):e.plugin.addClass("wide").removeClass("narrow"),!0},r=function(){if(e.plugin.removeClass("pgwSlideshow").removeClass(e.config.mainClassName),e.plugin.wrap('<div class="ps-list"></div>'),e.plugin=e.plugin.parent(),e.plugin.wrap('<div class="'+e.config.mainClassName+'"></div>'),e.plugin=e.plugin.parent(),"bottom"==e.config.listPosition?e.plugin.prepend('<div class="ps-current"><ul></ul><span class="ps-caption"></span></div>'):"top"==e.config.listPosition&&e.plugin.append('<div class="ps-current"><ul></ul><span class="ps-caption"></span></div>'),e.slideCount=e.plugin.find(".ps-list > ul > li").length,0==e.slideCount)throw new Error("pgwSlideshow - No slider item has been found");e.slideCount>1&&(e.config.displayControls&&(e.plugin.find(".ps-current").prepend('<span class="ps-prev"><span class="ps-prevIcon"></span></span>'),e.plugin.find(".ps-current").append('<span class="ps-next"><span class="ps-nextIcon"></span></span>'),e.plugin.find(".ps-current .ps-prev").click(function(){e.previousSlide()}),e.plugin.find(".ps-current .ps-next").click(function(){e.nextSlide()})),e.config.touchControls&&(e.plugin.find(".ps-current").on("touchstart",function(i){try{i.originalEvent.touches[0].clientX&&null==e.touchFirstPosition&&(e.touchFirstPosition=i.originalEvent.touches[0].clientX)}catch(i){e.touchFirstPosition=null}}),e.plugin.find(".ps-current").on("touchmove",function(i){try{i.originalEvent.touches[0].clientX&&null!=e.touchFirstPosition&&(i.originalEvent.touches[0].clientX>e.touchFirstPosition+50?(e.touchFirstPosition=null,e.previousSlide()):i.originalEvent.touches[0].clientX<e.touchFirstPosition-50&&(e.touchFirstPosition=null,e.nextSlide()))}catch(i){e.touchFirstPosition=null}}),e.plugin.find(".ps-current").on("touchend",function(){e.touchFirstPosition=null})));var t=1;return e.plugin.find(".ps-list > ul > li").each(function(){var n=u(i(this));n.id=t,e.data.push(n),i(this).addClass("elt_"+n.id),i(this).find("a").length>0&&i(this).find("a").contents().unwrap(),i(this).wrapInner('<span class="ps-item'+(1==t?" ps-selected":"")+'"></span>');var s=i('<li class="elt_'+t+'"></li>');if(n.image?s.html('<img src="'+n.image+'" alt="'+(e.config.displayTitles&&n.title?n.title:"")+'">'):n.thumbnail&&s.html('<img src="'+n.thumbnail+'" alt="'+(e.config.displayTitles&&n.title?n.title:"")+'">'),n.link){var o="";if(n.classes)var a="";else var a=n.classes;n.thumbnail&&(o+=' data-thumbnail="'+n.thumbnail+'"'),n.thumbsingle&&(o+=' data-thumb="'+n.thumbsingle+'"'),n.title&&(o+=' data-title="'+n.title+'"'),n.group&&(o+=' rel="'+n.group+'"'),n.effect&&(o+=' data-effect="'+n.effect+'"'),n.share&&(o+=' data-share="'+n.share+'"'),n.play&&(o+=' data-play="'+n.play+'"'),n.autoplay&&(o+=' data-autoplay="'+n.autoplay+'"'),n.duration&&(o+=' data-duration="'+n.duration+'"'),n.thumbsize&&(o+=' data-thumbsize="'+n.thumbsize+'"'),n.thumbs&&(o+=' data-thumbs="'+n.thumbs+'"'),n.info&&(o+=' data-info="'+n.info+'"'),n.nohashes&&(o+=' data-nohashes="'+n.nohashes+'"'),n.color&&(o+=' data-color="'+n.color+'"'),s.html('<a class="'+a+'" href="'+n.link+'"'+(n.linkTarget?' target="'+n.linkTarget+'"':"")+" "+o+">"+s.html()+"</a>")}e.plugin.find(".ps-current > ul").append(s),e.plugin.find(".ps-list > ul").show(),i(this).css("cursor","pointer").click(function(i){i.preventDefault(),d(n.id)}),t++}),e.config.displayList?(a(),"bottom"==e.config.listPosition?e.plugin.find(".ps-list").addClass("ps-list-bottom"):"top"==e.config.listPosition&&e.plugin.find(".ps-list").addClass("ps-list-top"),e.plugin.find(".ps-list").prepend('<span class="ps-prev"><span class="ps-prevIcon"></span></span>'),e.plugin.find(".ps-list").append('<span class="ps-next"><span class="ps-nextIcon"></span></span>'),e.plugin.find(".ps-list").show()):e.plugin.find(".ps-list").hide(),e.config.autoSlide&&e.plugin.on("mouseenter",function(){clearInterval(e.intervalEvent),e.intervalEvent=null}).on("mouseleave",function(){g()}),e.plugin.find(".ps-current > ul > li").hide(),d(1),e.plugin.find(".ps-current > ul > li.elt_1 img").on("load",function(){l();var i=e.plugin.find(".ps-current > ul > li.elt_1 img").height();o(i)}),e.plugin.find(".ps-current > ul > li > a").length>0&&"undefined"!=typeof jQuery.fn.nchlightbox&&e.plugin.find(".ps-current > ul > li > a").off().nchlightbox(),l(),e.plugin.show(),"function"==typeof e.config.afterSetup&&e.config.afterSetup(t),!0},u=function(i){var t={},n=i.find("a").attr("href");if("undefined"!=typeof n&&""!=n){t.link=n;var e=i.find("a").attr("target");"undefined"!=typeof e&&""!=e&&(t.linkTarget=e)}var s=i.find("img").attr("src");"undefined"!=typeof s&&""!=s&&(t.thumbnail=s);var o=i.find("img").attr("data-large-src");"undefined"!=typeof o&&""!=o&&(t.image=o);var a=i.find("img").attr("data-title");"undefined"!=typeof a&&""!=a&&(t.title=a);var l=i.find("img").attr("data-description");"undefined"!=typeof l&&""!=l&&(t.description=l);var r=i.find("a").attr("class");"undefined"!=typeof r&&""!=r&&(t.classes=r);var s=i.find("a").attr("data-thumbnail");"undefined"!=typeof s&&""!=s&&(t.thumbnail=s);var u=i.find("a").attr("data-thumb");"undefined"!=typeof u&&""!=u&&(t.thumbsingle=u);var p=i.find("a").attr("rel");"undefined"!=typeof p&&""!=p&&(t.group=p);var c=i.find("a").attr("data-effect");"undefined"!=typeof c&&""!=c&&(t.effect=c);var f=i.find("a").attr("data-share");"undefined"!=typeof f&&""!=f&&(t.share=f);var d=i.find("a").attr("data-play");"undefined"!=typeof d&&""!=d&&(t.play=d);var g=i.find("a").attr("data-autoplay");"undefined"!=typeof g&&""!=g&&(t.autoplay=g);var h=i.find("a").attr("data-duration");"undefined"!=typeof h&&""!=h&&(t.duration=h);var v=i.find("a").attr("data-thumbsize");"undefined"!=typeof v&&""!=v&&(t.thumbsize=v);var m=i.find("a").attr("data-thumbs");"undefined"!=typeof m&&""!=m&&(t.thumbs=m);var y=i.find("a").attr("data-info");"undefined"!=typeof y&&""!=y&&(t.info=y);var w=i.find("a").attr("data-nohashes");"undefined"!=typeof w&&""!=w&&(t.nohashes=w);var S=i.find("a").attr("data-color");return"undefined"!=typeof S&&""!=S&&(t.color=S),t},p=function(i){var t="";i.title&&(t+="<b>"+i.title+"</b>"),i.description&&(""!=t&&(t+="<br>"),t+=i.description),e.config.displayTitles&&""!=t?"function"==typeof e.plugin.find(".ps-caption").fadeIn?(e.plugin.find(".ps-caption").html(t),e.plugin.find(".ps-caption").fadeIn(e.config.transitionDuration/2)):(e.plugin.find(".ps-caption").html(t),e.plugin.find(".ps-caption").show()):e.plugin.find(".ps-caption").hide(),e.plugin.find(".ps-list > ul > li .ps-item").removeClass("ps-selected"),e.plugin.find(".ps-list > ul > li.elt_"+i.id+" .ps-item").addClass("ps-selected"),e.config.displayList&&(h(),v()),e.config.displayControls&&("function"==typeof e.plugin.find(".ps-current > .ps-prev").fadeIn?e.plugin.find(".ps-current > .ps-prev, .ps-current > .ps-next").fadeIn(e.config.transitionDuration/2):e.plugin.find(".ps-current > .ps-prev, .ps-current > .ps-next").show()),"function"==typeof e.config.afterSlide&&e.config.afterSlide(i.id);var n=e.plugin.find(".ps-current .elt_"+i.id+" img").height();return o(n),!0},c=function(t){var n=e.plugin.find(".ps-current > ul");if(n.find("li").not(".elt_"+e.currentSlide).not(".elt_"+t.id).each(function(){"function"==typeof i(this).stop&&i(this).stop(),i(this).css("position","").css("z-index",1).hide()}),e.currentSlide>0){var s=n.find(".elt_"+e.currentSlide);"function"!=typeof s.animate&&(s.animate=function(i,t,n){s.css(i),n&&n()}),"function"==typeof s.stop&&s.stop(),s.css("position","absolute").animate({opacity:0},e.config.transitionDuration,function(){s.css("position","").css("z-index",1).hide()})}e.currentSlide=t.id;var o=n.find(".elt_"+t.id);return"function"!=typeof o.animate&&(o.animate=function(i,t,n){o.css(i),n&&n()}),"function"==typeof o.stop&&o.stop(),o.css("position","absolute").show().animate({opacity:1},e.config.transitionDuration,function(){o.css("position","").css("z-index",2).css("display","block"),p(t)}),!0},f=function(i,t){var n=e.plugin.find(".ps-current > ul");if("undefined"==typeof t&&(t="left"),0==e.currentSlide)n.find(".elt_1").css({position:"",left:"",opacity:1,"z-index":2}).show(),e.plugin.find(".ps-list > li.elt_1").css("opacity","1"),p(i);else{if(e.transitionInProgress)return!1;e.transitionInProgress=!0;var s=n.width();if("left"==t)var o=-s,a=s;else var o=s,a=-s;var l=n.find(".elt_"+e.currentSlide);"function"!=typeof l.animate&&(l.animate=function(i,t,n){l.css(i),n&&n()}),l.css("position","absolute").animate({left:o},e.config.transitionDuration,function(){l.css("position","").css("z-index",1).css("left","").css("opacity",0).hide()});var r=n.find(".elt_"+i.id);"function"!=typeof r.animate&&(r.animate=function(i,t,n){r.css(i),n&&n()}),r.css("position","absolute").css("left",a).css("opacity",1).show().animate({left:0},e.config.transitionDuration,function(){r.css("position","").css("left","").css("z-index",2).show(),e.transitionInProgress=!1,p(i)})}return e.currentSlide=i.id,!0},d=function(i,t,n){if(i==e.currentSlide)return!1;var s=e.data[i-1];if("undefined"==typeof s)throw new Error("pgwSlideshow - The element "+i+" is undefined");return"undefined"==typeof n&&(n="left"),"function"==typeof e.config.beforeSlide&&e.config.beforeSlide(i),"function"==typeof e.plugin.find(".ps-caption").fadeOut?e.plugin.find(".ps-caption, .ps-prev, .ps-next").fadeOut(e.config.transitionDuration/2):e.plugin.find(".ps-caption, .ps-prev, .ps-next").hide(),"sliding"==e.config.transitionEffect?f(s,n):c(s),"undefined"!=typeof t&&e.config.autoSlide&&g(),!0},g=function(){return clearInterval(e.intervalEvent),e.slideCount>1&&e.config.autoSlide&&(e.intervalEvent=setInterval(function(){if(e.currentSlide+1<=e.slideCount)var i=e.currentSlide+1;else var i=1;d(i)},e.config.intervalDuration)),!0},h=function(){if(!e.config.displayList)return!1;a();var i=e.plugin.find(".ps-list"),t=i.width(),n=e.plugin.find(".ps-list > ul"),s=n.width();if(s>t){n.css("margin","0 45px");var o=parseInt(n.css("margin-left")),l=parseInt(n.css("margin-right"));t-=o+l,i.find(".ps-prev").show().unbind("click").click(function(){var i=parseInt(n.css("left")),o=i+t;0==i?o=-(s-t):o>0&&(o=0),"function"==typeof n.animate?n.animate({left:o},e.config.transitionDuration):n.css("left",o)}),i.find(".ps-next").show().unbind("click").click(function(){var i=parseInt(n.css("left")),o=i-t,a=-(s-t);i==a?o=0:a>o&&(o=a),"function"==typeof n.animate?n.animate({left:o},e.config.transitionDuration):n.css("left",o)}),e.config.touchControls&&(e.plugin.find(".ps-list > ul").on("touchmove",function(t){try{if(t.originalEvent.touches[0].clientX){var s=0==e.touchListLastPosition?0:e.touchListLastPosition;nbPixels=0==e.touchListLastPosition?1:Math.abs(s-t.originalEvent.touches[0].clientX),e.touchListLastPosition=t.originalEvent.touches[0].clientX;var o="";s>t.originalEvent.touches[0].clientX?o="left":s<t.originalEvent.touches[0].clientX&&(o="right")}var a=parseInt(n.css("left"));if("left"==o){var l=i.width(),r=n.width(),u=parseInt(n.css("margin-left")),p=parseInt(n.css("margin-right"));l-=u+p;var c=-(r-l),f=a-nbPixels;f>c&&n.css("left",f)}else if("right"==o){var f=a+nbPixels;0>f?n.css("left",f):n.css("left",0)}}catch(t){e.touchListLastPosition=!1}}),e.plugin.find(".ps-list > ul").on("touchend",function(){e.touchListLastPosition=!1}))}else{var o=parseInt((t-s)/2);n.css("left",0).css("margin-left",o),i.find(".ps-prev").hide(),i.find(".ps-next").hide(),e.plugin.find(".ps-list > ul").unbind("touchstart touchmove touchend")}return!0},v=function(){var i=e.plugin.find(".ps-list").width(),t=e.plugin.find(".ps-list > ul"),n=t.width(),s=parseInt(t.css("margin-left")),o=parseInt(t.css("margin-right"));i-=s+o;var a=Math.abs(parseInt(t.css("left"))),l=a+i,r=e.plugin.find(".ps-list .ps-selected").position().left,u=r+e.plugin.find(".ps-list .ps-selected").width();if(a>r||u>l||n>i&&l>u){var p=-(n-i);p>-r?t.css("left",p):t.css("left",-r)}return!0};return e.startSlide=function(){return e.config.autoSlide=!0,g(),!0},e.stopSlide=function(){return e.config.autoSlide=!1,clearInterval(e.intervalEvent),!0},e.getCurrentSlide=function(){return e.currentSlide},e.getSlideCount=function(){return e.slideCount},e.displaySlide=function(i){return d(i,!0),!0},e.nextSlide=function(){if(e.currentSlide+1<=e.slideCount)var i=e.currentSlide+1;else var i=1;return d(i,!0,"left"),!0},e.previousSlide=function(){if(e.currentSlide-1>=1)var i=e.currentSlide-1;else var i=e.slideCount;return d(i,!0,"right"),!0},e.destroy=function(t){return clearInterval(e.intervalEvent),"undefined"!=typeof t?(e.plugin.find(".ps-list > ul > li").each(function(){i(this).attr("style",null).removeClass().unbind("click"),i(this).html(i(this).find("span").html())}),e.plugin.find(".ps-current").remove(),e.plugin.find(".ps-list").find(".ps-prev, .ps-next").remove(),e.plugin.find(".ps-list > ul").addClass(e.config.mainClassName).attr("style",""),e.plugin.find(".ps-list > ul").unwrap().unwrap(),e.hide()):e.parent().parent().remove(),e.plugin=null,e.data=[],e.config={},e.currentSlide=0,e.slideCount=0,e.resizeEvent=null,e.intervalEvent=null,e.touchFirstPosition=null,e.window=null,!0},e.reload=function(t){return e.destroy(!0),e=this,e.plugin=this,e.window=i(window),e.plugin.show(),e.config=i.extend({},n,t),r(),e.window.resize(function(){clearTimeout(e.resizeEvent),e.resizeEvent=setTimeout(function(){l();var i=e.plugin.find(".ps-current > ul > li.elt_"+e.currentSlide+" img").css("max-height","").height();o(i),e.config.displayList&&(h(),v())},100)}),e.config.autoSlide&&(e.config.hoverStop&&e.plugin.on("mouseenter mouseleave touchstart touchend",function(i){"mouseenter"===i.type||"touchstart"===i.type?e.stopSlide():("mouseleave"===i.type||"touchend"===i.type)&&e.startSlide()}),g()),!0},s(),this}}(window.Zepto||window.jQuery);