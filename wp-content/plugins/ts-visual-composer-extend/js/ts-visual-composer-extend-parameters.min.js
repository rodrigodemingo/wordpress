function TS_VCSC_CountOccurrences(t,e){for(var a=0,i=0;;){if(i=t.indexOf(e,i),-1==i)break;a++,i+=e.length}return a}function TS_VCSC_SearchWordInString(t,e){return new RegExp("\\b"+e+"\\b","i").test(t)}function TS_VCSC_FormatSizeUnits(t){return t>=1073741824?t=number_format(t/1073741824,2)+" GB":t>=1048576?t=number_format(t/1048576,2)+" MB":t>=1024?t=number_format(t/1024,2)+" KB":t>1?t+=" Bytes":1==t?t+=" Byte":t="0 Bytes",t}function TS_VCSC_LoadFileFrame(t,e,a){"undefined"!=typeof frame&&frame.close(),frame=wp.media.frames.file_frame=wp.media({title:t.data("uploader_title"),button:{text:t.data("uploader_button_text")},multiple:!1}),frame.on("open",function(){var t=frame.state().get("selection"),a=e.split(",");a.forEach(function(e){attachment=wp.media.attachment(e),attachment.fetch(),t.add(attachment?[attachment]:[])})}),frame.on("select",function(){var t=frame.state().get("selection").first().toJSON();a&&a(t)}),frame.open()}function TS_VCSC_LoadImageFrame(t,e,a){"undefined"!=typeof frame&&frame.close(),frame=wp.media.frames.file_frame=wp.media({title:t.data("uploader_title"),button:{text:t.data("uploader_button_text")},library:{type:"image"},multiple:!1}),frame.on("open",function(){var t=frame.state().get("selection"),a=e.split(",");a.forEach(function(e){attachment=wp.media.attachment(e),attachment.fetch(),t.add(attachment?[attachment]:[])})}),frame.on("select",function(){var t=frame.state().get("selection").first().toJSON();a&&a(t)}),frame.open()}function TS_VCSC_LoadMediaFrame(t,e,a,i){"undefined"!=typeof frame&&frame.close(),frame=wp.media.frames.file_frame=wp.media({title:t.data("uploader_title"),button:{text:t.data("uploader_button_text")},library:{type:a},multiple:!1}),frame.on("open",function(){var t=frame.state().get("selection"),a=e.split(",");a.forEach(function(e){attachment=wp.media.attachment(e),attachment.fetch(),t.add(attachment?[attachment]:[])})}),frame.on("select",function(){var t=frame.state().get("selection").first().toJSON();i&&i(t)}),frame.open()}function TS_VCSC_LoadGalleryFrame(t,e,a){"undefined"!=typeof frame&&frame.close(),frame=wp.media.frames.file_frame=wp.media({title:t.data("uploader_title"),button:{text:t.data("uploader_button_text")},library:{type:"image"},multiple:!0}),frame.on("open",function(){var t=frame.state().get("selection"),a=e.split(",");a.forEach(function(e){attachment=wp.media.attachment(e),attachment.fetch(),t.add(attachment?[attachment]:[])})}),frame.on("select",function(){var t=frame.state().get("selection"),e=[];t.map(function(t){t=t.toJSON(),e.push(t)}),a&&a(e)}),frame.open()}!function(t,e){t.fn.TS_VCSC_WatchDOMChange=function(a){function i(e,a,i){e.each(function(){var e=t(this);if(window.MutationObserver){var a=e.data("__watcherObserver"+r.id);null==a&&(a=new MutationObserver(i.fnc),e.data("__watcherObserver"+r.id,a)),a.observe(this,{attributes:!0,subtree:r.watchChildren,childList:r.watchChildren,characterData:!0})}else i.intervalId=setInterval(i.fnc,r.interval)})}function n(a,n,r){var s=t(this),o=s.data(a);if(o){var l=this;if(o.func){var d=!1,c=0;for(c;c<o.props.length;c++){var u=o.props[c],h="";if(h=u.startsWith("attr_")?s.attr(u.replace("attr_","")):u.startsWith("prop_")?s.prop(u.replace("prop_","")):s.css(u),h!=e&&o.vals[c]!=h){o.vals[c]=h,d=!0;break}}d&&(s.TS_VCSC_UnwatchDOMChange(a),o.func.call(l,o,c,n,r),i(s,a,o))}}}var r=t.extend({properties:null,interval:100,id:"_watcher_"+(new Date).getTime(),watchChildren:!1,callback:null},a);return this.each(function(){var e=this,a=t(this),s=function(t,a){n.call(e,r.id,t,a)},o={id:r.id,props:r.properties.split(","),vals:[r.properties.split(",").length],func:r.callback,fnc:s,origProps:r.properties,interval:r.interval,intervalId:null};t.each(o.props,function(t){var e=o.props[t];o.vals[t]=o.props[t].startsWith("attr_")?a.attr(e.replace("attr_","")):e.startsWith("prop_")?a.prop(e.replace("props_","")):a.css(e)}),a.data(r.id,o),i(a,r.id,o)})},t.fn.TS_VCSC_UnwatchDOMChange=function(e){return this.each(function(){var a=t(this),i=a.data(e);try{if(window.MutationObserver){var n=a.data("__watcherObserver"+e);n&&(n.disconnect(),a.removeData("__watcherObserver"+e))}else clearInterval(i.intervalId)}catch(r){}}),this},String.prototype.startsWith=function(t){return null===t||t===e?!1:t==this.substr(0,t.length)}}(jQuery,void 0),function(t,e){function a(e,a,r){e||(e="div");var s,o,l,d=t(a.container),c=d.offset()||{left:0,top:0},u=[d.width()||0,d.height()||0],h={x:[c.left,c.left+u[0]],y:[c.top,c.top+u[1]],w:[0,u[0]],h:[0,u[1]]},f=a.directionConstraints;for(s in h)h.hasOwnProperty(s)&&(l=n.exec(a[s]),l&&(o=h[s],a[s]=(o[1]-o[0])*l[1]/100+o[0]));t.isArray(f)||(f="string"==typeof f?[f]:[]),a.sameX===!1&&a.checkHoriz===!1&&(a.sameX=!a.checkHoriz),a.sameY===!1&&a.checkVert===!1&&(a.sameY=!a.checkVert);var p=d.find(e),v=[],g=!!a.furthest,m=!a.sameX,y=!a.sameY,j=!!a.onlyX,Q=!!a.onlyY,w=g?0:1/0,k=parseFloat(a.x)||0,b=parseFloat(a.y)||0,S=parseFloat(k+a.w)||k,C=parseFloat(b+a.h)||b,_={x1:k,y1:b,x2:S,y2:C},x=parseFloat(a.tolerance)||0,$=!!t.fn.each2,T=Math.min,F=Math.max;!a.includeSelf&&r&&(p=p.not(r)),0>x&&(x=0),p[$?"each2":"each"](function(e,a){var n,r,s,o,l=$?a:t(this),d=l.offset(),c=d.left,u=d.top,h=l.outerWidth(),p=l.outerHeight(),O=c+h,A=u+p,z=F(c,k),U=T(O,S),I=F(u,b),D=T(A,C),M={x1:c,y1:u,x2:O,y2:A},E=U>=z,R=D>=I;(m&&y||!m&&!y&&E&&R||m&&R||y&&E||m&&j||y&&Q)&&(n=E?0:z-U,r=R?0:I-D,s=j||Q?j?n:r:E||R?F(n,r):Math.sqrt(n*n+r*r),o=g?s>=w-x:w+x>=s,i(_,M,f)||(o=!1),o&&(w=g?F(w,s):T(w,s),v.push({node:this,dist:s})))}),"nearest"===a.sort?v.sort(function(t,e){return t.dist-e.dist}):"furthest"===a.sort&&v.sort(function(t,e){return e.dist-t.dist});var O,A,z,U,I=v.length,D=[];if(I)for(g?(O=w-x,A=w):(O=w,A=w+x),z=0;I>z;z++)U=v[z],U.dist>=O&&U.dist<=A&&D.push(U.node);return D}function i(t,e,a){var i={left:t.x1>e.x1,right:t.x2<e.x2,top:t.y1>e.y1,bottom:t.y2<e.y2};return a.reduce(function(t,e){return t&&!!i[e]},!0)}var n=/^([\d.]+)%$/;t.each(["nearest","furthest","touching"],function(i,n){var r={x:0,y:0,w:0,h:0,tolerance:1,container:document,furthest:"furthest"==n,includeSelf:!1,sameX:"touching"===n,sameY:"touching"===n,onlyX:!1,onlyY:!1,directionConstraints:[],sort:!1};t[n]=function(i,n,s){if(!i||i.x===e||i.y===e)return t([]);var o=t.extend({},r,i,s||{});return t(a(n,o))},t.fn[n]=function(e,i){if(!this.length)return this.pushStack([]);var n;if(e&&t.isPlainObject(e))return n=t.extend({},r,e,i||{}),this.pushStack(a(this,n));var s=this.offset(),o={x:s.left,y:s.top,w:this.outerWidth(),h:this.outerHeight()};return n=t.extend({},r,o,i||{}),this.pushStack(a(e,n,this))}})}(jQuery);var frame;!function(t){t.fn.TS_VCSC_FontSelect=function(e){var a=function(t,e){return function(){return t.apply(e,arguments)}},i=["Arial, Helvetica, sans-serif","Arial Black, Gadget, sans-serif","Bookman Old Style, serif","Comic Sans MS, cursive","Courier, monospace","Courier New, Courier, monospace","Garamond, serif","Georgia, serif","Impact, Charcoal, sans-serif","Lucida Console, Monaco, monospace","Lucida Grande, Lucida Sans Unicode, sans-serif","MS Sans Serif, Geneva, sans-serif","MS Serif, New York, sans-serif","Palatino Linotype, Book Antiqua, Palatino, serif","Tahoma, Geneva, sans-serif","Times New Roman, Times, serif","Trebuchet MS, Helvetica, sans-serif","Verdana, Geneva, sans-serif","Webdings","Wingdings"],n=[],r=["Abel","Abril+Fatface","Acid","Aclonica","Acme","Actor","Adamina","Advent+Pro","Aguafina+Script","Aladin","Aldrich","Alegreya","Alegreya+SC","Alex+Brush","Alfa+Slab+One","Alice","Alike","Alike+Angular","Allan","Allan:bold","Allerta","Allerta+Stencil","Allura","Almendra","Almendra+SC","Amaranth","Amatic+SC","Amethysta","Andada","Andika","Annie+Use+Your+Telescope","Anonymous+Pro","Antic","Antic+Didone","Antic+Slab","Anton","Arapey","Arbutus","Architects+Daughter","Arimo","Arizonia","Armata","Artifika","Arvo","Asap","Asset","Astloch","Asul","Atomic+Age","Aubrey","Audiowide","Average","Averia+Gruesa+Libre","Averia+Libre","Averia+Sans+Libre","Averia+Serif+Libre","Bad+Script","Balthazar","Bangers","Basic","Baumans","Belgrano","Belleza","Bentham","Berkshire+Swash","Bevan","Bigshot+One","Bilbo","Bilbo+Swash+Caps","Bitter","Black+Ops+One","Bonbon","Boogaloo","Bowlby+One","Bowlby+One+SC","Brawler","Bree+Serif","Bubblegum+Sans","Buda","Buda:light","Buenard","Butcherman","Butcherman+Caps","Butterfly+Kids","Cabin","Cabin+Condensed","Cabin+Sketch","Cabin+Sketch:bold","Cabin:bold","Caesar+Dressing","Cagliostro","Calligraffitti","Cambo","Candal","Cantarell","Cantata+One","Cardo","Carme","Carter+One","Caudex","Cedarville+Cursive","Ceviche+One","Changa+One","Chango","Chau+Philomene+One","Chelsea+Market","Cherry+Cream+Soda","Chewy","Chicle","Chivo","Coda","Coda:800","Codystar","Comfortaa","Coming+Soon","Concert+One","Condiment","Contrail+One","Convergence","Cookie","Copse","Corben","Corben:bold","Cousine","Coustard","Covered+By+Your+Grace","Crafty+Girls","Creepster","Creepster+Caps","Crete+Round","Crimson","Crushed","Cuprum","Cutive","Damion","Dancing+Script","Dawning+of+a+New+Day","Days+One","Delius","Delius+Swash+Caps","Delius+Unicase","Della+Respira","Devonshire","Didact+Gothic","Diplomata","Diplomata+SC","Doppio+One","Dorsa","Dosis","Dr+Sugiyama","Droid+Sans","Droid+Sans+Mono","Droid+Serif","Duru+Sans","Dynalight","EB+Garamond","Eater","Eater+Caps","Economica","Electrolize","Emblema+One","Emilys+Candy","Engagement","Enriqueta","Erica+One","Esteban","Euphoria+Script","Ewert","Exo","Expletus+Sans","Fanwood+Text","Fascinate","Fascinate+Inline","Federant","Federo","Felipa","Fjord+One","Flamenco","Flavors","Fondamento","Fontdiner+Swanky","Forum","Francois+One","Fredericka+the+Great","Fredoka+One","Fresca","Frijole","Fugaz+One","Galdeano","Gentium+Basic","Gentium+Book+Basic","Geo","Geostar","Geostar+Fill","Germania+One","Give+You+Glory","Glass+Antiqua","Glegoo","Gloria+Hallelujah","Goblin+One","Gochi+Hand","Gorditas","Goudy+Bookletter+1911","Graduate","Gravitas+One","Great+Vibes","Gruppo","Gudea","Habibi","Hammersmith+One","Handlee","Happy+Monkey","Henny+Penny","Herr+Von+Muellerhoff","Holtwood+One+SC","Homemade+Apple","Homenaje","IM+Fell","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie+Flower","Inika","Irish+Grover","Irish+Growler","Istok+Web","Italiana","Italianno","Jim+Nightshade","Jockey+One","Jolly+Lodger","Josefin+Sans","Josefin+Slab","Judson","Julee","Junge","Jura","Just+Another+Hand","Just+Me+Again+Down+Here","Kameron","Karla","Kaushan+Script","Kelly+Slab","Kenia","Knewave","Kotta+One","Kranky","Kreon","Kristi","Krona+One","La+Belle+Aurore","Lancelot","Lato","League+Script","Leckerli+One","Ledger","Lekton","Lemon","Lilita+One","Limelight","Linden+Hill","Lobster","Lobster+Two","Londrina+Shadow","Londrina+Sketch","Londrina+Solid","LondrinaOutline","Lora","Love+Ya+Like+A+Sister","Loved+by+the+King","Lovers+Quarrel","Luckiest+Guy","Lusitana","Lustria","Macondo","Macondo+Swash+Caps","Magra","Maiden+Orange","Mako","Marck+Script","Marko+One","Marmelad","Marvel","Mate","Mate+SC","Maven+Pro","Meddon","MedievalSharp","Medula+One","Megrim","Merienda+One","Merriweather","Metamorphous","Metrophobic","Michroma","Miltonian","Miltonian+Tattoo","Miniver","Miss+Fajardose","Miss+Saint+Delafield","Modern+Antiqua","Molengo","Monofett","Monoton","Monsieur+La+Doulaise","Montaga","Montez","Montserrat","Mountains+of+Christmas","Mr+Bedford","Mr+Bedfort","Mr+Dafoe","Mr+De+Haviland","Mrs+Saint+Delafield","Mrs+Sheppards","Muli","Mystery+Quest","Neucha","Neuton","News+Cycle","Niconne","Nixie+One","Nobile:400,700","Norican","Nosifer","Nosifer+Caps","Noticia+Text:400,700","Nova+Flat","Nova+Mono","Nova+Oval","Nova+Round","Nova+Script","Nova+Slim","Numans","Nunito","Old+Standard+TT","Oldenburg","Oleo+Script","Open+Sans:400,600,700,800","Orbitron","Original+Surfer","Oswald","Over+the+Rainbow","Overlock","Overlock+SC","Ovo","Oxygen","PT+Mono","PT+Sans:400,700","PT+Sans+Narrow","PT+Serif","PT+Serif+Caption","Pacifico","Parisienne","Passero+One","Passion+One","Patrick+Hand","Patua+One","Paytone+One","Permanent+Marker","Petrona","Philosopher","Piedra","Pinyon+Script","Plaster","Play","Playball","Playfair+Display","Podkova","Poiret+One","Poller+One","Poly","Pompiere","Pontano+Sans","Port+Lligat+Sans","Port+Lligat+Slab","Prata","Press+Start+2P","Princess+Sofia","Prociono","Prosto+One","Puritan","Quantico","Quattrocento","Quattrocento+Sans","Questrial","Quicksand:300,400,700","Qwigley","Radley","Raleway","Raleway:100","Rammetto+One","Rancho","Rationale","Redressed","Reenie+Beanie","Revalia","Ribeye","Ribeye+Marrow","Righteous","Rochester","Rock+Salt","Rokkitt","Ropa+Sans","Rosario","Rosarivo","Rouge+Script","Ruda","Ruge+Boogie","Ruluko","Ruslan+Display","Russo One","Ruthie","Sail","Salsa","Sancreek","Sansita+One","Sarina","Satisfy","Schoolbell","Seaweed+Script","Sevillana","Shadows+Into+Light","Shadows+Into+Light+Two","Shanti","Share","Shojumaru","Short+Stack","Sigmar+One","Signika","Signika+Negative","Simonetta","Sirin+Stencil","Six+Caps","Slackey","Smokum","Smythe","Sniglet","Sniglet:800","Snippet","Sofia","Sonsie+One","Sorts+Mill+Goudy","Special+Elite","Spicy+Rice","Spinnaker","Spirax","Squada+One","Stardos+Stencil","Stint+Ultra+Condensed","Stint+Ultra+Expanded","Stoke","Sue+Ellen+Francisco","Sunshiney","Supermercado+One","Swanky+and+Moo+Moo","Syncopate","Tangerine","Telex","Tenor+Sans","Terminal+Dosis","Terminal+Dosis+Light","The+Girl+Next+Door","Tienne","Tinos","Titillium+Web:400,300,600,700,900","Titan+One","Trade+Winds","Trocchi","Trochut","Trykker","Tulpen+One","Ubuntu","Ubuntu+Condensed","Ubuntu+Mono","Ultra","Uncial+Antiqua","UnifrakturCook","UnifrakturCook:bold","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Varela","Varela+Round","Vast+Shadow","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Voltaire","Waiting+for+the+Sunrise","Wallpoet","Walter+Turncoat","Wellfleet","Wire+One","Yanone+Kaffeesatz","Yellowtail","Yeseva+One","Yesteryear","Zeyada"];"undefined"!=typeof $TS_VCSC_Google_Favorites&&(n=$TS_VCSC_Google_Favorites),"undefined"!=typeof $TS_VCSC_Google_Selection&&(r=$TS_VCSC_Google_Selection);var s=t.extend({wrapper:null,identifier:0,toggle:"",connector:"",fontello:"",style:"font-select",placeholder:"Select a Font",selection:"Selected Font:",defaultFont:!0,searchText:"Search Fonts:",filterText:"Filter Fonts:",filterFavorite:"Favorite Fonts",filterDefault:"Default Font",filterSave:"Websave Fonts",filterGoogle:"Google Fonts",variantsText:"Select Font Variant:",previewText:"Autoload CSS font files for live preview while scrolling list.",preview:!0,filter:!0,search:!0,lookahead:2,api:"https://fonts.googleapis.com/css?family="},e),o=function(){function e(e,a){if(this.wrapper=a.wrapper,this.$original=t(e),this.container=t(e).parent(),this.composer=t(e).closest(".vc_panel"),this.selection=this.container.parent().find(".ts-font-selector-selection-value"),this.options=a,this.active=!1,this.preloader=!0,this.setupHtml(),this.getVisibleFonts(),this.bindEvents(),this.options.toggle){var s=jQuery("#"+this.options.toggle).find("input[type=checkbox]"),o=jQuery("#"+this.options.fontello),l=(s.attr("data-value"),s.find(".toggle-input"));s.on("change",function(){var t=jQuery(this).prop("checked");1==t?(l.val("true").trigger("change"),o.show()):0==t&&(l.val("false").trigger("change"),o.hide())})}var d=this.$original.val(),c=this.searchFontsFor(n,d.split(":")[0]),u=this.searchFontsFor(i,d.split(":")[0]),h=this.searchFontsFor(r,d.split(":")[0]);if(c>-1)var f="google",p=n[c].split(":")[1];else if(h>-1)var f="google",p=r[h].split(":")[1];else if(u>-1)var f="safefont",p="regular";else if(this.options.defaultFont)var f="default",p="regular";else var f="safefont",p="regular";p=void 0!=p&&"undefined"!=p&&""!=p?/regular/i.test(p)?":regular":":"+p.toString().split(",")[0]:"",d?(-1==d.indexOf(":")&&"Default"!=d&&(d+=":regular",this.$original.val(d).trigger("change")),this.updateSelected(),this.updateVariants(),this.options.preview&&"google"==f&&this.preloader&&this.addFontLink(d.split(":")[0]+p)):this.options.defaultFont&&(d="Default",this.$original.val(d).trigger("change"),this.updateSelected(),this.updateVariants()),this.selection.html(this.$original.val())}return e.prototype.searchFontsFor=function(t,e){for(var a=0;a<t.length;a++)if(0==t[a].indexOf(e))return a;return-1},e.prototype.bindEvents=function(){t("li",this.$results).click(a(this.selectFont,this)).mouseenter(a(this.activateFont,this)).mouseleave(a(this.deactivateFont,this)),t("span",this.$select).click(a(this.toggleDrop,this)),this.$arrow.click(a(this.toggleDrop,this)),this.$variants.change(a(this.selectVariant,this)),t(this.composer).click(a(this.closeDrop,this)),this.$keyword.change(a(this.filterFont,this)).keyup(a(this.filterFont,this)),this.$favorite.click(a(this.filterFavorite,this)),this.$standard.click(a(this.filterStandard,this)),this.$google.click(a(this.filterGoogle,this)),this.$previewer.click(a(this.togglePreview,this))},e.prototype.toggleDrop=function(){this.active?(this.$element.removeClass("font-select-active"),this.$drop.hide(),clearInterval(this.visibleInterval)):(this.$element.addClass("font-select-active"),this.$drop.show(),this.moveToSelected(),this.visibleInterval=setInterval(a(this.getVisibleFonts,this),500)),this.active=!this.active,this.$drop.width(this.$element.width())},e.prototype.togglePreview=function(){var t=this.$previewer.prop("checked");this.preloader=t?!0:!1},e.prototype.closeDrop=function(e){var a="ts-font-selector-"+this.options.identifier;e.target.id==a||t(e.target).parents("#"+a).size()||(this.active&&(this.$element.removeClass("font-select-active"),this.$drop.hide(),clearInterval(this.visibleInterval)),this.active=!1,this.$drop.width(this.$element.width()))},e.prototype.selectFont=function(){var e=t("li.active",this.$results).attr("data-value"),a=t("li.active",this.$results).attr("data-type");if("break"!=a){if(""!=this.options.connector){var i=this.wrapper.parents(".vc_wrapper-param-type-fontsmanager").next().find("."+this.options.connector);i.val(a)}t("li",this.$results).removeClass("selected"),t("li.active",this.$results).addClass("selected"),this.$original.val(e).change(),this.updateSelected(),this.updateVariants(),this.toggleDrop(),this.selection.html(this.$original.val())}},e.prototype.selectVariant=function(){var t=this.$original.val();t=t.split(":")[0];var e=this.$variants.find(":selected").attr("value");this.$original.val(t+":"+e).trigger("change"),this.selection.html(this.$original.val())},e.prototype.filterFont=function(){var e=(this.$keyword.val(),t.trim(this.$keyword.val())),a=new RegExp(e,"gi");t("li",this.$results).each(function(){var i=jQuery(this).text().toLowerCase(),n="true"==jQuery(this).attr("data-toggle")?!0:!1;null===i.match(a)&&""!=e||n?t(this).attr("data-filter","true").hide():t(this).attr("data-filter","false").show()})},e.prototype.filterFavorite=function(){var e=this.$favorite.prop("checked");e?(this.$favorite.attr("checked",!0),this.$favorite.prop("checked",!0),t("li.fonts-favorite",this.$results).attr("data-toggle","false").show()):(this.$favorite.attr("checked",!1),this.$favorite.removeAttr("checked"),this.$favorite.prop("checked",!1),t("li.fonts-favorite",this.$results).attr("data-toggle","true").hide()),this.filterFont()},e.prototype.filterStandard=function(){var e=this.$standard.prop("checked");e?(this.$standard.attr("checked",!0),this.$standard.prop("checked",!0),t("li.fonts-standard",this.$results).attr("data-toggle","false").show()):(this.$standard.attr("checked",!1),this.$standard.removeAttr("checked"),this.$standard.prop("checked",!1),t("li.fonts-standard",this.$results).attr("data-toggle","true").hide()),this.filterFont()},e.prototype.filterGoogle=function(){var e=this.$google.prop("checked");e?(this.$google.attr("checked",!0),this.$google.prop("checked",!0),t("li.fonts-google",this.$results).attr("data-toggle","false").show()):(this.$google.attr("checked",!1),this.$google.removeAttr("checked"),this.$google.prop("checked",!1),t("li.fonts-google",this.$results).attr("data-toggle","true").hide()),this.filterFont()},e.prototype.moveToSelected=function(){var e,a=this.$original.val();a=a.split(":")[0],e=a&&0!=t("li[data-value='"+a+"']",this.$results).length?t("li[data-value='"+a+"']",this.$results):t("li",this.$results).first(),t("li",this.$results).removeClass("selected"),e.addClass("selected"),this.$results.scrollTop(e.addClass("active").position().top)},e.prototype.activateFont=function(e){t("li.active",this.$results).removeClass("active"),t(e.currentTarget).addClass("active")},e.prototype.deactivateFont=function(e){t(e.currentTarget).removeClass("active")},e.prototype.updateSelected=function(){var e=this.$original.val(),a=e.split(":");t("span",this.$element).text(this.toReadable(a[0])).css(this.toStyle(e))},e.prototype.updateVariants=function(){var e=0,a=0,i=this.$original.val();if(i=i.split(":"),0!=t("li[data-value='"+i[0]+"']",this.$results).length)var n=t("li[data-value='"+i[0]+"']",this.$results).attr("data-variants");else var n="";if(""!=n){n=n.toString().split(","),this.$variants.empty();for(var r=0;r<n.length;r++)e++,this.$variants.append('<option value="'+n[r]+'">'+n[r]+"</option>"),"regular"==n[r]&&a++}else this.$variants.empty(),this.$variants.append('<option value="regular">regular</option>'),a++;void 0!=i[1]&&"undefined"!=i[1]&&""!=i[1]&&0!=this.$variants.find('option[value="'+i[1]+'"]').length?this.$variants.find('option[value="'+i[1]+'"]').attr("selected","selected").prop("selected","selected").trigger("change"):a>0?this.$variants.find('option[value="regular"]').attr("selected","selected").prop("selected","selected").trigger("change"):this.$variants.find("option:first").attr("selected","selected").prop("selected","selected").trigger("change"),e>1?(this.$variants.show(),this.$labelF.show()):(this.$variants.hide(),this.$labelF.hide())},e.prototype.setupHtml=function(){this.$original.empty().hide(),this.$search=t("<div>",{"class":"fonts-search-wrapper"}),this.$keyword=t('<input class="fonts-search" type="text" placeholder="">'),this.$labelA=t('<label for="fonts-search">'+this.options.searchText+"</label>"),this.$element=t("<div>",{"class":this.options.style}),this.$arrow=t("<div><b></b></div>"),this.$select=t("<a><span>"+this.options.placeholder+"</span></a>"),this.$drop=t("<div>",{id:"fs-drop-"+this.options.identifier,"class":"fs-drop"}),this.$results=t("<ul>",{id:"fs-results-"+this.options.identifier,"class":"fs-results"}),this.$filter=t("<div>",{"class":"fonts-filter"}),this.$favorite=t('<input id="fonts-checker-favorite-'+this.options.identifier+'" class="fonts-checker-favorite" name="fonts-checker-favorite" type="checkbox" checked="checked">'),this.$labelB=t('<div class="fonts-label">'+this.options.filterText+"</div>"),this.$labelC=t('<label for="fonts-checker-favorite-'+this.options.identifier+'">'+this.options.filterFavorite+"</label>"),this.$standard=t('<input id="fonts-checker-standard-'+this.options.identifier+'" class="fonts-checker-standard" name="fonts-checker-standard" type="checkbox" checked="checked">'),this.$labelD=t('<label for="fonts-checker-standard-'+this.options.identifier+'">'+this.options.filterSave+"</label>"),this.$google=t('<input id="fonts-checker-google-'+this.options.identifier+'" class="fonts-checker-google" name="fonts-checker-google" type="checkbox" checked="checked">'),this.$labelE=t('<label for="fonts-checker-google-'+this.options.identifier+'">'+this.options.filterGoogle+"</label>"),this.$variants=t("<select>",{id:"fs-variants-"+this.options.identifier,"class":"fs-variants"}),this.$labelF=t('<label for="fs-variants-'+this.options.identifier+'">'+this.options.variantsText+"</label>"),this.$autoload=t("<div>",{"class":"fonts-autoload-wrapper"}),this.$previewer=t('<input id="fonts-checker-previewer-'+this.options.identifier+'" class="fonts-checker-previewer" name="fonts-checker-previewer" type="checkbox" checked="checked">'),this.$labelG=t('<label for="fonts-checker-previewer-'+this.options.identifier+'">'+this.options.previewText+"</label>"),this.$original.before(this.$autoload.append(this.$previewer).append(this.$labelG)),this.$original.before(this.$search.append(this.$labelA).append(this.$keyword)),this.$search.after(this.$filter.append(this.$labelB).append(this.$favorite).append(this.$labelC).append(this.$standard).append(this.$labelD).append(this.$google).append(this.$labelE)),this.$original.after(this.$element.append(this.$select.append(this.$arrow)).append(this.$drop)),this.$drop.append(this.$results.append(this.fontsAsHtml())).hide(),this.$element.after(this.$variants).after(this.$labelF),this.options.preview||(this.$labelG.hide(),this.$previewer.hide()),this.options.search||(this.$labelA.hide(),this.$keyword.hide()),this.options.filter||this.$filter.hide()},e.prototype.fontsAsHtml=function(){var t=0,e=3,a="",s="",o="",l="";this.options.defaultFont&&(t++,o+='<li class="font-break fonts-default" data-type="break">'+this.options.filterDefault+"</li>",o+='<li class="fonts-default" data-type="default" data-font="default" data-variants="regular" data-count="'+t+'" data-value="Default" data-toggle="false" data-filter="false" style="font-family: inherit; font-weight: normal;"><i class="dashicons dashicons-marker"></i>Default Font</li>');var d=n.length;d>0?o+='<li class="font-break fonts-favorite" data-type="break">'+this.options.filterFavorite+" ("+d+")</li>":(e--,this.$favorite.hide(),this.$labelC.hide());for(var c=0;d>c;c++)t++,l=n[c].split(":"),a=this.toReadable(l[0]),s=this.toStyle(n[c]),o+='<li class="fonts-favorite" data-type="google" data-font="'+l[0]+'" data-variants="'+(void 0!=l[1]?l[1]:"")+'" data-count="'+t+'" data-value="'+l[0]+'" data-toggle="false" data-filter="false" style="font-family: '+s["font-family"]+"; font-weight: "+s["font-weight"]+'"><i class="dashicons dashicons-star-filled"></i>'+a+"</li>";var d=i.length;d>0?o+='<li class="font-break fonts-standard" data-type="break">'+this.options.filterSave+" ("+d+")</li>":(e--,this.$standard.hide(),this.$labelD.hide());for(var c=0;d>c;c++)t++,a=this.toReadable(i[c]),s=this.toStyle(i[c]),o+='<li class="fonts-standard" data-type="safefont" data-font="'+i[c]+'" data-variants="regular" data-count="'+t+'" data-value="'+i[c]+'" data-toggle="false" data-filter="false" style="font-family: '+s["font-family"]+"; font-weight: "+s["font-weight"]+'"><i class="dashicons dashicons-shield"></i>'+a+"</li>";var d=r.length;d>0?o+='<li class="font-break fonts-google" data-type="break">'+this.options.filterGoogle+" ("+d+")</li>":(e--,this.$google.hide(),this.$labelE.hide());for(var c=0;d>c;c++)t++,l=r[c].split(":"),a=this.toReadable(l[0]),s=this.toStyle(r[c]),o+='<li class="fonts-google" data-type="google" data-font="'+l[0]+'" data-variants="'+(void 0!=l[1]?l[1]:"")+'" data-count="'+t+'" data-value="'+l[0]+'" data-toggle="false" data-filter="false" style="font-family: '+s["font-family"]+"; font-weight: "+s["font-weight"]+'"><i class="dashicons dashicons-googleplus"></i>'+a+"</li>";return 0==e&&(this.$search.hide(),this.$labelA.hide(),this.$labelB.hide()),o},e.prototype.toReadable=function(t){return t.replace(/[\+|:]/g," ")},e.prototype.toStyle=function(t){var e=t.split(":");return"Default"==e[0]?{"font-family":"inherit","font-weight":400}:{"font-family":this.toReadable(e[0]),"font-weight":("regular"!=e[1]?e[1]:400)||400}},e.prototype.getVisibleFonts=function(){if(!this.$results.is(":hidden")&&this.options.preview&&this.preloader){var e=this,a=this.$results.scrollTop(),i=a+this.$results.height();if(this.options.lookahead){var n=t('li[data-filter="false"]',this.$results).first().height();i+=n*this.options.lookahead}t('li[data-filter="false"]',this.$results).each(function(){var n=t(this).position().top+a,r=n+t(this).height();if(r>=a&&i>=n){var s=t(this).data("font"),o=t(this).data("type"),l=(t(this).data("filter"),t(this).data("variants"));l=void 0!=l&&"undefined"!=l&&""!=l?/regular/i.test(l)?":regular":":"+l.toString().split(",")[0]:"","google"==o&&e.addFontLink(s+l)}})}},e.prototype.addFontLink=function(e){var a=this.options.api+e;0===t("link[href*='"+e+"']").length&&"Default"!=e&&t("link:last").after('<link href="'+a+'" rel="stylesheet" type="text/css">')},e}();return this.each(function(){return new o(this,s)})}}(jQuery);var $TS_VCSC_Hotspot_Image_ID,$TS_VCSC_Hotspot_Image_Link;jQuery(document).ready(function(){function t(t){var a=t.find(".ts-wysiwyg-base64-container"),i="true"==a.attr("data-use-tabs")?!0:!1,n="true"==a.attr("data-use-menubar")?!0:!1,r="true"==a.attr("data-use-media")?!0:!1,s="true"==a.attr("data-use-link")?!0:!1,o="true"==a.attr("data-use-textcolor")?!0:!1,l="true"==a.attr("data-use-background")?!0:!1,d="true"==a.attr("data-use-blockquote")?!0:!1,c="true"==a.attr("data-use-lists")?!0:!1,u=parseInt(a.attr("data-use-height")),h="true"==a.attr("data-use-rootblock")?!0:"false"==a.attr("data-use-rootblock")?!1:a.attr("data-use-rootblock");if(i)var f=a.find(".ts-wysiwyg-base64-tabs"),p=f.find(".ts-wysiwyg-base64-visual"),v=f.find(".ts-wysiwyg-base64-html");var g=a.find("textarea.ts-wysiwyg-base64-editor"),m=g.attr("id"),y=tinyMCE.baseURL,j=["wpdialogs","wptextpattern","wpview","wordpress","wpemoji","charmap","hr","fullscreen","paste"];r&&(j.push("wpeditimage"),j.push("wpembed"),j.push("image"),j.push("media")),c&&j.push("lists"),s&&j.push("wplink"),(o||l)&&(j.push("textcolor"),j.push("colorpicker")),j=j.join(" ");{var Q="bold italic underline strikethrough | "+(d?"blockquote ":"")+"alignleft aligncenter alignright alignjustify "+(c?"| bullist numlist outdent indent ":"")+(c?"| link unlink ":"")+"| undo redo",w="formatselect fontselect fontsizeselect "+(o||l?"| "+((o?"forecolor ":"")+(l?"backcolor ":"")):"")+"| charmap | removeformat | media image";tinymce.init({selector:"textarea#"+m,mode:"exact",theme:"modern",skin:"lightgray",content_css:y+"/skins/wordpress/wp-content.css",plugins:[j],external_plugins:{},menubar:n?"edit insert view format tools":!1,toolbar1:Q,toolbar2:w,fontsize_formats:"8px 10px 11px 12px 14px 16px 18px 24px 36px 48px",media_buttons:r,image_advtab:r,height:u,forced_root_block:h,setup:function(t){t.on("init",function(){i&&(v.removeClass("active"),p.addClass("active"))}).on("change",function(){})}})}i&&(p.on("click",function(){e("visual",p,v,m)}),v.on("click",function(){e("html",p,v,m)}))}function e(t,e,a,i){var n=jQuery("textarea#"+i),r=(jQuery(tinymce.get(i).iframeElement),n.siblings(".mce-tinymce.mce-container.mce-panel")),s="";"visual"!=t||e.hasClass("active")?"html"!=t||a.hasClass("active")||(e.removeClass("active"),a.addClass("active"),s=tinymce.get(i).getContent({source_view:!0}),tinymce.get(i).windowManager.close(),n.val(s),n.show(),r.hide(),jQuery(".mce-toolbar-grp.mce-inline-toolbar-grp.mce-container.mce-panel").hide()):(e.addClass("active"),a.removeClass("active"),s=n.val(),tinymce.get(i).setContent(s,{format:"raw"}),tinymce.get(i).windowManager.close(),n.hide(),r.show(),jQuery(".mce-toolbar-grp.mce-inline-toolbar-grp.mce-container.mce-panel").hide())}function a(t){var e=t.find("input.ts-codestar-value[type=hidden]"),a=t.find("input.ts-codestar-checkbox[type=checkbox]"),i=(t.find(".ts-switch-button").attr("data-value"),t.find(".ts-switch-button").attr("data-render"));t.hasClass("ts-composer-switch-initialized")||(a.on("change",function(){var t=jQuery(this).prop("checked");1==t?"numeric"==i?e.val("1").trigger("change"):e.val("true").trigger("change"):0==t&&("numeric"==i?e.val("0").trigger("change"):e.val("false").trigger("change"))}),t.addClass("ts-composer-switch-initialized"))}function i(t){var e=t.find(".ts-tag-editor-wrapper");t.find("input").TS_VCSC_TagEditor({initialTags:[],maxTags:0,maxLength:50,delimiter:e.attr("data-delimiter"),placeholder:e.attr("data-placeholder"),forceLowercase:"true"==e.attr("data-lowercase")?!0:!1,forceNumbersOnly:"true"==e.attr("data-numbersonly")?!0:!1,removeDuplicates:!0,clickDelete:"true"==e.attr("data-clickdelete")?!0:!1,animateDelete:175,sortable:"true"==e.attr("data-sortable")?!0:!1,autocomplete:null,onChange:function(){},beforeTagSave:function(){},beforeTagDelete:function(){}})}function n(t){if(!t.hasClass("ts-image-selector-initialized")){var e=t.find("input.ts-image-select-value"),a=!1;
t.find("label").each(function(){a=jQuery(this).find("input").attr("checked"),"undefined"!=typeof a&&a!==!1?jQuery(this).addClass("ts-image-select-active"):jQuery(this).removeClass("ts-image-select-active")}),t.find("label").on("click",function(){jQuery(this).siblings().removeClass("ts-image-select-active"),jQuery(this).siblings().find("input").prop("checked",!1).removeAttr("checked"),jQuery(this).addClass("ts-image-select-active"),jQuery(this).find("input").prop("checked",!0).attr("checked","checked"),e.val(jQuery(this).find("input").attr("value")).trigger("change")}),t.addClass("ts-image-selector-initialized")}}function r(t){t.find(".ts-nouislider-input-element").each(function(){if(!jQuery(this).hasClass("ts-nouislider-initialized")){var t=parseFloat(jQuery(this).attr("data-min")),e=parseFloat(jQuery(this).attr("data-max")),a=parseFloat(jQuery(this).attr("data-step")),i=parseFloat(jQuery(this).attr("data-value")),n=parseFloat(jQuery(this).attr("data-decimals")),r="true"==jQuery(this).attr("data-extract")?!0:!1,l=jQuery(this).attr("data-unit"),d=jQuery(this).attr("data-class"),c=jQuery(this).attr("id"),u=document.getElementById(c);if("undefined"!=typeof jQuery(this).data("callback"))var h=jQuery(this).attr("data-callback");else var h="";var f=jQuery(this).siblings(".ts-nouislider-input-serial");if("responsive"==d)var p=jQuery(this).parent().siblings(".ts-userpro-width-type-value");else if("fixed"==d)var p=jQuery(this).parent().siblings(".ts-userpro-width-type-value");else if("general"==d&&1==r)var p=jQuery(this).parent().siblings(".ts-nouislider-input-value");else var p=null;var v=jQuery(this).siblings(".ts-nouislider-input-up"),g=jQuery(this).siblings(".ts-nouislider-input-down"),m=(wNumb({prefix:"",decimals:n,thousand:","}),"false"==jQuery(this).attr("data-tooltip")?!1:[wNumb({decimals:n})]),y=o(t,e,a),j="true"==jQuery(this).attr("data-pips")?!0:!1,Q="false"==jQuery(this).attr("data-pips")?"":{mode:"values",density:y[0],values:y[1],stepped:!0,format:wNumb({decimals:n,postfix:l})};noUiSlider.create(u,{range:{min:[t],max:[e]},start:i,handles:1,step:a,tooltips:m,behaviour:"extend-tap",connect:"lower",format:wNumb({mark:".",decimals:n}),pips:Q}),u.noUiSlider.set(i),jQuery(this).addClass("ts-nouislider-initialized"),"rating_maximum"!=h&&jQuery(this).attr("data-init","true"),u.noUiSlider.on("update",function(t){f.val(t),"responsive"==d?p.val(t+"%"):"fixed"==d?p.val(t+"px"):"general"==d&&(1==r&&null!=p?p.val(t+l):null!=p&&p.val(t)),0==r&&s(c,0,t,.25,2,"",h,j)}),u.noUiSlider.on("change",function(t){f.val(t).trigger("change"),"responsive"==d?p.val(t+"%").trigger("change"):"fixed"==d?p.val(t+"px").trigger("change"):"general"==d&&(1==r&&null!=p?p.val(t+l).trigger("change"):null!=p&&p.val(t).trigger("change")),0==r&&s(c,0,t,.25,2,"",h,j)}),v.on("click",function(){$value_current=u.noUiSlider.get(),u.noUiSlider.set([parseFloat($value_current)+parseFloat(a),$value_current[1]])}),g.on("click",function(){$value_current=u.noUiSlider.get(),u.noUiSlider.set([parseFloat($value_current)-parseFloat(a),$value_current[1]])}),f.on("change",function(){u.noUiSlider.set(jQuery(this).val())})}}),t.find(".ts-nouislider-range-element").each(function(){if(!jQuery(this).hasClass("ts-nouislider-initialized")){var t=parseFloat(jQuery(this).attr("data-min")),e=parseFloat(jQuery(this).attr("data-max")),a=parseFloat(jQuery(this).attr("data-step")),i=jQuery(this).attr("data-value"),n=parseFloat(jQuery(this).attr("data-decimals")),r=parseFloat(jQuery(this).attr("data-start")),s=parseFloat(jQuery(this).attr("data-end")),o=jQuery(this).siblings(".ts-nouislider-range-lower-down"),l=jQuery(this).siblings(".ts-nouislider-range-lower-up"),d=jQuery(this).siblings(".ts-nouislider-range-upper-down"),c=jQuery(this).siblings(".ts-nouislider-range-upper-up"),u=jQuery("#"+jQuery(this).parent().attr("data-output")),h=u.find(".ts-nouislider-range-start"),f=u.find(".ts-nouislider-range-end"),p=i.split(","),v="",g=G(5*p[0]*60),m=G(5*p[1]*60);h.html(g),f.html(m);var y=jQuery(this).attr("id"),j=document.getElementById(y),Q=jQuery(this).siblings(".ts-nouislider-input-serial");noUiSlider.create(j,{range:{min:[t],max:[e]},margin:3,connect:!0,orientation:"horizontal",start:[r,s],handles:2,step:a,format:wNumb({mark:".",decimals:n}),pips:{mode:"values",density:4,values:[0,72,144,216,288],stepped:!0,format:wNumb({encoder:function(t){return t=5*t/60},decoder:function(t){return t=60*t/5}})}}),jQuery(this).addClass("ts-nouislider-initialized"),j.noUiSlider.set([p[0],p[1]]),j.noUiSlider.on("update",function(){p=j.noUiSlider.get(),g=G(5*p[0]*60),m=G(5*p[1]*60),Q.val(p[0]+","+p[1]).trigger("change"),h.html(g),f.html(m)}),o.on("click",function(){v=j.noUiSlider.get(),j.noUiSlider.set([parseFloat(v[0])-1,v[1]])}),l.on("click",function(){v=j.noUiSlider.get(),j.noUiSlider.set([parseFloat(v[0])+1,v[1]])}),d.on("click",function(){v=j.noUiSlider.get(),j.noUiSlider.set([v[0],parseInt(v[1])-1])}),c.on("click",function(){v=j.noUiSlider.get(),j.noUiSlider.set([v[0],parseInt(v[1])+1])})}})}function s(t,e,a,i,n,r,s,l){""!=s&&void 0!=s&&"undefined"!=s&&("rating_value"==s?(pe=jQuery(".ts-nouislider-input-serial.nouislider-input-selector.nouislider-input-composer.wpb_vc_param_value.rating_value.nouislider"),pe.attr("max",a),ge=document.getElementById(pe.siblings(".ts-nouislider-input-element").attr("id")),pe.siblings(".ts-nouislider-input-element").hasClass("ts-nouislider-initialized")&&(ye=o(e,a,i),me="false"==pe.siblings(".ts-nouislider-input-element").attr("data-pips")?"":{mode:"values",density:ye[0],values:ye[1],stepped:!0,format:wNumb({decimals:n,postfix:r})},ge.noUiSlider.updateOptions({range:{min:[parseInt(e)],max:[parseInt(a)]},step:.25}),l&&(je=ge.querySelector(".noUi-pips"),je.parentElement.removeChild(je),ge.noUiSlider.pips(me)))):"rating_maximum"==s&&(pe=jQuery(".ts-nouislider-input-serial.nouislider-input-selector.nouislider-input-composer.wpb_vc_param_value.rating_value.nouislider"),ge=document.getElementById(pe.siblings(".ts-nouislider-input-element").attr("id")),ve=jQuery(".ts-nouislider-input-serial.nouislider-input-selector.nouislider-input-composer.wpb_vc_param_value.rating_maximum.nouislider"),fe=pe.siblings(".ts-nouislider-input-element").attr("data-value"),a=ve.val(),pe.attr("max",a),jQuery(ge).siblings(".ts-nouislider-input-max").html(parseInt(a)+".00"),pe.siblings(".ts-nouislider-input-element").hasClass("ts-nouislider-initialized")&&"false"==pe.siblings(".ts-nouislider-input-element").attr("data-init")&&(pe.val(fe),pe.siblings(".ts-nouislider-input-element").attr("data-init","true"),ye=o(e,a,i),me="false"==pe.siblings(".ts-nouislider-input-element").attr("data-pips")?"":{mode:"values",density:ye[0],values:ye[1],stepped:!0,format:wNumb({decimals:n,postfix:r})},ge.noUiSlider.updateOptions({range:{min:[parseInt(e)],max:[parseInt(a)]},step:.25}),jQuery(ge).siblings(".ts-nouislider-input-max").html(parseInt(a)),ge.noUiSlider.set(fe),l&&(je=ge.querySelector(".noUi-pips"),je.parentElement.removeChild(je),ge.noUiSlider.pips(me)))))}function o(t,e,a){var i=[],n=[],r=4,s=!1,o=!1,l=!1,d=!1;if(n.push(t),n.push(e),0>t){var c=(e-t)/2;c%1==0&&(n.push(c+t),s=!0);var u=(e-t)/4;if(u%1==0&&(n.push(u+t),n.push(3*u+t),s=!1,l=!0),!s&&!l){var h=(e-t)/3;h%1==0&&(n.push(h+t),n.push(2*h+t),o=!0)}if(!s&&!o&&!l){var f=(e-t)/5;f%1==0&&(n.push(d+t),n.push(2*d+t),n.push(3*d+t),n.push(4*d+t),d=!0)}}else if(0==t){var c=e/2;c%1==0&&(n.push(c),s=!0);var u=e/4;if(u%1==0&&(n.push(u),n.push(3*u),l=!0),!s&&!l){var h=e/3;h%1==0&&(n.push(h),n.push(2*h),o=!0)}if(!s&&!o&&!l){var f=e/5;f%1==0&&(n.push(f),n.push(2*f),n.push(3*f),n.push(4*f),d=!0)}}else if(t>0){var c=(e-t)/2;c%1==0&&(n.push(c+t),s=!0);var u=(e-t)/4;if(u%1==0&&(n.push(u+t),n.push(3*u+t),s=!1,l=!0),!s&&!l){var h=(e-t)/3;h%1==0&&(n.push(h+t),n.push(2*h+t),o=!0)}if(!o&&!l){var f=(e-t)/5;f%1==0&&(n.push(d+t),n.push(2*d+t),n.push(3*d+t),n.push(4*d+t),d=!0)}}return n.sort(function(t,e){return t>e}),s?r=4:o?r=3:l?r=4:d&&(r=5),i.push(r),i.push(n),i}function l(t){t.find(".ts-font-selector").each(function(){if(!jQuery(this).hasClass("ts-font-selector-initialized")){var t=jQuery(this),e=jQuery(this).find(".ts-font-selector-list"),a=jQuery(this).attr("data-toggle"),i=jQuery(this).attr("data-connector"),n=jQuery(this).attr("data-fontello"),r=jQuery(this).attr("data-text-holder"),s=jQuery(this).attr("data-text-selection"),o=jQuery(this).attr("data-text-search"),l=jQuery(this).attr("data-text-filter"),d=jQuery(this).attr("data-text-favorite"),c=jQuery(this).attr("data-text-standard"),u=jQuery(this).attr("data-text-google"),h=jQuery(this).attr("data-text-variants"),f=jQuery(this).attr("data-text-previewer"),p="true"==jQuery(this).attr("data-filter")?!0:!1,v="true"==jQuery(this).attr("data-search")?!0:!1,g="true"==jQuery(this).attr("data-preview")?!0:!1,m=parseInt(jQuery(this).attr("data-identifier"));e.TS_VCSC_FontSelect({wrapper:t,identifier:m,toggle:a,connector:i,fontello:n,style:"font-select",placeholder:r,selection:s,searchText:o,filterText:l,filterFavorite:d,filterSave:c,filterGoogle:u,variantsText:h,previewText:f,lookahead:4,preview:g,filter:p,search:v}),jQuery(this).addClass("ts-font-selector-initialized")}})}function d(t){{var e=t,a=e.attr("data-randomizer"),i=parseInt(e.attr("data-loadcount")),n=parseInt(e.attr("data-offset")),r=e.attr("data-orderby"),s=e.attr("data-order"),o=0,l=0,d=0,h=0,f=e.find(".ts-advancedlinks-data-title"),p=(e.find(".ts-advancedlinks-data-target"),e.find(".ts-advancedlinks-data-rel"),e.find(".ts-advancedlinks-data-url")),v=e.find(".ts-advancedlinks-data-id"),g=e.find(".ts-advancedlinks-data-name"),m=e.find(".ts-advancedlinks-controls"),y=e.find(".ts-advancedlinks-settings"),j=e.find(".ts-advancedlinks-external-holder"),Q=e.find(".ts-advancedlinks-search-holder"),w=e.find(".ts-advancedlinks-pages-holder"),k=e.find(".ts-advancedlinks-posts-holder"),b=e.find(".ts-advancedlinks-custom-holder"),S=(e.find(".ts-advancedlinks-spinner"),e.find(".ts-advancedlinks-value")),C=e.find(".ts-advancedlinks-toggle"),_=e.find(".ts-advancedlinks-selector"),x=e.find(".ts-advancedlinks-target"),$=e.find(".ts-advancedlinks-rel"),T=e.find(".ts-advancedlinks-title"),F=e.find(".ts-advancedlinks-external"),O=e.find(".ts-advancedlinks-search"),A=e.find(".ts-advancedlinks-pages"),z=e.find(".ts-advancedlinks-posts"),U=e.find(".ts-advancedlinks-custom"),I="true"==C.attr("data-status")?!0:!1,D=_.find("option:selected").attr("value"),M=x.find("option:selected").attr("value"),E=$.find("option:selected").attr("value"),R=T.val(),B=O.val(),L=parseInt(jQuery(".ts-advancedbackup-pages").attr("data-total")),G=parseInt(jQuery(".ts-advancedbackup-posts").attr("data-total")),N=(parseInt(jQuery(".ts-advancedbackup-custom").attr("data-total")),A.find("li").length),V=z.find("li").length;U.find("li").length}if("external"==D)var P=F.val(),H="",Y="",q="",W="";else if("page"==D)var P="",H=e.attr("data-link-id"),Y="",W="",q=e.attr("data-link-name");else if("post"==D)var P="",H="",Y=e.attr("data-link-id"),W="",q=e.attr("data-link-name");else if("custom"==D)var P="",H="",Y="",W=e.attr("data-link-id"),q=e.attr("data-link-name");C.on("click",function(){I="true"==C.attr("data-status")?!0:!1,0==I?(jQuery(".ts-advancedlinks-toggle").each(function(){jQuery(this).attr("id")!=C.attr("id")&&"true"==jQuery(this).attr("data-status")&&(jQuery("#"+jQuery(this).attr("data-settings")).hide(),jQuery(this).attr("data-status","false"))}),A.find("li").remove(),z.find("li").remove(),U.find("li").remove(),jQuery(".ts-advancedbackup-pages").children().clone().appendTo(A),jQuery(".ts-advancedbackup-posts").children().clone().appendTo(z),jQuery(".ts-advancedbackup-custom").children().clone().appendTo(U),y.show(),I=!0):1==I&&(y.hide(),I=!1),C.attr("data-status",I)}),_.on("change",function(){D=_.find("option:selected").attr("value"),f.html(""),p.html(""),v.html(""),g.html(""),P="",H="",Y="",q="","external"==D?(j.show(),O.val("").attr("value","").trigger("keyup"),Q.hide(),w.hide(),k.hide(),b.hide(),P=F.val(),m.find(".ts-advancedlinks-data-set-url").show(),m.find(".ts-advancedlinks-data-set-id").hide(),m.find(".ts-advancedlinks-data-set-name").hide()):"page"==D?(j.hide(),O.val("").attr("value","").trigger("keyup"),Q.show(),w.show(),k.hide(),b.hide(),H=A.find("option:selected").attr("data-id"),q=A.find("option:selected").attr("data-name"),m.find(".ts-advancedlinks-data-set-url").hide(),m.find(".ts-advancedlinks-data-set-id").show(),m.find(".ts-advancedlinks-data-set-name").show()):"post"==D?(j.hide(),O.val("").attr("value","").trigger("keyup"),Q.show(),w.hide(),k.show(),b.hide(),Y=z.find("option:selected").attr("data-id"),q=z.find("option:selected").attr("data-name"),m.find(".ts-advancedlinks-data-set-url").hide(),m.find(".ts-advancedlinks-data-set-id").show(),m.find(".ts-advancedlinks-data-set-name").show()):"custom"==D&&(j.hide(),O.val("").attr("value","").trigger("keyup"),Q.show(),w.hide(),k.hide(),b.show(),W=U.find("option:selected").attr("data-id"),q=U.find("option:selected").attr("data-name"),m.find(".ts-advancedlinks-data-set-url").hide(),m.find(".ts-advancedlinks-data-set-id").show(),m.find(".ts-advancedlinks-data-set-name").show()),u(a,S,F,D,M,E,R,P,H,Y,q,W)}),x.on("change",function(){M=x.find("option:selected").attr("value"),u(a,S,F,D,M,E,R,P,H,Y,q,W)}),$.on("change",function(){E=$.find("option:selected").attr("value"),u(a,S,F,D,M,E,R,P,H,Y,q,W)}),T.on("keyup",function(){R=T.val(),u(a,S,F,D,M,E,R,P,H,Y,q,W)}),F.on("keyup",function(){P=F.val(),u(a,S,F,D,M,E,R,P,H,Y,q,W)}),O.on("keyup",function(){B=O.val(),$value_match=0,"page"==D?(0!=B.length?A.find("li").each(function(){jQuery(this).text().search(new RegExp(B,"gi"))<0?jQuery(this).hide():(jQuery(this).show(),$value_match++)}):(A.find("li").show(),$value_match=N),0==$value_match&&0!=B.length?(w.hide(),O.siblings(".ts-advancedlinks-search-error").show()):(w.show(),O.siblings(".ts-advancedlinks-search-error").hide())):"post"==D?(0!=B.length?z.find("li").each(function(){jQuery(this).text().search(new RegExp(B,"gi"))<0?jQuery(this).hide():(jQuery(this).show(),$value_match++)}):(z.find("li").show(),$value_match=V),0==$value_match&&0!=B.length?(k.hide(),O.siblings(".ts-advancedlinks-search-error").show()):(k.show(),O.siblings(".ts-advancedlinks-search-error").hide())):"custom"==D&&(0!=B.length?U.find("li").each(function(){jQuery(this).text().search(new RegExp(B,"gi"))<0?jQuery(this).hide():(jQuery(this).show(),$value_match++)}):(U.find("li").show(),$value_match=V),0==$value_match&&0!=B.length?(b.hide(),O.siblings(".ts-advancedlinks-search-error").show()):(b.show(),O.siblings(".ts-advancedlinks-search-error").hide()))}),A.on("click","li",function(){H=jQuery(this).attr("data-id"),q=jQuery(this).attr("data-name"),P=jQuery(this).attr("data-link"),R=q,T.val(q).attr("value",q),u(a,S,F,D,M,E,R,P,H,Y,q,W)}),A.on("scroll",function(){if(A.prop("scrollHeight")-A.scrollTop()<=A.height()){if(A.find("li").length>=L)return A.off("scroll"),!1;if(A.hasClass("ts-advancedlinks-ajaxrequest"))return!1;o++,n=(parseInt(jQuery(".ts-advancedbackup-pages").attr("data-requests"))+1)*i,h=parseInt(jQuery(".ts-advancedbackup-pages").attr("data-requests"))+1,c(D,A,i,n,r,s,h)}}),z.on("click","li",function(){Y=jQuery(this).attr("data-id"),q=jQuery(this).attr("data-name"),P=jQuery(this).attr("data-link"),R=q,T.val(q).attr("value",q),u(a,S,F,D,M,E,R,P,H,Y,q,W)}),z.on("scroll",function(){if(z.prop("scrollHeight")-z.scrollTop()<=z.height()){if(z.find("li").length>=G)return z.off("scroll"),!1;if(z.hasClass("ts-advancedlinks-ajaxrequest"))return!1;l++,n=(parseInt(jQuery(".ts-advancedbackup-posts").attr("data-requests"))+1)*i,h=parseInt(jQuery(".ts-advancedbackup-posts").attr("data-requests"))+1,c(D,z,i,n,r,s,h)}}),U.on("click","li",function(){W=jQuery(this).attr("data-id"),q=jQuery(this).attr("data-name"),P=jQuery(this).attr("data-link"),R=q,T.val(q).attr("value",q),u(a,S,F,D,M,E,R,P,H,Y,q,W)}),U.on("scroll",function(){if(U.prop("scrollHeight")-U.scrollTop()<=U.height()){if(U.find("li").length>=G)return U.off("scroll"),!1;if(U.hasClass("ts-advancedlinks-ajaxrequest"))return!1;d++,n=(parseInt(jQuery(".ts-advancedbackup-custom").attr("data-requests"))+1)*i,h=parseInt(jQuery(".ts-advancedbackup-custom").attr("data-requests"))+1,c(D,U,i,n,r,s,h)}}),e.addClass("ts-advanced-link-initialized")}function c(t,e,a,i,n,r,s){e.addClass("ts-advancedlinks-ajaxrequest"),e.parent().find(".ts-advancedlinks-spinner").removeClass("ts-advancedlinks-spinner-hidden").addClass("ts-advancedlinks-spinner-active");{var o=0;jQuery.ajax({url:window.ajaxurl,type:"GET",method:"GET",data:{action:"ts_getpostspages",selector:t,loadcount:a,offset:i,orderby:n,order:r,_vcnonce:window.vcAdminNonce},dataType:"html",context:this,beforeSend:function(){},success:function(a){""!=a&&(e.append(a),"page"==t?(jQuery(".ts-advancedbackup-pages").append(a),o=jQuery(".ts-advancedbackup-pages").find("li").length,jQuery(".ts-advancedbackup-pages").attr("data-offset",i).attr("data-requests",s).attr("data-current",o)):"post"==t?(jQuery(".ts-advancedbackup-posts").append(a),o=jQuery(".ts-advancedbackup-posts").find("li").length,jQuery(".ts-advancedbackup-posts").attr("data-offset",i).attr("data-requests",s).attr("data-current",o)):"custom"==t&&(jQuery(".ts-advancedbackup-custom").append(a),o=jQuery(".ts-advancedbackup-custom").find("li").length,jQuery(".ts-advancedbackup-custom").attr("data-offset",i).attr("data-requests",s).attr("data-current",o))),e.removeClass("ts-advancedlinks-ajaxrequest"),e.parent().find(".ts-advancedlinks-spinner").removeClass("ts-advancedlinks-spinner-active").addClass("ts-advancedlinks-spinner-hidden")},error:function(t,a,i){console.log("Changelogs Ajax Request Error: "+i),e.removeClass("ts-advancedlinks-ajaxrequest"),e.parent().find(".ts-advancedlinks-spinner").removeClass("ts-advancedlinks-spinner-active").addClass("ts-advancedlinks-spinner-hidden")}}).done(function(){}).fail(function(){e.removeClass("ts-advancedlinks-ajaxrequest"),e.parent().find(".ts-advancedlinks-spinner").removeClass("ts-advancedlinks-spinner-active").addClass("ts-advancedlinks-spinner-hidden")})}}function u(t,e,a,i,n,r,s,o,l,d,c,u){var h={},f="",p=e.parent(),v=e.siblings(".ts-advancedlinks-controls"),g=(p.attr("data-text-page"),p.attr("data-text-post"),p.attr("data-text-blank")),m=p.attr("data-text-parent"),y=p.attr("data-text-rel"),j=v.find(".ts-advancedlinks-data-title"),Q=v.find(".ts-advancedlinks-data-target"),w=v.find(".ts-advancedlinks-data-rel"),k=v.find(".ts-advancedlinks-data-url"),b=v.find(".ts-advancedlinks-data-id"),S=v.find(".ts-advancedlinks-data-name");"external"==i?(h.url=o,h.title=s,h.target=n,h.rel=r,h.source=i,h.id="",h.name=""):"page"==i?(h.url=o,h.title=s,h.target=n,h.rel=r,h.source=i,h.id=l,h.name=c):"post"==i?(h.url=o,h.title=s,h.target=n,h.rel=r,h.source=i,h.id=d,h.name=c):"custom"==i&&(h.url=o,h.title=s,h.target=n,h.rel=r,h.source=i,h.id=u,h.name=c),f=_.map(h,function(t,e){return _.isString(t)&&0<t.length?e+":"+encodeURIComponent(t):void 0}).join("|"),e.val(f).attr("data-json",h),j.html(s),"_blank"==n||" _blank"==n||"%20_blank"==n?Q.html(g):(""==n||"_parent"==n||" _parent"==n||" "==n||"%20_parent"==n)&&Q.html(m),w.html(""==r||" "==r?y:r),"external"==i?(k.html(decodeURIComponent(o)),b.html(""),S.html("")):"page"==i?(k.html(decodeURIComponent(o)),a.val(decodeURIComponent(o)),b.html(l),S.html(c)):"post"==i?(k.html(decodeURIComponent(o)),a.val(decodeURIComponent(o)),b.html(d),S.html(c)):"custom"==i&&(k.html(decodeURIComponent(o)),a.val(decodeURIComponent(o)),b.html(u),S.html(c))}function h(t){var e=t.find(".ts-nouislider-input-gradient"),a=t.find(".ts-advanced-gradient-spread"),i=t.find(".ts-advanced-gradient-type"),n=t.find(".ts-advanced-gradient-direction"),r=t.find(".ts-advanced-gradient-shape");e.each(function(){var t=jQuery(this).attr("data-identifier"),e=document.getElementById(jQuery(this).attr("id")),a=jQuery(this).siblings(".ts-advanced-gradient-spread"),i="#ts-advanced-gradient-picker-"+t,n=parseFloat(jQuery(this).attr("data-min")),r=parseFloat(jQuery(this).attr("data-max")),s=parseFloat(jQuery(this).attr("data-step")),o=parseFloat(jQuery(this).attr("data-value")),l=parseFloat(jQuery(this).attr("data-decimals")),d=jQuery(this).siblings(".ts-nouislider-input-gradient-up"),c=jQuery(this).siblings(".ts-nouislider-input-gradient-down");noUiSlider.create(e,{range:{min:[n],max:[r]},start:o,handles:1,step:s,behaviour:"extend-tap",connect:"lower",format:wNumb({mark:".",decimals:l})}),e.noUiSlider.set(o),jQuery(this).addClass("ts-nouislider-initialized"),e.noUiSlider.on("update",function(e){a.val(e);var n=e+"deg";jQuery(i).hasClass("ts-gradient-initialized")&&f(t,n)}),e.noUiSlider.on("change",function(e){a.val(e).trigger("change");var n=e+"deg";jQuery(i).hasClass("ts-gradient-initialized")&&f(t,n)}),d.on("click",function(){$value_current=e.noUiSlider.get(),e.noUiSlider.set([parseInt($value_current)+1,$value_current[1]])}),c.on("click",function(){$value_current=e.noUiSlider.get(),e.noUiSlider.set([parseInt($value_current)-1,$value_current[1]])}),a.on("change",function(){e.noUiSlider.set(jQuery(this).val())})}).promise().done(function(){p(t)}),a.on("change",function(){var t=jQuery(this).attr("data-identifier"),e=jQuery(this).val()+"deg";f(t,e)}),i.on("change",function(){var t=jQuery(this).attr("data-identifier"),e="#ts-advanced-gradient-picker-"+t,a="#ts-advanced-gradient-shape-"+t,i="#ts-advanced-gradient-direction-"+t,n="#ts-advanced-gradient-spread-"+t,r=jQuery(n).val(),s="#ts-advanced-gradient-value-"+t,o="#ts-advanced-gradient-custom-"+t,l=jQuery(this).children("option:selected").val(),d=jQuery(i).children("option:selected").val(),c=jQuery(a).children("option:selected").val();"linear"==l?(jQuery(i).show(),jQuery("#ts-advanced-gradient-direction-label-"+t).show(),"custom"==d?(jQuery(o).show(),jQuery(n).val(r),f(t,r+"deg")):jQuery(e).data("ClassyGradient").setOrientation(d,l,c),jQuery(a).hide(),jQuery("#ts-advanced-gradient-shape-label-"+t).hide()):(jQuery(a).show(),jQuery("#ts-advanced-gradient-shape-label-"+t).show(),jQuery(i).hide(),jQuery("#ts-advanced-gradient-direction-label-"+t).hide(),jQuery(o).hide(),jQuery(e).data("ClassyGradient").setOrientation("",l,c));var u=jQuery(e).data("ClassyGradient").getCSS();jQuery(s).val(u)}),n.on("change",function(){var t=jQuery(this).attr("data-identifier"),e="#ts-advanced-gradient-picker-"+t,a="#ts-advanced-gradient-type-"+t,i="#ts-advanced-gradient-shape-"+t,n="#ts-advanced-gradient-spread-"+t,r=jQuery(n).val(),s="#ts-advanced-gradient-value-"+t,o="#ts-advanced-gradient-custom-"+t,l=jQuery(this).children("option:selected").val(),d=jQuery(i).children("option:selected").val();if("custom"==l)jQuery(o).show(),jQuery(n).val(r),f(t,r+"deg");else{jQuery(o).hide(),jQuery(e).data("ClassyGradient").setOrientation(l,jQuery(a).children("option:selected").val(),d);var c=jQuery(e).data("ClassyGradient").getCSS();jQuery(s).val(c)}}),r.on("change",function(){var t=jQuery(this).attr("data-identifier"),e="#ts-advanced-gradient-picker-"+t,a="#ts-advanced-gradient-shape-"+t,i="#ts-advanced-gradient-spread-"+t,n=(jQuery(i).val(),"#ts-advanced-gradient-value-"+t),r=jQuery(this).children("option:selected").val(),s=jQuery(a).children("option:selected").val();jQuery(e).data("ClassyGradient").setOrientation(r,"radial",s);var o=jQuery(e).data("ClassyGradient").getCSS();jQuery(n).val(o)}),t.addClass("ts-advanced-gradient-initialized")}function f(t,e){var a="#ts-advanced-gradient-picker-"+t,i="#ts-advanced-gradient-value-"+t;jQuery(a).data("ClassyGradient").setOrientation(e,"linear","ellipse");var n=jQuery(a).data("ClassyGradient").getCSS();jQuery(i).val(n)}function p(t){var e=t.attr("data-identifier"),a=("true"==t.attr("data-trianglify")?!0:!1,"#ts-advanced-gradient-picker-"+e),i="true"==t.attr("data-border")?!0:!1,n="true"==t.attr("data-svg")?!0:!1,r="#ts-advanced-gradient-preview-"+e,s="#ts-advanced-gradient-value-"+e,o=t.attr("data-default-color"),l=(t.attr("data-default-type"),t.attr("data-default-shape"),"#ts-advanced-gradient-type-"+e),d="#ts-advanced-gradient-direction-"+e,c="#ts-advanced-gradient-spread-"+e,u="#ts-advanced-gradient-shape-"+e,h="#ts-advanced-gradient-custom-"+e,p=jQuery(d).children("option:selected").val(),v=jQuery(u).children("option:selected").val(),g=jQuery(l).children("option:selected").val(),m=jQuery(s).val(),y="false",j=0,Q=3;if(""!=m){if(-1!=m.indexOf("-moz-linear-gradient"))if(g="linear",-1!=m.indexOf("-moz-linear-gradient(top,")){var w=m.indexOf("-moz-linear-gradient(top,");m=m.substring(w+25),w=m.indexOf(");"),m=m.substring(0,w),p="top"}else if(-1!=m.indexOf("-moz-linear-gradient(left,")){var w=m.indexOf("-moz-linear-gradient(left,");m=m.substring(w+26),w=m.indexOf(");"),m=m.substring(0,w),p="left"}else{var w=m.indexOf("-moz-linear-gradient(");j=m.substring(w+21),m=m.substring(w+21),w=j.indexOf(");"),j=j.substring(0,w),j=j.substr(0,j.indexOf(",")),Q=j.length+1,j=parseInt(j.replace("deg","")),m=m.substring(Q,w),jQuery(c).val(j).trigger("change").trigger("set"),jQuery(h).show(),p="custom",y="true"}if(-1!=m.indexOf("-moz-radial-gradient")){if(-1!=m.indexOf("-moz-radial-gradient(ellipse,")){v="ellipse";var w=m.indexOf("-moz-radial-gradient(ellipse,");m=m.substring(w+29)}else if(-1!=m.indexOf("-moz-radial-gradient(circle,")){v="circle";var w=m.indexOf("-moz-radial-gradient(circle,");m=m.substring(w+28)}else{v="ellipse";var w=m.indexOf("-moz-radial-gradient(");m=m.substring(w+21)}g="radial",y="false",p="vertical",jQuery(c).val(0).trigger("change").trigger("set"),w=m.indexOf(");"),m=m.substring(0,w)}}else m=o;jQuery(l).children("option").each(function(t,e){e.value==g&&jQuery(this).attr("selected",!0)}),jQuery(d).children("option").each(function(t,e){e.value==p&&jQuery(this).attr("selected",!0)}),jQuery(u).children("option").each(function(t,e){e.value==v&&jQuery(this).attr("selected",!0)}),"radial"==g?(jQuery(d).hide(),jQuery("#ts-advanced-gradient-direction-label-"+e).hide(),jQuery(h).hide()):(jQuery(u).hide(),jQuery("#ts-advanced-gradient-shape-label-"+e).hide(),"custom"==p?jQuery(h).show():jQuery(h).hide()),"true"==y&&(p=j+"deg"),jQuery(a).TS_VCSC_ClassyGradient({width:360,height:25,point:10,orientation:p,target:r,gradient:m,type:g,shape:v,svg:n,border:i,onChange:function(t,e){jQuery(s).val(e).attr("value",e)},onInit:function(){}}).promise().done(function(){jQuery(a).addClass("ts-gradient-initialized"),"linear"==g&&"custom"==p&&f(e,j)})}function v(t){var e=t.attr("data-type"),a="true"==t.attr("data-override")?!0:!1;if("border"==e){var i=t.find(".ts-advanced-styling-preview-container"),n=t.find(".ts-advanced-styling-main-container"),r=i.find(".ts-advanced-styling-preview-button"),s=r.attr("data-label-show"),o=r.attr("data-label-hide");if(r.on("click",function(){n.hasClass("ts-advanced-styling-main-container-show")?(n.removeClass("ts-advanced-styling-main-container-show").addClass("ts-advanced-styling-main-container-hide"),r.find("div").text(s)):(n.removeClass("ts-advanced-styling-main-container-hide").addClass("ts-advanced-styling-main-container-show"),r.find("div").text(o))}),a){var l=n.find(".ts-advanced-styling-override-container").find("select"),d=n.find(".ts-advanced-styling-side-container"),c=l.attr("data-value");d.each(function(){"all"==c&&"all"==jQuery(this).attr("data-position")?jQuery(this).show():"single"==c&&"all"!=jQuery(this).attr("data-position")?jQuery(this).show():jQuery(this).hide()}),l.on("change",function(){c=l.find(":selected").val(),l.attr("data-value",c),d.each(function(){"all"==c&&"all"==jQuery(this).attr("data-position")?(jQuery(this).show(),jQuery(this).find("input, select").each(function(){"color"==jQuery(this).attr("data-type")?jQuery(this).wpColorPicker("color",jQuery(this).val()):jQuery(this).trigger("change")})):"single"==c&&"all"!=jQuery(this).attr("data-position")?jQuery(this).show():jQuery(this).hide()})})}}y(t),j(t,"",""),t.addClass("ts-advanced-styling-initialized"),t.on("change",".ts-advanced-styling-input, .ts-advanced-styling-style-selector, .ts-advanced-styling-unit-width-selector, .ts-advanced-styling-unit-radius-selector, .ts-advanced-styling-colorpicker",function(){var t=jQuery(this).closest(".ts-advanced-styling"),i=(t.find(".ts-advanced-styling-value").val(),"true"==jQuery(this).closest(".ts-advanced-styling-side-container").attr("data-global")?!0:!1);a&&i&&"border"==e?m(t,jQuery(this),i,"",""):j(t,i,"","")}),0!=t.find(".ts-advanced-styling-color-section").length?t.find(".ts-advanced-styling-color-section").each(function(){var i=jQuery(this).find(".ts-advanced-styling-colorpicker"),n=jQuery(this).siblings(".ts-advanced-styling-style-section"),r=jQuery(this).siblings(".ts-advanced-styling-unit-radius-section");i.wpColorPicker({change:function(){var t="true"==jQuery(this).attr("data-trigger")?!0:!1;if(t){var i=jQuery(this).wpColorPicker("color"),n=jQuery(this).closest(".ts-advanced-styling"),r="true"==jQuery(this).closest(".ts-advanced-styling-side-container").attr("data-global")?!0:!1,s=jQuery(this).attr("data-group");a&&r&&"border"==e?m(n,jQuery(this),r,i,s):j(n,r,i,s)}},clear:function(){var t="transparent",i=jQuery(this).closest(".ts-advanced-styling"),n="true"==jQuery(this).closest(".ts-advanced-styling-side-container").attr("data-global")?!0:!1,r=jQuery(this).attr("data-group");a&&n&&"border"==e?m(i,jQuery(this),n,t,r):j(i,n,t,r)}}).promise().done(function(){if(n.length>0||r.length>0){var t=i.parent().siblings(".wp-color-result");t.TS_VCSC_WatchDOMChange({properties:"attr_class",interval:250,id:"_watchcolorpicker"+(new Date).getTime(),watchChildren:!1,callback:function(e,a){e.props[a],e.vals[a];t.hasClass("wp-picker-open")?(n.hide(),r.hide()):(n.show(),r.show())}})}}).promise().done(function(){"border"==e&&a&&g(t,l,d)})}):"border"==e&&a&&g(t,l,d)}function g(t,e,a){var i=!1,n=[],r=[],s=[],o=[],l=[],d=[],c=[];t.find('input[data-input="input"][data-global="false"], select[data-input="select"][data-global="false"]').each(function(){"width"==jQuery(this).attr("data-type")?r.push(jQuery(this).val()):"unit-width"==jQuery(this).attr("data-type")?s.push(jQuery(this).find(":selected").val()):"style"==jQuery(this).attr("data-type")?o.push(jQuery(this).val()):"color"==jQuery(this).attr("data-type")?l.push(jQuery(this).val()):"radius"==jQuery(this).attr("data-type")?d.push(jQuery(this).val()):"unit-radius"==jQuery(this).attr("data-type")&&c.push(jQuery(this).find(":selected").val())}),n.push(r.every(function(t,e,a){return t===a[0]})),n.push(s.every(function(t,e,a){return t===a[0]})),n.push(o.every(function(t,e,a){return t===a[0]})),n.push(l.every(function(t,e,a){return t===a[0]})),n.push(d.every(function(t,e,a){return t===a[0]})),n.push(c.every(function(t,e,a){return t===a[0]})),-1!=jQuery.inArray(!0,n)&&(n=n.every(function(t,e,a){return t===a[0]}),n&&(i=!0)),i?(r=r[0],s=s[0],o=o[0],l=l[0],d=d[0],c=c[0],e.find('option[value="all"]').prop("selected",!0),e.attr("data-value","all"),t.find('input[data-input="input"][data-global="true"], select[data-input="select"][data-global="true"]').each(function(){"width"==jQuery(this).attr("data-type")?jQuery(this).val(r):"unit-width"==jQuery(this).attr("data-type")?jQuery(this).find('option[value="'+s+'"]').prop("selected",!0):"style"==jQuery(this).attr("data-type")?jQuery(this).find('option[value="'+o+'"]').prop("selected",!0):"color"==jQuery(this).attr("data-type")?(jQuery(this).attr("data-trigger","false"),jQuery(this).wpColorPicker("color",l),jQuery(this).attr("data-trigger","true")):"radius"==jQuery(this).attr("data-type")?jQuery(this).val(d):"unit-radius"==jQuery(this).attr("data-type")&&jQuery(this).find('option[value="'+c+'"]').prop("selected",!0)})):(e.find('option[value="single"]').prop("selected",!0),e.attr("data-value","single")),r="",s="",o="",l="",d="",c="",a.each(function(){"all"==e.attr("data-value")&&"all"==jQuery(this).attr("data-position")?jQuery(this).show():"single"==e.attr("data-value")&&"all"!=jQuery(this).attr("data-position")?jQuery(this).show():jQuery(this).hide()})}function m(t,e,a,i){var n=e.attr("data-type"),r=e.attr("data-input");if("select"==r)var s=e.find(":selected").val();else if("color"==n)var s=i;else var s=e.val();t.find(r+'[data-type="'+n+'"][data-global="false"]').each(function(){"select"==r?jQuery(this).find('option[value="'+s+'"]').prop("selected",!0):(jQuery(this).attr("value",s).val(s),"color"==n&&(jQuery(this).attr("data-trigger","false"),jQuery(this).wpColorPicker("color",s),jQuery(this).attr("data-trigger","true")))
}),j(t,a,"","")}function y(t){{var e=t.find(".ts-advanced-styling-value").val(),a="true"==t.attr("data-show-style")?!0:!1,i="true"==t.attr("data-show-color")?!0:!1;"true"==t.attr("data-show-unit-width")?!0:!1,"true"==t.attr("data-show-unit-radius")?!0:!1}if(""!=e){var n=e.split("|"),r=t.attr("data-unit-width"),s=t.attr("data-unit-radius");if(a){var o=n[0].split(";");jQuery.each(o,function(e,a){var i=a.split(":");t.find(".ts-advanced-styling-style-selector[data-group='"+i[0]+"']").val(i[1])});var l=n[1].split(";");jQuery.each(l,function(e,a){""!=a&&t.find(".ts-advanced-styling-inputs").each(function(e,i){var n=a.split(":"),o=jQuery(i).attr("data-group"),l=jQuery(i).attr("data-type");if(o==n[0]){var d=n[1].match(/(\d+)/g);"width"==l?(r=n[1].replace(d,""),jQuery(i).val(d).attr("data-unit",r),t.find(".ts-advanced-styling-unit-width-selector[data-group='"+o+"']").val(r),t.find(".ts-advanced-styling-unit-width-label[data-group='"+o+"']").find("label").text(r)):"radius"==l&&(s=n[1].replace(d,""),jQuery(i).val(d).attr("data-unit",s),t.find(".ts-advanced-styling-unit-radius-selector[data-group='"+o+"']").val(s),t.find(".ts-advanced-styling-unit-radius-label[data-group='"+o+"']").find("label").text(s))}})})}else{var d=e.split(";");jQuery.each(d,function(e,a){""!=a&&t.find(".ts-advanced-styling-inputs").each(function(e,i){var n=a.split(":"),o=jQuery(i).attr("data-type"),l=jQuery(i).attr("data-group");if(l==n[0]){if("margin-left"==l||"margin-right"==l)if("auto"==n[1])var d="auto";else var d=n[1].match(/\-?\d+(\.\d+)?/g);else var d=n[1].match(/\-?\d+(\.\d+)?/g);"width"==o?"auto"==d?(r="auto",t.find(".ts-advanced-styling-input[data-auto='checkbox-"+l+"']").prop("checked",!0),t.find(".ts-advanced-styling-input[data-auto='checkbox-"+l+"']").attr("checked",!0)):(r=n[1].replace(d,""),jQuery(i).val(d).attr("data-unit",r),t.find(".ts-advanced-styling-unit-width-selector[data-group='"+l+"']").val(r),t.find(".ts-advanced-styling-unit-width-label[data-group='"+l+"']").find("label").text(r),t.find(".ts-advanced-styling-input[data-auto='checkbox-"+l+"']").prop("checked",!1),t.find(".ts-advanced-styling-input[data-auto='checkbox-"+l+"']").removeAttr("checked")):"radius"==o&&(s=n[1].replace(d,""),jQuery(i).val(d).attr("data-unit",s),t.find(".ts-advanced-styling-unit-radius-selector[data-group='"+l+"']").val(s),t.find(".ts-advanced-styling-unit-radius-label[data-group='"+l+"']").find("label").text(s))}})})}if(i){var c=e.split("|"),u=c[2].split(";");jQuery.each(u,function(e,a){var i=a.split(":"),n=t.find(".ts-advanced-styling-colorpicker[data-group='"+i[0]+"']");n.val(i[1]),n.parent().siblings("a.wp-color-result").css({"background-color":i[1]})})}}else t.find(".ts-advanced-styling-inputs").each(function(t,e){var a=jQuery(e).attr("data-default");jQuery(e).val(a)})}function j(t,e,a,i){var n="",r="",s=t.find(".ts-advanced-styling-value").attr("data-unit"),o=t.attr("data-type"),l="true"==t.attr("data-show-preview")?!0:!1,d="true"==t.attr("data-show-style")?!0:!1,c="true"==t.attr("data-show-color")?!0:!1,u="true"==t.attr("data-show-unit-width")?!0:!1,h="true"==t.attr("data-show-unit-radius")?!0:!1;if(t.find(".ts-advanced-styling-value").val(n),u&&t.find(".ts-advanced-styling-unit-width-selector").each(function(){var e=jQuery(this).find("option:selected").val(),a=jQuery(this).attr("data-group");t.find(".ts-advanced-styling-input[data-group='"+a+"']").attr("data-unit",e),t.find(".ts-advanced-styling-unit-width-label[data-group='"+a+"']").find("label").text(e),s=e}),h&&t.find(".ts-advanced-styling-unit-radius-selector").each(function(){var e=jQuery(this).find("option:selected").val(),a=jQuery(this).attr("data-group");t.find(".ts-advanced-styling-input[data-group='"+a+"']").attr("data-unit",e),t.find(".ts-advanced-styling-unit-radius-label[data-group='"+a+"']").find("label").text(e),s=e}),d){var f=t.find(".ts-advanced-styling-style-selector").length;t.find(".ts-advanced-styling-style-selector").each(function(t){var e=jQuery(this).find("option:selected").val(),a=jQuery(this).attr("data-group");n=t+1==f?n+a+":"+e+";|":n+a+":"+e+";",r=r+a+":"+e+";"})}t.find(".ts-advanced-styling-inputs").each(function(t,e){var a=jQuery(e).attr("type");if("checkbox"==a){var i=jQuery("#"+jQuery(e).attr("data-cross")),s=jQuery(e).prop("checked"),o="";s?(n=n+jQuery(e).attr("data-group")+":auto;",r=r+jQuery(e).attr("data-group")+":auto;",i.find("input").attr("disabled","disabled").addClass("ts-advanced-styling-input-disabled").attr("type","text")):i.find("input").removeAttr("disabled").removeClass("ts-advanced-styling-input-disabled").attr("type","number")}else{var s=jQuery(e).val(),o=jQuery(e).attr("data-unit");if(jQuery.isNumeric(s)){if(s.match(/^[0-9-]+$/))var l=jQuery(e).attr("data-group")+":"+s+o+";";else var l=jQuery(e).attr("data-group")+":"+parseInt(jQuery(e).attr("data-default"))+o+";";n+=l,r+=l}}}),c&&t.find(".ts-advanced-styling-colorpicker").each(function(t){var e=jQuery(this).attr("data-group");if("undefined"==typeof a&&null==a||e!=i)var s=jQuery(this).val();else var s=a;""!=s&&(n=0==t?n+"|"+e+":"+s+";":n+e+":"+s+";",r=r+e+":"+s+";")}),"border"==o&&l&&t.find(".ts-advanced-styling-preview-container").attr("style",r),t.find(".ts-advanced-styling-value").val(n)}function Q(t){t.each(function(){var e=jQuery(this).find(".ts-viewportoffset-type-selector"),a=jQuery(this).find(".ts-viewportoffset-percentage-nouislider-input-slider"),i=jQuery(this).find(".ts-viewportoffset-pixels-nouislider-input-slider"),n=jQuery(this).find(".ts-viewportoffset-final-value"),r=e.find("option:selected").attr("data-value"),s=n.val(),o=a.find(".ts-viewportoffset-nouislider-input-percentage"),l=document.getElementById(o.attr("id")),d=a.find(".ts-viewportoffset-nouislider-serial"),c=a.find(".ts-viewportoffset-nouislider-input-up"),u=a.find(".ts-viewportoffset-nouislider-input-down"),h=parseFloat(o.attr("data-min")),f=parseFloat(o.attr("data-max")),p=parseFloat(o.attr("data-step")),v=parseFloat(o.attr("data-value")),g=parseFloat(o.attr("data-decimals"));noUiSlider.create(l,{range:{min:[h],max:[f]},start:v,handles:1,step:p,behaviour:"extend-tap",connect:"lower",format:wNumb({mark:".",decimals:g})}),l.noUiSlider.set(v),o.addClass("ts-nouislider-initialized"),l.noUiSlider.on("update",function(t){d.val(t),n.val(t+"%")}),l.noUiSlider.on("change",function(t){d.val(t),n.val(t+"%").trigger("change")}),c.on("click",function(){$value_current=l.noUiSlider.get(),l.noUiSlider.set([parseInt($value_current)+p,$value_current[1]])}),u.on("click",function(){$value_current=l.noUiSlider.get(),l.noUiSlider.set([parseInt($value_current)-p,$value_current[1]])}),d.on("change",function(){l.noUiSlider.set(jQuery(this).val()),n.val(jQuery(this).val()+"%")});var m=i.find(".ts-viewportoffset-nouislider-input-pixels"),y=document.getElementById(m.attr("id")),j=i.find(".ts-viewportoffset-nouislider-serial"),Q=i.find(".ts-viewportoffset-nouislider-input-up"),w=i.find(".ts-viewportoffset-nouislider-input-down"),k=parseFloat(m.attr("data-min")),b=parseFloat(m.attr("data-max")),S=parseFloat(m.attr("data-step")),C=parseFloat(m.attr("data-value")),_=parseFloat(m.attr("data-decimals"));noUiSlider.create(y,{range:{min:[k],max:[b]},start:C,handles:1,step:S,behaviour:"extend-tap",connect:"lower",format:wNumb({mark:".",decimals:_})}),y.noUiSlider.set(C),m.addClass("ts-nouislider-initialized"),y.noUiSlider.on("update",function(t){j.val(t),n.val(t)}),y.noUiSlider.on("change",function(t){j.val(t),n.val(t).trigger("change")}),Q.on("click",function(){$value_current=y.noUiSlider.get(),y.noUiSlider.set([parseInt($value_current)+S,$value_current[1]])}),w.on("click",function(){$value_current=y.noUiSlider.get(),y.noUiSlider.set([parseInt($value_current)-S,$value_current[1]])}),j.on("change",function(){y.noUiSlider.set(jQuery(this).val()),n.val(jQuery(this).val())}),e.on("change",function(){r=e.find("option:selected").attr("data-value"),"percentage"==r?(a.show(),i.hide(),d.trigger("change")):"pixels"==r?(a.hide(),i.show(),j.trigger("change")):"bottom-in-view"==r&&(a.hide(),i.hide(),n.val("bottom-in-view").trigger("change"))}),n.val(s),t.addClass("ts-viewportoffset-type-initialized")})}function w(t){t.each(function(){var e=jQuery(this).find(".wpb_vc_param_value.wpb-select.css3animations"),a=jQuery(this).find(".ts-css3-animations-preview").find("span"),i=jQuery(this).attr("data-connector"),n=(jQuery(this).attr("data-prefix"),e.find("option:selected").attr("data-name"));0!=i.length&&jQuery("#"+i).val(n),e.on("change",function(t){var e=jQuery(this).val(),n=t.which||t.key;if(void 0!=n&&"undefined"!=n&&38!=n&&40!=n)return!1;jQuery(this).attr("data-option",e);var r=jQuery(this).find("option:selected").attr("data-value"),s=jQuery(this).find("option:selected").attr("data-group"),o=jQuery(this).find("option:selected").attr("data-name");"Standard Visual Composer"==s?a.removeClass().addClass("wpb_start_animation wpb_"+r).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){jQuery(this).removeClass().addClass("wpb_hover_animation  wpb_"+r)}):a.removeClass().addClass("ts-viewport-css-"+r+" ts-animation-frame").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){jQuery(this).removeClass().addClass("ts-hover-css-"+r+" ts-animation-frame")}),0!=i.length&&jQuery("#"+i).val(o)}),t.addClass("ts-css3-animations-initialized")})}function k(t){t.each(function(){var e=jQuery(this).find(".wpb_vc_param_value.wpb-select.livepreview"),a=jQuery(this).attr("data-preview"),i=jQuery(this).attr("data-connector"),n=e.find("option:selected").attr("data-name"),r=jQuery(this).find(".ts-live-preview-display");0!=i.length&&jQuery("#"+i).val(n),"preloaders"==a&&(-1==e.find("option:selected").attr("data-value")||"-1"==e.find("option:selected").attr("data-value")?r.hide():r.show(),r.find(".ts-preloader-animation-"+e.find("option:selected").attr("data-value")).addClass("ts-live-preview-active")),e.on("change keydown keyup",function(t){var e=jQuery(this).val(),s=t.which||t.key;return void 0!=s&&"undefined"!=s&&38!=s&&40!=s?!1:(jQuery(this).attr("data-option",e),"preloaders"==a&&(-1==e||"-1"==e?r.hide():r.show(),r.find(".ts-preloader-animation-main").removeClass("ts-live-preview-active").addClass("ts-live-preview-hidden"),r.find(".ts-preloader-animation-"+e).addClass("ts-live-preview-active")),void(0!=i.length&&jQuery("#"+i).val(n)))}),t.addClass("ts-live-preview-initialized")})}function b(t){var e=t.find(".ts-devicetypes-datastring").val(),a=new Object;if(""!=e){var i=e.split(";");jQuery.each(i,function(e,i){""!=i&&t.find(".ts-devicetypes-item-input").each(function(t,e){var n=i.split(":"),r=jQuery(e).attr("data-id"),s=jQuery(e).siblings(".ts-nouislider-devicetype-element"),o=s.attr("id"),l=document.getElementById(o),d=(s.attr("data-type"),jQuery(e)),c=s.siblings(".ts-nouislider-input-up"),u=s.siblings(".ts-nouislider-input-down");if(r==n[0]&&!s.hasClass("ts-nouislider-initialized")){var h=jQuery(e).attr("data-unit"),f=n[1].split(h);jQuery(e).val(f[0]),a[r]=f[0],s.attr("data-value",f[0]);var p=parseFloat(s.attr("data-min")),v=parseFloat(s.attr("data-max")),g=parseFloat(s.attr("data-step")),m=parseFloat(s.attr("data-value")),y=parseFloat(s.attr("data-decimals")),j=s.attr("data-unit");noUiSlider.create(l,{range:{min:[p],max:[v]},start:m,handles:1,step:g,behaviour:"extend-tap",connect:"lower",format:wNumb({mark:".",decimals:y}),pips:{mode:"positions",density:4,values:[0,25,50,75,100],stepped:!0,format:wNumb({decimals:y,postfix:j})}}),s.addClass("ts-nouislider-initialized"),l.noUiSlider.set(m),l.noUiSlider.on("update",function(t){if(d.val(t),s.siblings(".ts-nouislider-serial").hasClass("ts-devicetypes-item-input")){var e=s.siblings(".ts-nouislider-serial").closest(".ts-devicetypes-container");S(e)}}),l.noUiSlider.on("change",function(t){if(d.val(t).trigger("change"),s.siblings(".ts-nouislider-serial").hasClass("ts-devicetypes-item-input")){var e=s.siblings(".ts-nouislider-serial").closest(".ts-devicetypes-container");S(e)}}),c.on("click",function(){$value_current=l.noUiSlider.get(),l.noUiSlider.set([parseInt($value_current)+g,$value_current[1]])}),u.on("click",function(){$value_current=l.noUiSlider.get(),l.noUiSlider.set([parseInt($value_current)-g,$value_current[1]])}),d.on("change",function(){l.noUiSlider.set(jQuery(this).val())})}})}),Object.size=function(t){var e,a=0;for(e in t)t.hasOwnProperty(e)&&a++;return a};{Object.size(a)}}else{var n=0;t.find(".ts-devicetypes-item-input").each(function(t,e){var a=jQuery(e).attr("data-default");""!=a&&(jQuery(e).val(a),n+=1)})}}function S(t){var e="";t.find(".ts-devicetypes-item-input").each(function(t,a){var i=jQuery(a).attr("data-unit"),n=jQuery(a).val();if(jQuery.isNumeric(n)){if(n.match(/^[0-9]+$/))var r=jQuery(a).attr("data-id")+":"+jQuery(a).val()+i+";";e+=r}}),t.find(".ts-devicetypes-datastring").val(e)}function C(t){var e=t.find(".ts-devicetypes-toggle");e.on("click",function(){var t=jQuery(this),e=t.find(".ts-devicetypes-toggle-icon"),a=jQuery("#"+t.attr("data-container")),i=t.attr("data-toggle"),n=t.siblings(".ts-devicetypes-subtypes");switch(i){case"expanded":t.attr("data-toggle","collapsed"),e.removeClass("dashicons-arrow-up-alt2").addClass("dashicons-arrow-down-alt2"),a.removeClass("ts-devicetypes-container-open").addClass("ts-devicetypes-container-closed"),n.hide();break;case"collapsed":t.attr("data-toggle","expanded"),e.removeClass("dashicons-arrow-down-alt2").addClass("dashicons-arrow-up-alt2"),a.removeClass("ts-devicetypes-container-closed").addClass("ts-devicetypes-container-open"),n.show();break;default:t.attr("data-toggle","collapsed"),e.removeClass("dashicons-arrow-up-alt2").addClass("dashicons-arrow-down-alt2"),a.removeClass("ts-devicetypes-container-open").addClass("ts-devicetypes-container-closed"),n.hide()}})}function x(t){var e=t.find(".ts-screensizes-datastring").val(),a=new Object;if(""!=e){var i=e.split(";");jQuery.each(i,function(e,i){""!=i&&t.find(".ts-screensizes-item-input").each(function(t,e){var n=i.split(":"),r=jQuery(e).attr("data-id"),s=jQuery(e).siblings(".ts-nouislider-devicetype-element"),o=s.attr("id"),l=document.getElementById(o),d=(s.attr("data-type"),jQuery(e)),c=s.siblings(".ts-nouislider-input-up"),u=s.siblings(".ts-nouislider-input-down");if(r==n[0]&&!s.hasClass("ts-nouislider-initialized")){var h=jQuery(e).attr("data-unit"),f=n[1].split(h);jQuery(e).val(f[0]),a[r]=f[0],s.attr("data-value",f[0]);var p=parseFloat(s.attr("data-min")),v=parseFloat(s.attr("data-max")),g=parseFloat(s.attr("data-step")),m=parseFloat(s.attr("data-value")),y=parseFloat(s.attr("data-decimals")),j=s.attr("data-unit");noUiSlider.create(l,{range:{min:[p],max:[v]},start:m,handles:1,step:g,behaviour:"extend-tap",connect:"lower",format:wNumb({mark:".",decimals:y}),pips:{mode:"positions",density:4,values:[0,25,50,75,100],stepped:!0,format:wNumb({decimals:y,postfix:j})}}),s.addClass("ts-nouislider-initialized"),l.noUiSlider.set(m),l.noUiSlider.on("update",function(t){if(d.val(t),s.siblings(".ts-nouislider-serial").hasClass("ts-screensizes-item-input")){var e=s.siblings(".ts-nouislider-serial").closest(".ts-screensizes-container");$(e)}}),l.noUiSlider.on("change",function(t){if(d.val(t).trigger("change"),s.siblings(".ts-nouislider-serial").hasClass("ts-screensizes-item-input")){var e=s.siblings(".ts-nouislider-serial").closest(".ts-screensizes-container");$(e)}}),c.on("click",function(){$value_current=l.noUiSlider.get(),l.noUiSlider.set([parseInt($value_current)+g,$value_current[1]])}),u.on("click",function(){$value_current=l.noUiSlider.get(),l.noUiSlider.set([parseInt($value_current)-g,$value_current[1]])}),d.on("change",function(){l.noUiSlider.set(jQuery(this).val())})}})}),Object.size=function(t){var e,a=0;for(e in t)t.hasOwnProperty(e)&&a++;return a};{Object.size(a)}}else{var n=0;t.find(".ts-screensizes-item-input").each(function(t,e){var a=jQuery(e).attr("data-default");""!=a&&(jQuery(e).val(a),n+=1)})}}function $(t){var e="";t.find(".ts-screensizes-item-input").each(function(t,a){var i=jQuery(a).attr("data-unit"),n=jQuery(a).val();if(jQuery.isNumeric(n)){if(n.match(/^[0-9]+$/))var r=jQuery(a).attr("data-id")+":"+jQuery(a).val()+i+";";e+=r}}),t.find(".ts-screensizes-datastring").val(e)}function T(t){var e=t.find(".ts-screensizes-toggle");e.on("click",function(){var t=jQuery(this),e=t.find(".ts-screensizes-toggle-icon"),a=jQuery("#"+t.attr("data-container")),i=t.attr("data-toggle"),n=t.siblings(".ts-screensizes-subtypes");switch(i){case"expanded":t.attr("data-toggle","collapsed"),e.removeClass("dashicons-arrow-up-alt2").addClass("dashicons-arrow-down-alt2"),a.removeClass("ts-screensizes-container-open").addClass("ts-screensizes-container-closed"),n.hide();break;case"collapsed":t.attr("data-toggle","expanded"),e.removeClass("dashicons-arrow-down-alt2").addClass("dashicons-arrow-up-alt2"),a.removeClass("ts-screensizes-container-closed").addClass("ts-screensizes-container-open"),n.show();break;default:t.attr("data-toggle","collapsed"),e.removeClass("dashicons-arrow-up-alt2").addClass("dashicons-arrow-down-alt2"),a.removeClass("ts-screensizes-container-open").addClass("ts-screensizes-container-closed"),n.hide()}})}function F(t){var e,a,i,n,r,s=$TS_VCSC_Hotspot_Image_Link,o=t.find(".ts-image-hotspot-container-preview"),l=t.find(".ts-nouislider-hotspot-slider"),d=o.find(".ts-image-hotspot-image-preview"),c=(o.find(".ts-image-hotspot-holder-preview"),d.attr("data-default")),u=t.find(".ts-nouislider-hotspot-value"),h=l.find(".ts-input-hotspot-horizontal"),f=l.find(".ts-input-hotspot-vertical"),p=t.find(".ts-image-hotspot-single-preview");d.fadeOut(),""!=s?d.attr("src",s):d.attr("src",c),d.load(function(){d.fadeIn().promise().done(function(){setTimeout(function(){var t=d.width(),i=d.height();o.css("width",t+"px").css("height",i+"px");Math.round((t-15)/t*100),Math.round((i-15)/i*100);"undefined"!=typeof jQuery.fn.draggable&&(p.draggable({containment:"parent",cursor:"move",snap:"parent"}),p.on("dragstop",function(t,i){O(t,i,o,h,f,e,a)}))},500)})}),t.find(".ts-nouislider-hotspot-horizontal").each(function(){if(jQuery(this).hasClass("ts-nouislider-initialized"))return!1;var t=jQuery(this).attr("id");e=document.getElementById(t);{var a=jQuery(this).siblings(".ts-nouislider-serial"),s=jQuery(this).siblings(".ts-nouislider-input-up"),o=jQuery(this).siblings(".ts-nouislider-input-down"),l=parseFloat(jQuery(this).attr("data-min")),d=parseFloat(jQuery(this).attr("data-max")),c=parseFloat(jQuery(this).attr("data-step")),v=parseFloat(jQuery(this).attr("data-value")),g=parseFloat(jQuery(this).attr("data-decimals"));jQuery(this).attr("data-position"),jQuery(this).attr("data-unit")}noUiSlider.create(e,{range:{min:[l],max:[d]},start:v,handles:1,step:c,behaviour:"extend-tap",connect:"lower",format:wNumb({mark:".",decimals:g})}),jQuery(this).addClass("ts-nouislider-initialized"),e.noUiSlider.on("update",function(t){a.val(t),p.css("left",parseInt(t)+"%"),i=h.val(),n=f.val(),r=i+","+n,u.val(r)}),e.noUiSlider.on("change",function(t){a.val(t).trigger("change"),p.css("left",parseInt(t)+"%"),i=h.val(),n=f.val(),r=i+","+n,u.val(r)}),s.on("click",function(){$value_current=e.noUiSlider.get(),e.noUiSlider.set([parseInt($value_current)+c,$value_current[1]])}),o.on("click",function(){$value_current=e.noUiSlider.get(),e.noUiSlider.set([parseInt($value_current)-c,$value_current[1]])}),a.on("change",function(){e.noUiSlider.set(jQuery(this).val())})}),t.find(".ts-nouislider-hotspot-vertical").each(function(){if(jQuery(this).hasClass("ts-nouislider-initialized"))return!1;var t=jQuery(this).attr("id");a=document.getElementById(t);{var e=jQuery(this).siblings(".ts-nouislider-serial"),s=jQuery(this).siblings(".ts-nouislider-input-up"),o=jQuery(this).siblings(".ts-nouislider-input-down"),l=parseFloat(jQuery(this).attr("data-min")),d=parseFloat(jQuery(this).attr("data-max")),c=parseFloat(jQuery(this).attr("data-step")),v=parseFloat(jQuery(this).attr("data-value")),g=parseFloat(jQuery(this).attr("data-decimals"));jQuery(this).attr("data-position"),jQuery(this).attr("data-unit")}noUiSlider.create(a,{range:{min:[l],max:[d]},start:v,handles:1,step:c,behaviour:"extend-tap",connect:"lower",format:wNumb({mark:".",decimals:g})}),jQuery(this).addClass("ts-nouislider-initialized"),a.noUiSlider.on("update",function(t){e.val(t),p.css("top",parseInt(t)+"%"),i=h.val(),n=f.val(),r=i+","+n,u.val(r)}),a.noUiSlider.on("change",function(t){e.val(t).trigger("change"),p.css("top",parseInt(t)+"%"),i=h.val(),n=f.val(),r=i+","+n,u.val(r)}),s.on("click",function(){$value_current=a.noUiSlider.get(),a.noUiSlider.set([parseInt($value_current)+c,$value_current[1]])}),o.on("click",function(){$value_current=a.noUiSlider.get(),a.noUiSlider.set([parseInt($value_current)-c,$value_current[1]])}),e.on("change",function(){a.noUiSlider.set(jQuery(this).val())})}),t.addClass("ts-image-hotspot-initialized")}function O(t,e,a,i,n,r,s){var o=parseInt(e.position.left),l=parseInt(e.position.top),d=a.innerWidth(),c=a.innerHeight(),u=Math.round(o/d*100),h=Math.round(l/c*100);i.val(u),r.noUiSlider.set(u),n.val(h),s.noUiSlider.set(h)}function A(t){t.find(".ts-nouislider-time-element").each(function(){z(jQuery(this))}),t.find(".ts-timeonly-picker-element").each(function(){U(jQuery(this))}),t.find(".ts-dateonly-picker-element").each(function(){I(jQuery(this))}),t.find(".ts-datetime-picker-element").each(function(){D(jQuery(this))}),t.find(".ts-dateonly-range-element").each(function(){M(jQuery(this))}),t.find(".ts-datetime-range-element").each(function(){E(jQuery(this))})}function z(t){if(!t.hasClass("ts-nouislider-initialized")){var e=parseFloat(t.attr("data-min")),a=parseFloat(t.attr("data-max")),i=parseFloat(t.attr("data-step")),n=parseFloat(t.attr("data-value")),r=parseFloat(t.attr("data-decimals")),s=(t.attr("data-unit"),t.attr("id")),o=document.getElementById(s),l=t.siblings(".ts-nouislider-serial"),d=t.siblings(".ts-nouislider-time-lower-up"),c=t.siblings(".ts-nouislider-time-lower-down"),u=t.siblings(".ts-nouislider-time-faster-up"),h=t.siblings(".ts-nouislider-time-faster-down"),f=jQuery("#"+t.parent().attr("data-output")),p=f.find(".ts-nouislider-time-final");noUiSlider.create(o,{range:{min:[e],max:[a]},start:n,handles:1,step:i,behaviour:"extend-tap",connect:"lower",format:wNumb({mark:".",decimals:r}),pips:{mode:"values",density:4,values:[0,360,720,1080,1440],stepped:!0,format:wNumb({encoder:function(t){return t/=60},decoder:function(t){return t=60*t}})}}),o.noUiSlider.set(n),t.addClass("ts-nouislider-initialized"),o.noUiSlider.on("update",function(t){l.val(G(60*t)),N(p,t)}),o.noUiSlider.on("change",function(t){l.val(G(60*t)).trigger("change"),N(p,t)}),d.on("click",function(){$value_current=o.noUiSlider.get(),$value_current=parseInt($value_current)+1,$value_current>1440&&($value_current=1440),o.noUiSlider.set([$value_current,$value_current[1]]),N(p,$value_current)}),u.on("click",function(){$value_current=o.noUiSlider.get(),$value_current=parseInt($value_current)+5,$value_current>1440&&($value_current=1440),o.noUiSlider.set([$value_current,$value_current[1]]),N(p,$value_current)}),c.on("click",function(){$value_current=o.noUiSlider.get(),$value_current=parseInt($value_current)-1,1>$value_current&&($value_current=1),o.noUiSlider.set([$value_current,$value_current[1]]),N(p,$value_current)}),h.on("click",function(){$value_current=o.noUiSlider.get(),$value_current=parseInt($value_current)-5,1>$value_current&&($value_current=1),o.noUiSlider.set([$value_current,$value_current[1]]),N(p,$value_current)})}}function U(t){var e=t.find(".ts-timeonlypicker-value"),a=(t.find(".ts-timeonlypicker-value").val(),t.find(".ts-timeonlypicker-clear")),i=t.find(".ts-timeonlypicker-single"),n=t.find(".ts-timeonlypicker-minutes"),r=jQuery("option:selected",n),s=parseInt(r.attr("value"));0!=a.length&&a.click(function(){i.ts_datetimepicker({value:""}),e.val("")}),i.data("xdsoft_datetimepicker")&&i.ts_datetimepicker("destroy"),n.on("change",function(){var t=jQuery("option:selected",jQuery(this)),e=parseInt(t.attr("value"));s=e,B(i,"",e)});i.ts_datetimepicker({lazyInit:!0,lang:"en",inline:!0,datepicker:!1,hours12:!1,format:"h:i A",formatTime:"h:i A",step:s,scrollTime:!0,timepickerScrollbar:!0,allowBlank:!0,onGenerate:function(){jQuery(this).trigger("afterOpen.xdsoft")},onShow:function(){jQuery(this).trigger("afterOpen.xdsoft")},onSelectDate:function(){},onChangeDateTime:function(t,a){var i=a.val();e.val(i)}})}function I(t){var e=t.find(".ts-datepicker-value"),a=(t.find(".ts-datepicker-value").val(),t.find(".ts-datepicker-clear"));0!=a.length&&a.click(function(){i.ts_datetimepicker({value:""}),e.val("")}),t.find(".ts-datepicker").data("xdsoft_datetimepicker")&&t.find(".ts-datepicker").ts_datetimepicker("destroy");var i=t.find(".ts-datepicker").ts_datetimepicker({lang:"en",inline:!0,timepicker:!1,format:"m/d/Y",formatDate:"Y/m/d",allowBlank:!0,onShow:function(){},onSelectDate:function(){},onChangeDateTime:function(t,a){var i=a.val();e.val(i)}})}function D(t){var e=t.find(".ts-datetimepicker-value"),a=(t.find(".ts-datetimepicker-value").val(),t.find(".ts-datetimepicker-clear")),i=t.find(".ts-datetimepicker-single"),n=t.find(".ts-datetimepicker-minutes"),r=jQuery("option:selected",n),s=parseInt(r.attr("value"));0!=a.length&&a.click(function(){i.ts_datetimepicker({value:""}),e.val("")}),i.data("xdsoft_datetimepicker")&&i.ts_datetimepicker("destroy"),n.on("change",function(){var t=jQuery("option:selected",jQuery(this)),e=parseInt(t.attr("value"));s=e,B(i,"",e)});i.ts_datetimepicker({lang:"en",inline:!0,timepicker:!0,datepicker:!0,hours12:!1,format:"m/d/Y h:i A",formatDate:"m/d/Y",formatTime:"h:i A",step:s,scrollTime:!0,timepickerScrollbar:!0,allowBlank:!0,onGenerate:function(){jQuery(this).trigger("afterOpen.xdsoft")},onShow:function(){jQuery(this).trigger("afterOpen.xdsoft")},onSelectDate:function(){},onChangeDateTime:function(t,a){var i=a.val();e.val(i)}})}function M(t){var e=t.find(".ts-dateonlyrange-value"),a=(e.val(),t.find(".ts-dateonlyrange-clear"),t.find(".ts-dateonlyrange-start")),i=t.find(".ts-dateonlyrange-end"),n=t.find(".ts-dateonlyrange-output-start"),r=t.find(".ts-dateonlyrange-output-end"),s="",o="";a.data("xdsoft_datetimepicker")&&a.ts_datetimepicker("destroy"),i.data("xdsoft_datetimepicker")&&i.ts_datetimepicker("destroy");a.ts_datetimepicker({lang:"en",inline:!0,timepicker:!1,datepicker:!0,hours12:!1,format:"m/d/Y",formatDate:"m/d/Y",formatTime:"h:i A",defaultSelect:!0,step:60,scrollTime:!0,timepickerScrollbar:!0,allowBlank:!0,onGenerate:function(){jQuery(this).trigger("afterOpen.xdsoft")},onShow:function(){jQuery(this).trigger("afterOpen.xdsoft")},onSelectDate:function(){},onChangeDateTime:function(){L(a,i),s=a.val(),o=i.val(),e.val(s+"|"+o).trigger("change"),n.html(s),r.html(o)}}),i.ts_datetimepicker({lang:"en",inline:!0,timepicker:!1,datepicker:!0,hours12:!1,format:"m/d/Y",formatDate:"m/d/Y",formatTime:"h:i A",defaultSelect:!1,step:60,scrollTime:!0,timepickerScrollbar:!0,allowBlank:!0,onGenerate:function(){jQuery(this).trigger("afterOpen.xdsoft")},onShow:function(){jQuery(this).trigger("afterOpen.xdsoft")},onSelectDate:function(){},onChangeDateTime:function(){L(a,i),s=a.val(),o=i.val(),e.val(s+"|"+o).trigger("change"),n.html(s),r.html(o)}});L(a,i)}function E(t){var e=jQuery("#vc_ui-panel-edit-element").width(),a=jQuery("#vc_ui-panel-edit-element").position().left,i=0;760>e&&(i=760-e,jQuery("#vc_ui-panel-edit-element").css({width:"760px",left:a-i}));var n=t.find(".ts-datetimerange-value"),r=(n.val(),t.find(".ts-datetimerange-clear"),t.find(".ts-datetimerange-start")),s=t.find(".ts-datetimerange-end"),o=(r.parent(),s.parent(),t.find(".ts-datetimerange-minutes")),l=jQuery("option:selected",o),d=parseInt(l.attr("value")),c=t.find(".ts-datetimerange-output-start"),u=t.find(".ts-datetimerange-output-end"),h=r.val(),f=s.val();o.on("change",function(){var t=jQuery("option:selected",jQuery(this)),e=parseInt(t.attr("value"));d=e,B(r,s,e)}),r.data("xdsoft_datetimepicker")&&r.ts_datetimepicker("destroy"),s.data("xdsoft_datetimepicker")&&s.ts_datetimepicker("destroy");r.ts_datetimepicker({lang:"en",inline:!0,timepicker:!0,datepicker:!0,hours12:!1,format:"m/d/Y h:i A",formatDate:"m/d/Y",formatTime:"h:i A",defaultSelect:!0,step:d,scrollTime:!0,timepickerScrollbar:!0,allowBlank:!0,onGenerate:function(){jQuery(this).trigger("afterOpen.xdsoft")},onShow:function(){jQuery(this).trigger("afterOpen.xdsoft")},onSelectDate:function(){},onChangeDateTime:function(){L(r,s,d),h=r.val(),f=s.val(),n.val(h+"|"+f).trigger("change"),c.html(h),u.html(f)}}).promise().done(function(){}),s.ts_datetimepicker({lang:"en",inline:!0,timepicker:!0,datepicker:!0,hours12:!1,format:"m/d/Y h:i A",formatDate:"m/d/Y",formatTime:"h:i A",defaultSelect:!1,step:d,scrollTime:!0,timepickerScrollbar:!0,allowBlank:!0,onGenerate:function(){jQuery(this).trigger("afterOpen.xdsoft")},onShow:function(){jQuery(this).trigger("afterOpen.xdsoft")},onSelectDate:function(){},onChangeDateTime:function(){L(r,s,d),h=r.val(),f=s.val(),n.val(h+"|"+f).trigger("change"),c.html(h),u.html(f)}}).promise().done(function(){});setTimeout(function(){L(r,s,d)},250)}function R(t,e){var a=t.split("/"),i=new Date(parseInt(a[2],10),parseInt(a[0],10)-1,parseInt(a[1],10));return i.setTime(i.getTime()+864e5*e),a[0]=""+(i.getMonth()+1),a[0].length<2&&(a[0]="0"+a[0]),a[1]=""+i.getDate(),a[1].length<2&&(a[1]="0"+a[1]),a[2]=""+i.getFullYear(),a.join("/")}function B(t,e,a){""!=t&&"undefined"!=t&&void 0!=t&&null!=t&&t.data("xdsoft_datetimepicker").setOptions({step:a}),""!=e&&"undefined"!=e&&void 0!=e&&null!=e&&e.data("xdsoft_datetimepicker").setOptions({step:a})}function L(t,e){var a=e.val();a=a.split(" ")[0],t.data("xdsoft_datetimepicker").setOptions({maxDate:a?a:!1});var i=t.val();i=i.split(" ")[0],i=R(i,1),e.data("xdsoft_datetimepicker").setOptions({minDate:i?i:!1})}function G(t,e,a){e="undefined"!=typeof e?e:!1,a="undefined"!=typeof a?a:!1;var i=Math.floor(t/3600);t-=3600*i,a&&24==i&&(i=0);var n=Math.floor(t/60);if(t-=60*n,a)var r="";else if(i>=13){if(24==i)var r=" AM";else var r=" PM";i-=12}else if(12==i)var r=" PM";else var r=" AM";var s=10>t?"0"+t:t;return e?(10>i?"0"+i:i)+":"+(10>n?"0"+n:n)+":"+s+r:(10>i?"0"+i:i)+":"+(10>n?"0"+n:n)+r}function N(t,e){e=60*e,e=G(e),t.html(e)}function V(t){var e=t,a=e.find(".ts-googlemap-markers-result"),i=e.find(".ts-googlemap-markers-search"),n=e.find(".ts-googlemap-markers-selector"),r=e.find(".ts-googlemap-markers-final"),s=(n.find(".TS_VCSC_Marker_Link.current"),a.attr("data-path")),o=r.val(),l="";n.on("click","a.TS_VCSC_Marker_Link",function(){return o=jQuery(this).attr("rel"),r.val(o),jQuery(this).parent(".ts-visual-selector").find(".current").removeClass("current"),jQuery(this).parent(".ts-visual-selector").find(".selector-tick").remove(),jQuery(this).addClass("current"),jQuery(this).append('<div class="selector-tick"></div>'),a.find("img").attr("src",s+o),!1}),i.find("input").on("keyup",function(){l=jQuery(this).val(),l.length>2?n.find("a.TS_VCSC_Marker_Link").each(function(){jQuery(this).attr("rel").search(new RegExp(l,"gi"))<0?jQuery(this).hide():jQuery(this).show()}):n.find("a.TS_VCSC_Marker_Link").show()}),e.addClass("ts-googlemap-markers-initialized")}function P(t){var e=t,a=e.find(".ts-background-pattern-selector"),i=e.find(".ts-background-pattern-final");a.on("click","a.TS_VCSC_Back_Link",function(){return i.val(jQuery(this).attr("rel")),jQuery(this).parent(".ts-visual-selector").find(".current").removeClass("current"),jQuery(this).parent(".ts-visual-selector").find(".selector-tick").remove(),jQuery(this).addClass("current"),jQuery(this).append('<div class="selector-tick"></div>'),!1}),e.addClass("ts-background-pattern-initialized")}function H(t){var e=t.attr("data-name");if("switch_click"==e){var a=t.find("input"),i=t.nearest(".wpb_vc_param_value.switch_type"),n=t.nearest(".wpb_vc_param_value.switch_trigger_flip"),r=t.nearest(".wpb_vc_param_value.switch_trigger_slide"),s=t.nearest(".wpb_vc_param_value.switch_trigger_fade");i.on("change",function(){Y(i,a,n,s)}),n.on("change",function(){var t=jQuery(this).val();"ts-imageswitch-flip"==i.val()&&("ts-trigger-hover"==t?a.val("false").attr("value","false"):a.val("true").attr("value","true"),a.change().trigger("change"))
}),r.on("change",function(){jQuery(this).val();"ts-imageswitch-slide"==i.val()&&(a.val("true").attr("value","true"),a.change().trigger("change"))}),s.on("change",function(){var t=jQuery(this).val();"ts-imageswitch-fade"==i.val()&&("ts-trigger-hover"==t?a.val("false").attr("value","false"):a.val("true").attr("value","true"),a.change().trigger("change"))}),Y(i,a,n,s)}t.addClass("ts-hidden-input-initialized")}function Y(t,e,a,i){var n=t.val();"ts-imageswitch-slide"==n?e.val("true").attr("value","true"):"ts-imageswitch-flip"==n?"ts-trigger-hover"==a.val()?e.val("false").attr("value","false"):e.val("true").attr("value","true"):"ts-imageswitch-fade"==n&&("ts-trigger-hover"==i.val()?e.val("false").attr("value","false"):e.val("true").attr("value","true")),e.change().trigger("change")}function q(t){var e=t.attr("data-name");if("tscodenormal"==e){var a=t.nearest(".wpb-textarea_raw_html.tscode.textarea_raw_html"),i=t.nearest(".wpb_vc_param_value.ts_shortcode_hidden.tscodenormal.hidden_textarea");W(a,i)}t.addClass("ts-hidden-textarea-initialized")}function W(t,e){var a=t.val(),i=t.val();""!=i&&e.val(i.replace("[","").replace("]","")),t.on("change keyup paste cut",function(){var t=jQuery(this).val();t!=a&&(a=t,t=t.split(/\s+/),e.val(t[0].replace("[","").replace("]","")))})}function K(t){{var e=t.find(".ts-font-icons-picker");e.attr("data-value")}e.find("select").fontIconPicker({theme:"fip-grey",emptyIcon:"true"==e.attr("data-empty")?!0:!1,emptyIconValue:e.attr("data-transparent"),iconsPerPage:parseInt(e.attr("data-pagecount")),hasSearch:"true"==e.attr("data-search")?!0:!1,allCategoryText:"From All Fonts",unCategorizedText:"Uncategorized"}),t.addClass("ts-font-icons-picker-initialized")}function J(t){t.each(function(){var e=jQuery(this),a=e.attr("data-format");""!=a&&(a=a.split(","));var i=jQuery(".audio_select",e),n=jQuery(".audio_remove",e),r=jQuery(".audio_value",e),s=jQuery(".audio_metadata_frame",e),o=jQuery(".audio_id",e),l=jQuery(".audio_name",e),d=jQuery(".audio_duration",e),c=[];jQuery.each(a,function(t,e){c.push("audio/"+e)}),c=c.join(),i.on("click",function(){window.parent.TS_VCSC_LoadMediaFrame(jQuery(this),r.val(),c,function(t){-1==jQuery.inArray(t.subtype,a)?alert("Please select an audio in ("+c+") format!"):(r.val(t.id),o.html(t.id),l.html(t.title),d.html(t.fileLength?t.fileLength:"N/A"),n.removeAttr("disabled"),s.show())})}),n.on("click",function(){r.val(""),jQuery(".audio_metadata").empty(),n.attr("disabled","disabled"),s.hide()}),t.addClass("ts-audio-selector-initialized")})}function X(t){t.each(function(){var e=jQuery(this),a=e.attr("data-format");""!=a&&(a=a.split(","));var i=jQuery(".video_select",e),n=jQuery(".video_remove",e),r=jQuery(".video_value",e),s=jQuery(".video_metadata_frame",e),o=jQuery(".video_id",e),l=jQuery(".video_name",e),d=jQuery(".video_duration",e),c=jQuery(".video_width",e),u=jQuery(".video_height",e),h=[];jQuery.each(a,function(t,e){h.push("video/"+e)}),h=h.join(),i.click(function(){window.parent.TS_VCSC_LoadMediaFrame(jQuery(this),r.val(),h,function(t){-1==jQuery.inArray(t.subtype,a)?alert("Please select a video in ("+h+") format!"):(r.val(t.id),o.html(t.id),l.html(t.title),d.html(t.fileLength?t.fileLength:"N/A"),c.html(t.width?t.width:"N/A"),u.html(t.height?t.height:"N/A"),n.removeAttr("disabled"),s.show())})}),n.click(function(){r.val(""),jQuery(".video_metadata").empty(),n.attr("disabled","disabled"),s.hide()}),t.addClass("ts-video-selector-initialized")})}function Z(t){var e=t.find(".ts-standardpost-categories-selector"),a=e.attr("data-method"),i=e.attr("data-selectable"),n=e.attr("data-selection");e.multiSelect({selectableHeader:"<div class='ms-header-selectable ms-header-selectable-"+a+"'>"+i+"</div>",selectionHeader:"<div class='ms-header-selection ms-header-selection-"+a+"'>"+n+"</div>",afterSelect:function(){},afterDeselect:function(){}}),e.on("change",function(){var t=jQuery(this).attr("data-holder");jQuery(this).parent().find("#"+t).val(jQuery(this).val())}),t.addClass("ts-standardpost-categories-initialized")}function te(t){var e=t.find(".ts-standardpost-stati-selector"),a=e.attr("data-method"),i=e.attr("data-selectable"),n=e.attr("data-selection");e.multiSelect({selectableHeader:"<div class='ms-header-selectable ms-header-selectable-"+a+"'>"+i+"</div>",selectionHeader:"<div class='ms-header-selection ms-header-selection-"+a+"'>"+n+"</div>",afterSelect:function(){},afterDeselect:function(){}}),e.on("change",function(){var t=jQuery(this).attr("data-holder");jQuery(this).parent().find("#"+t).val(jQuery(this).val())}),t.addClass("ts-standardpost-stati-initialized")}function ee(t){var e=t.find(".ts-custompost-selector-filter"),a=t.find(".ts-custompost-selector"),i=t.find(".ts-custompost-selector-mirror"),n=t.find("input.ts-custompost-filter-switch-checkbox"),r=t.find("input.ts-custompost-filter-switch-value"),s=t.find(".ts-custom-post-filter-frame"),o=s.attr("data-selectable"),l=s.attr("data-selection");i.find("option").each(function(){jQuery(this).removeAttr("selected")}),n.on("change",function(){var t=jQuery(this).prop("checked");1==t?(r.val("true").trigger("change"),s.show()):0==t&&(r.val("false").trigger("change"),s.hide())}),e.multiSelect({selectableHeader:"<div class='ms-header-selectable'>"+o+"</div>",selectionHeader:"<div class='ms-header-selection'>"+l+"</div>",afterSelect:function(){},afterDeselect:function(){}}),e.on("change",function(){var t=(jQuery(this).attr("data-selector"),jQuery(this).val()),n=0,r=0;a.val(""),i.find("option").each(function(){jQuery(this).attr("data-filter","true")}),""!=t&&null!=t?e.find("option:selected").each(function(){var t=jQuery(this).attr("data-category");n++,"ts-custompost-none-applied"!=t?i.find("option").each(function(){var e=jQuery(this).attr("data-categories");"true"==jQuery(this).attr("data-filter")&&(TS_VCSC_SearchWordInString(e,t)?(r++,jQuery(this).attr("data-filter","false")):jQuery(this).attr("data-filter","true"))}):"ts-custompost-none-applied"==t&&i.find("option").each(function(){var t=jQuery(this).attr("data-categories");"true"==jQuery(this).attr("data-filter")&&(""==t?(r++,jQuery(this).attr("data-filter","false")):jQuery(this).attr("data-filter","true"))})}):i.find("option").each(function(){jQuery(this).attr("data-filter","false")}),setTimeout(function(){a.find("option").each(function(){jQuery(this).hasClass("placeholder")||jQuery(this).remove()}),i.find("option").each(function(){if("false"==jQuery(this).attr("data-filter")){var t=jQuery(this).clone();a.append(t)}})},100)}),a.on("change",function(){jQuery(this).find("option:selected").each(function(){var e=jQuery(this).attr("data-id");t.nearest(".custompost_name.hidden_input").val(e)})}),t.addClass("ts-custompost-selector-initialized")}function ae(t){var e=t.find(".ts-custompost-categories-selector"),a=e.attr("data-selectable"),i=e.attr("data-selection");e.multiSelect({selectableHeader:"<div class='ms-header-selectable'>"+a+"</div>",selectionHeader:"<div class='ms-header-selection'>"+i+"</div>",afterSelect:function(){},afterDeselect:function(){}}),e.on("change",function(){var t=jQuery(this).attr("data-holder");jQuery(this).parent().find("#"+t).val(jQuery(this).val())}),t.addClass("ts-custompost-categories-initialized")}function ie(t){var e=t.find(".ts-woocommerce-products-selector"),a=e.attr("data-selectable"),i=e.attr("data-selection");e.multiSelect({selectableHeader:"<div class='ms-header-selectable'>"+a+"</div>",selectionHeader:"<div class='ms-header-selection'>"+i+"</div>",afterSelect:function(){},afterDeselect:function(){}}),e.on("change",function(){var t=jQuery(this).attr("data-holder");jQuery(this).parent().find("#"+t).val(jQuery(this).val())}),t.addClass("ts-woocommerce-products-initialized")}function ne(t){var e=t.find(".ts-woocommerce-categories-selector"),a=e.attr("data-selectable"),i=e.attr("data-selection");e.multiSelect({selectableHeader:"<div class='ms-header-selectable'>"+a+"</div>",selectionHeader:"<div class='ms-header-selection'>"+i+"</div>",afterSelect:function(){},afterDeselect:function(){}}),e.on("change",function(){var t=jQuery(this).attr("data-holder");jQuery(this).parent().find("#"+t).val(jQuery(this).val())})}function re(t){var e=t.find("select.ts-advanced-tables-select-input"),a=t.find(".ts-advanced-tables-summary"),i=null,n=a.find(".ts-advanced-tables-summary-rows"),r=a.find(".ts-advanced-tables-summary-columns"),s=a.find(".ts-advanced-tables-summary-created"),o=a.find(".ts-advanced-tables-summary-updated"),l=a.find(".ts-advanced-tables-summary-info"),d=a.attr("data-string-rows"),c=a.attr("data-string-columns"),u=a.attr("data-string-created"),h=a.attr("data-string-updated");e.on("change",function(){i=jQuery(this).find(":selected"),n.html(d+" "+i.attr("data-rows")),r.html(c+" "+i.attr("data-columns")),s.html(u+" "+i.attr("data-created")),o.html(h+" "+i.attr("data-updated")),l.html(TS_VCSC_Base64.decode(i.attr("data-info")))}),jQuery(this).addClass("ts-advanced-tables-wrapper-initialized")}function se(t){var e=t.find(".ts-userpro-member-selector");e.hasClass("ts-userpro-member-initialized")||(e.on("change",function(){var t=e.attr("data-hidden"),a=e.find("option:selected").attr("data-value");jQuery("#"+t).val(a)}),e.addClass("ts-userpro-member-initialized"))}function oe(t){var e=t.find(".ts-userpro-template-container"),a=t.closest(".ts-userpro-member-selector"),i=e.find(".ts-userpro-template-selector"),n=i.find("option:selected").val(),r=e.find(".ts-userpro-template-value"),s="";i.hasClass("ts-userpro-template-initialized")||(a.find("option").each(function(){s=jQuery(this).attr("data-templates"),s=s.split(","),"global"==jQuery(this).attr("data-type")&&(s.indexOf(n)>=0?jQuery(this).show():jQuery(this).hide())}),i.on("change",function(){n=jQuery(this).find("option:selected").attr("data-value"),r.val(n).trigger("change"),a.find("option").each(function(){s=jQuery(this).attr("data-templates"),s=s.split(","),"global"==jQuery(this).attr("data-type")&&(s.indexOf(n)>=0?jQuery(this).show():jQuery(this).hide())})}),i.addClass("ts-userpro-template-initialized"))}function le(t){var e=t.find(".ts-userpro-width-type-selector"),a=t.find(".ts-userpro-width-responsive-nouislider-input-slider"),i=t.find(".ts-userpro-width-fixed-nouislider-input-slider");e.hasClass("ts-userpro-width-type-initialized")||(r(t),e.on("change",function(){e.find("option:selected").each(function(){var e=jQuery(this).attr("data-value");if("percent"==e){a.show(),i.hide();var n=a.find("input").val()+"%"}else{a.hide(),i.show();var n=i.find("input").val()+"px"}t.find(".ts-userpro-width-type-value").val(n)})}),a.find(".ts-userpro-width-responsive-nouislider-input").on("change",function(){t.find(".ts-userpro-width-type-value").val(jQuery(this).val()+"%")}),i.find(".ts-userpro-width-fixed-nouislider-input").on("change",function(){t.find(".ts-userpro-width-type-value").val(jQuery(this).val()+"px")}),e.addClass("ts-userpro-width-type-initialized"))}function de(t){var e=t.attr("data-connector"),a=t.find(".ts-changelogsingle-selector-filter"),i=t.find(".ts-changelogsingle-selector"),n=t.find(".ts-changelogsingle-selector-mirror"),r=t.find("input.ts-changelogsingle-filter-switch-checkbox"),s=t.find("input.ts-changelogsingle-filter-switch-value"),o=t.find(".ts-changelogsingle-filter-frame"),l=o.attr("data-selectable"),d=o.attr("data-selection");n.find("option").each(function(){jQuery(this).removeAttr("selected")}),r.on("change",function(){var t=jQuery(this).prop("checked");1==t?(s.val("true").trigger("change"),o.show()):0==t&&(s.val("false").trigger("change"),o.hide())}),a.multiSelect({selectableHeader:"<div class='ms-header-selectable'>"+l+"</div>",selectionHeader:"<div class='ms-header-selection'>"+d+"</div>",afterSelect:function(){},afterDeselect:function(){}}),a.on("change",function(){var t=(jQuery(this).attr("data-selector"),jQuery(this).val()),e=0,r=0;i.val(""),n.find("option").each(function(){jQuery(this).attr("data-filter","true")}),""!=t&&null!=t?a.find("option:selected").each(function(){var t=jQuery(this).attr("data-category");e++,"ts-changelogsingle-none-applied"!=t?n.find("option").each(function(){var e=jQuery(this).attr("data-categories");"true"==jQuery(this).attr("data-filter")&&(TS_VCSC_SearchWordInString(e,t)?(r++,jQuery(this).attr("data-filter","false")):jQuery(this).attr("data-filter","true"))}):"ts-changelogsingle-none-applied"==t&&n.find("option").each(function(){var t=jQuery(this).attr("data-categories");"true"==jQuery(this).attr("data-filter")&&(""==t?(r++,jQuery(this).attr("data-filter","false")):jQuery(this).attr("data-filter","true"))})}):n.find("option").each(function(){jQuery(this).attr("data-filter","false")}),setTimeout(function(){i.find("option").each(function(){jQuery(this).hasClass("placeholder")||jQuery(this).remove()}),n.find("option").each(function(){if("false"==jQuery(this).attr("data-filter")){var t=jQuery(this).clone();i.append(t)}})},100)}),i.on("change",function(){jQuery(this).find("option:selected").each(function(){var a=jQuery(this).attr("data-id");t.nearest("#"+e).val(a)})}),t.addClass("ts-changelogsingle-selector-initialized")}function ce(t){var e=t.find(".ts-changelogpost-products-selector");e.hasClass("ts-changelogpost-products-initialized")||(e.on("change",function(){var t=e.attr("data-connector"),a=e.find("option:selected").attr("data-name");e.nearest("#"+t).val(a)}),e.addClass("ts-changelogpost-products-initialized"))}function ue(t){var e=t.find(".ts-changelogproducts-selector-parent"),a=e.find(".ts-changelogproducts-selector-filter"),i=(e.find(".ts-changelogproducts-selector"),e.find(".ts-changelogproducts-filter-frame"),e.attr("data-selectable")),n=e.attr("data-selection"),r=e.attr("data-connector");a.multiSelect({selectableHeader:"<div class='ms-header-selectable'>"+i+"</div>",selectionHeader:"<div class='ms-header-selection'>"+n+"</div>",afterSelect:function(){},afterDeselect:function(){}}),a.change(function(){var t=jQuery(this).siblings(".ts-changelogproducts-selector-value"),e=jQuery(this).siblings(".ts-changelogproducts-selector-mirror"),a=jQuery("#"+r),i=jQuery(this).val(),n=[],s="";""!=i&&null!=i&&e.find("option").each(function(){s=jQuery.trim(jQuery(this).attr("data-slug")),$customproducts_name=jQuery.trim(jQuery(this).attr("data-name")),i.forEach(function(t){s==t&&n.push($customproducts_name)})}),a.val(),a.val(n),t.val(""),t.val(i).trigger("change")})}var he=!1;"undefined"!=typeof vc&&void 0!==typeof vc&&"undefined"!=typeof vc.atts&&void 0!==typeof vc.atts&&(he=!0),1==he&&(vc.atts.wysiwyg_base64={render:function(t,e){return e?jQuery("<div/>").text(rawurldecode(base64_decode(e.trim()))).html():""},parse:function(t){var e=this.content().find(".wpb_vc_param_value[name="+t.param_name+"]"),a=e.attr("id"),i="",n=e.siblings(".ts-wysiwyg-base64-tabs"),r=tinymce.EditorManager.get(a);if(n.length>0){var s=n.find(".ts-wysiwyg-base64-visual"),o=n.find(".ts-wysiwyg-base64-html");s.hasClass("active")?i=r&&r instanceof tinymce.Editor?r.getContent({format:"html"}):e.val():o.hasClass("active")&&(i=e.val())}else i=r&&r instanceof tinymce.Editor?r.getContent({format:"html"}):e.val();return base64_encode(rawurlencode(i))},init:function(e,a){var i=a;t(i)}}),1==he&&(vc.atts.switch_button={init:function(t,e){var i=e;a(i)}}),1==he&&(vc.atts.tag_editor={init:function(t,e){var a=e;i(a)}}),1==he&&(vc.atts.image_selector={init:function(t,e){var a=e;n(a)}});var fe=0,pe=null,ve=null,ge=null,me=[],ye=[],je=null;1==he&&(vc.atts.nouislider={init:function(t,e){var a=e;r(a)}}),1==he&&(vc.atts.fontsmanager={init:function(t,e){var a=e;l(a)}}),1==he&&(vc.atts.advancedlinks={init:function(t,e){var a=e;a.find(".ts-advancedlinks-holder").each(function(){jQuery(this).hasClass("ts-advanced-link-initialized")||d(jQuery(this))})}}),1==he&&(vc.atts.advanced_gradient={init:function(t,e){var a=e;a.find(".ts-advanced-gradient").each(function(){if(!jQuery(this).hasClass("ts-advanced-gradient-initialized")){var t=jQuery(this);h(t)}})}}),1==he&&(vc.atts.advanced_styling={init:function(t,e){var a=e;a.find(".ts-advanced-styling").each(function(){if(!jQuery(this).hasClass("ts-advanced-styling-initialized")){var t=jQuery(this);v(t)}})}}),1==he&&(vc.atts.viewport_offset={init:function(t,e){var a=e;a.find(".ts-viewportoffset-type-container").each(function(){if(!jQuery(this).hasClass("ts-viewportoffset-type-initialized")){var t=jQuery(this);Q(t)}})}}),1==he&&(vc.atts.css3animations={init:function(t,e){var a=e;a.find(".ts-css3-animations-wrapper").each(function(){if(!jQuery(this).hasClass("ts-css3-animations-initialized")){var t=jQuery(this);w(t)}})}}),1==he&&(vc.atts.livepreview={init:function(t,e){var a=e;a.find(".ts-live-preview-wrapper").each(function(){if(!jQuery(this).hasClass("ts-live-preview-initialized")){var t=jQuery(this);k(t)}})}}),1==he&&(vc.atts.devicetype_selectors={init:function(t,e){b(e),S(e),C(e)}}),1==he&&(vc.atts.screensizes_selectors={init:function(t,e){x(e),$(e),T(e)}}),1==he&&(vc.atts.imagehotspot={init:function(t,e){var a=e;a.find(".ts-image-hotspot-container-wrapper").each(function(){if(!jQuery(this).hasClass("ts-image-hotspot-initialized")){var t=jQuery(this);F(t)}})}}),1==he&&(vc.atts.datetime_picker={init:function(t,e){var a=e;A(a)}}),1==he&&(vc.atts.mapmarker={init:function(t,e){var a=e;a.find(".ts-googlemap-markers-wrapper").each(function(){if(!jQuery(this).hasClass("ts-googlemap-markers-initialized")){var t=jQuery(this);V(t)}})}}),1==he&&(vc.atts.background={init:function(t,e){var a=e;a.find(".ts-background-pattern-wrapper").each(function(){if(!jQuery(this).hasClass("ts-background-pattern-initialized")){var t=jQuery(this);P(t)}})}}),1==he&&(vc.atts.hidden_input={init:function(t,e){var a=e;a.find(".ts-hidden-input-wrapper").each(function(){if(!jQuery(this).hasClass("ts-hidden-input-initialized")){var t=jQuery(this);H(t)}})}}),1==he&&(vc.atts.hidden_textarea={init:function(t,e){var a=e;a.find(".ts-hidden-textarea-wrapper").each(function(){if(!jQuery(this).hasClass("ts-hidden-textarea-initialized")){var t=jQuery(this);q(t)}})}}),1==he&&(vc.atts.icons_panel={init:function(t,e){var a=e;a.find(".ts-font-icons-picker-parent").each(function(){if(!jQuery(this).hasClass("ts-font-icons-picker-initialized")){var t=jQuery(this);K(t)}})}}),1==he&&(vc.atts.audioselect={init:function(t,e){var a=e;a.find(".ts-audio-selector-wrapper").each(function(){if(!jQuery(this).hasClass("ts-audio-selector-initialized")){var t=jQuery(this);J(t)}})}}),1==he&&(vc.atts.videoselect={init:function(t,e){var a=e;a.find(".ts-video-selector-wrapper").each(function(){if(!jQuery(this).hasClass("ts-video-selector-initialized")){var t=jQuery(this);X(t)}})}}),1==he&&(vc.atts.standardpostcat={init:function(t,e){var a=e;a.find(".ts-standardpost-categories-holder").each(function(){if(!jQuery(this).hasClass("ts-standardpost-categories-initialized")){var t=jQuery(this);Z(t)}})}}),1==he&&(vc.atts.standardpoststati={init:function(t,e){var a=e;a.find(".ts-standardpost-stati-holder").each(function(){if(!jQuery(this).hasClass("ts-standardpost-stati-initialized")){var t=jQuery(this);te(t)}})}}),1==he&&(vc.atts.custompost={init:function(t,e){var a=e;a.find(".ts-custompost-selector-wrapper").each(function(){if(!jQuery(this).hasClass("ts-custompost-selector-initialized")){var t=jQuery(this);ee(t)}})}}),1==he&&(vc.atts.custompostcat={init:function(t,e){var a=e;a.find(".ts-custompost-categories-wrapper").each(function(){if(!jQuery(this).hasClass("ts-custompost-categories-initialized")){var t=jQuery(this);ae(t)}})}},vc.atts.custompostcatid={init:function(t,e){var a=e;a.find(".ts-custompost-categories-wrapper").each(function(){if(!jQuery(this).hasClass("ts-custompost-categories-initialized")){var t=jQuery(this);ae(t)}})}}),1==he&&(vc.atts.wc_multiple_products={init:function(t,e){var a=e;a.find(".ts-woocommerce-products-holder").each(function(){if(!jQuery(this).hasClass("ts-woocommerce-products-initialized")){var t=jQuery(this);ie(t)}})}}),1==he&&(vc.atts.wc_multiple_product_categories={init:function(t,e){var a=e;a.find(".ts-woocommerce-categories-holder").each(function(){if(!jQuery(this).hasClass("ts-woocommerce-categories-initialized")){var t=jQuery(this);ne(t)}})}}),1==he&&(jQuery("body").on("click","i.ts-parameter-socialnetwork-dismiss",function(){var t=jQuery(this).attr("data-identifier");jQuery("."+t).val(" ")}),jQuery(".ts-page-composer-icon-filter").on("change",function(){var t=jQuery(this).val(),e=jQuery(this).siblings(".ts-font-icons-wrapper");return t?(jQuery(e).find("span:not(:Contains("+t+"))").parent("a").hide(),jQuery(e).find("span:Contains("+t+")").parent("a").show()):jQuery(e).find("a").show(),!1}).on("keyup",function(){jQuery(this).change()}),jQuery(".wpb-select.font.dropdown").on("change",function(){var t=jQuery(this).val().toLowerCase();jQuery("ul#ts-vcsc-tinymce-icons-list").empty(),"allfonts"!=t?(jQuery("ul#ts-vcsc-icons-iconsearch").children().clone().appendTo("ul#ts-vcsc-tinymce-icons-list"),jQuery("ul#ts-vcsc-icons-"+t).children().clone().appendTo("ul#ts-vcsc-tinymce-icons-list")):(jQuery("ul#ts-vcsc-icons-iconsearch").children().clone().appendTo("ul#ts-vcsc-tinymce-icons-list"),jQuery("ul.iconfontholder").each(function(){jQuery(this).children().clone().appendTo("ul#ts-vcsc-tinymce-icons-list")})),jQuery(".ts-wrapper-dropdown > .ts-tiny-tinymce-icon-select").val(""),jQuery(".ts-wrapper-dropdown > .ts-wrapper-dropdown-name").text("Select Icon"),jQuery(".ts-wrapper-dropdown > .ts-wrapper-dropdown-select > i").removeClass(),jQuery(".ts-wrapper-dropdown > .ts-wrapper-dropdown-search").val(""),jQuery(".ts-wrapper-dropdown").each(function(t){var e="iconDrop_"+t;window[e]=new DropDown(jQuery(this))})})),1==he&&(vc.atts.advanced_tables={init:function(t,e){var a=e;a.find(".ts-advanced-tables-wrapper").each(function(){if(!jQuery(this).hasClass("ts-advanced-tables-wrapper-initialized")){var t=jQuery(this);re(t)}})}}),1==he&&(vc.atts.userprovc_users={init:function(t,e){var a=e;se(a)}},vc.atts.userprovc_template={init:function(t,e){var a=e;oe(a)}},vc.atts.userprovc_width={init:function(t,e){var a=e;le(a)}}),1==he&&(vc.atts.changelogsingle={init:function(t,e){var a=e;a.find(".ts-changelogsingle-selector-wrapper").each(function(){if(!jQuery(this).hasClass("ts-changelogsingle-selector-initialized")){var t=jQuery(this);de(t)}})}},vc.atts.changelogproduct={init:function(t,e){var a=e;ce(a)}},vc.atts.changelogglobal={init:function(t,e){var a=e;ue(a)}})});var TS_VCSC_Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e="";if(""==t||void 0==t)return e;var a,i,n,r,s,o,l,d=0;for(t=TS_VCSC_Base64._utf8_encode(t);d<t.length;)a=t.charCodeAt(d++),i=t.charCodeAt(d++),n=t.charCodeAt(d++),r=a>>2,s=(3&a)<<4|i>>4,o=(15&i)<<2|n>>6,l=63&n,isNaN(i)?o=l=64:isNaN(n)&&(l=64),e=e+this._keyStr.charAt(r)+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(l);return e},decode:function(t){var e="";if(""==t||void 0==t)return e;var a,i,n,r,s,o,l,d=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<t.length;)r=this._keyStr.indexOf(t.charAt(d++)),s=this._keyStr.indexOf(t.charAt(d++)),o=this._keyStr.indexOf(t.charAt(d++)),l=this._keyStr.indexOf(t.charAt(d++)),a=r<<2|s>>4,i=(15&s)<<4|o>>2,n=(3&o)<<6|l,e+=String.fromCharCode(a),64!=o&&(e+=String.fromCharCode(i)),64!=l&&(e+=String.fromCharCode(n));return e=TS_VCSC_Base64._utf8_decode(e)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",a=0;a<t.length;a++){var i=t.charCodeAt(a);128>i?e+=String.fromCharCode(i):i>127&&2048>i?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},_utf8_decode:function(t){for(var e="",a=0,i=c1=c2=0;a<t.length;)i=t.charCodeAt(a),128>i?(e+=String.fromCharCode(i),a++):i>191&&224>i?(c2=t.charCodeAt(a+1),e+=String.fromCharCode((31&i)<<6|63&c2),a+=2):(c2=t.charCodeAt(a+1),c3=t.charCodeAt(a+2),e+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),a+=3);return e}};!function(t){t.fn.TS_VCSC_TagEditorInput=function(){var e=" ",a=t(this),i=parseInt(a.css("fontSize")),n=t("<span/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:a.css("fontSize"),fontFamily:a.css("fontFamily"),fontWeight:a.css("fontWeight"),letterSpacing:a.css("letterSpacing"),whiteSpace:"nowrap"}),r=function(){if(e!==(e=a.val())){n.text(e);var t=n.width()+i;20>t&&(t=20),t!=a.width()&&a.width(t)}};return n.insertAfter(a),a.bind("keyup keydown focus",r)},t.fn.TS_VCSC_TagEditor=function(e,a,n){function r(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var s,o=t.extend({},t.fn.TS_VCSC_TagEditor.defaults,e),l=this;if(o.dregex=new RegExp("["+o.delimiter.replace("-","-")+"]","g"),"string"==typeof e){var d=[];return l.each(function(){var i=t(this),r=i.data("options"),s=i.next(".tag-editor");if("getTags"==e)d.push({field:i[0],editor:s,tags:s.data("tags")});else if("addTag"==e){if(r.maxTags&&s.data("tags").length>=r.maxTags)return!1;t('<li><div class="tag-editor-spacer">&nbsp;'+r.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>').appendTo(s).find(".tag-editor-tag").html('<input type="text" maxlength="'+r.maxLength+'">').addClass("active").find("input").val(a).blur(),n?t(".placeholder",s).remove():s.click()}else"removeTag"==e?(t(".tag-editor-tag",s).filter(function(){return t(this).text()==a}).closest("li").find(".tag-editor-delete").click(),n||s.click()):"destroy"==e&&i.removeClass("tag-editor-hidden-src").removeData("options").off("focus.tag-editor").next(".tag-editor").remove()}),"getTags"==e?d:this}return window.getSelection&&t(document).off("keydown.tag-editor").on("keydown.tag-editor",function(e){if(8==e.which||46==e.which||e.ctrlKey&&88==e.which){try{var a=getSelection(),n="BODY"==document.activeElement.tagName?t(a.getRangeAt(0).startContainer.parentNode).closest(".tag-editor"):0}catch(e){n=0}if(a.rangeCount>0&&n&&n.length){var r=[],s=a.toString().split(n.prev().data("options").dregex);for(i=0;i<s.length;i++){var o=t.trim(s[i]);o&&r.push(o)}return t(".tag-editor-tag",n).each(function(){~t.inArray(t(this).text(),r)&&t(this).closest("li").find(".tag-editor-delete").click()}),!1}}}),l.each(function(){function e(){!o.placeholder||l.length||t(".deleted, .placeholder, input",d).length||d.append('<li class="placeholder"><div>'+o.placeholder+"</div></li>")}function a(a){var i=l.toString();l=t(".tag-editor-tag:not(.deleted)",d).map(function(e,a){var i=t.trim(t(this).hasClass("active")?t(this).find("input").val():t(a).text());return i?i:void 0}).get(),d.data("tags",l),n.val(l.join(o.delimiter[0])),a||i!=l.toString()&&o.onChange(n,d,l),e()}function i(e){var i,s=e.closest("li"),c=e.val().replace(/ +/," ").split(o.dregex),u=e.data("old_tag"),h=l.slice(0),f=!1;c=c.filter(function(t){return t});for(var p=0;p<c.length;p++)if(v=t.trim(c[p]).slice(0,o.maxLength),o.forceLowercase&&(v=v.toLowerCase()),o.forceNumbersOnly&&(v=v.replace(/\D/g,"")),i=o.beforeTagSave(n,d,h,u,v),v=i||v,i!==!1&&v&&(o.removeDuplicates&&~t.inArray(v,h)&&t(".tag-editor-tag:not(.active)",d).each(function(){t(this).text()==v&&t(this).closest("li").remove()}),h.push(v),s.before('<li><div class="tag-editor-spacer">&nbsp;'+o.delimiter[0]+'</div><div class="tag-editor-tag">'+r(v)+'</div><div class="tag-editor-delete"><i></i></div></li>'),o.maxTags&&h.length>=o.maxTags)){f=!0;break}e.attr("maxlength",o.maxLength).removeData("old_tag").val(""),f?e.blur():e.focus(),a()}var n=t(this),l=[],d=t("<ul "+(o.clickDelete?'oncontextmenu="return false;" ':"")+'class="tag-editor"></ul>').insertAfter(n);n.addClass("tag-editor-hidden-src").data("options",o).on("focus.tag-editor",function(){d.click()}),d.append('<li style="width:1px">&nbsp;</li>');var c='<li><div class="tag-editor-spacer">&nbsp;'+o.delimiter[0]+'</div><div class="tag-editor-tag"></div><div class="tag-editor-delete"><i></i></div></li>';d.on("click",function(e,a){var i,n,r=99999;if(!window.getSelection||""==getSelection())return o.maxTags&&d.data("tags").length>=o.maxTags?(d.find("input").blur(),!1):(s=!0,t("input:focus",d).blur(),s?(s=!0,t(".placeholder",d).remove(),a&&a.length?n="before":t(".tag-editor-tag",d).each(function(){var s=t(this),o=s.offset(),l=o.left,d=o.top;e.pageY>=d&&e.pageY<=d+s.height()&&(e.pageX<l?(n="before",i=l-e.pageX):(n="after",i=e.pageX-l-s.width()),r>i&&(r=i,a=s))}),"before"==n?t(c).insertBefore(a.closest("li")).find(".tag-editor-tag").click():"after"==n?t(c).insertAfter(a.closest("li")).find(".tag-editor-tag").click():t(c).appendTo(d).find(".tag-editor-tag").click(),!1):!1)}),d.on("click",".tag-editor-delete",function(){if(t(this).prev().hasClass("active"))return t(this).closest("li").find("input").caretme(-1),!1;var i=t(this).closest("li"),r=i.find(".tag-editor-tag");return o.beforeTagDelete(n,d,l,r.text())===!1?!1:(r.addClass("deleted").animate({width:0},o.animateDelete,function(){i.remove(),e()}),a(),!1)}),o.clickDelete&&d.on("mousedown",".tag-editor-tag",function(i){if(i.ctrlKey||i.which>1){var r=t(this).closest("li"),s=r.find(".tag-editor-tag");return o.beforeTagDelete(n,d,l,s.text())===!1?!1:(s.addClass("deleted").animate({width:0},o.animateDelete,function(){r.remove(),e()}),a(),!1)}}),d.on("click",".tag-editor-tag",function(e){if(o.clickDelete&&(e.ctrlKey||e.which>1))return!1;if(!t(this).hasClass("active")){var a=t(this).text(),i=Math.abs((t(this).offset().left-e.pageX)/t(this).width()),n=parseInt(a.length*i),s=t(this).html('<input type="text" maxlength="'+o.maxLength+'" value="'+r(a)+'">').addClass("active").find("input");if(s.data("old_tag",a).TS_VCSC_TagEditorInput().focus().caretme(n),o.autocomplete){var l=t.extend({},o.autocomplete),c="select"in l?o.autocomplete.select:"";l.select=function(e,a){c&&c(e,a),setTimeout(function(){d.trigger("click",[t(".active",d).find("input").closest("li").next("li").find(".tag-editor-tag")])},20)},s.autocomplete(l)}}return!1}),d.on("blur","input",function(c){c.stopPropagation();var u=t(this),h=(u.closest("li"),u.data("old_tag")),f=t.trim(u.val().replace(/ +/," ").replace(o.dregex,o.delimiter[0]));if(f){if(f.indexOf(o.delimiter[0])>=0)return void i(u);if(f!=h)if(o.forceLowercase&&(f=f.toLowerCase()),o.forceNumbersOnly&&(f=f.replace(/\D/g,"")),cb_val=o.beforeTagSave(n,d,l,h,f),f=cb_val||f,cb_val===!1||""==f){if(h)return u.val(h).focus(),s=!1,void a();try{u.closest("li").remove()}catch(c){}h&&a()}else o.removeDuplicates&&t(".tag-editor-tag:not(.active)",d).each(function(){t(this).text()==f&&t(this).closest("li").remove()})}else{if(h&&o.beforeTagDelete(n,d,l,h)===!1)return u.val(h).focus(),s=!1,void a();try{u.closest("li").remove()}catch(c){}h&&a()}u.parent().html(r(f)).removeClass("active"),f!=h&&a(),e()});var u;d.on("paste","input",function(){t(this).removeAttr("maxlength"),u=t(this),u.trigger("change"),setTimeout(function(){i(u)},30)});var h;d.on("keypress","input",function(e){o.delimiter.indexOf(String.fromCharCode(e.which))>=0&&(h=t(this),setTimeout(function(){i(h)},20))}),d.on("keydown","input",function(e){var a=t(this);if((37==e.which||!o.autocomplete&&38==e.which)&&!a.caretme()||8==e.which&&!a.val()){var i=a.closest("li").prev("li").find(".tag-editor-tag");return i.length?i.click().find("input").caretme(-1):!a.val()||o.maxTags&&d.data("tags").length>=o.maxTags||t(c).insertBefore(a.closest("li")).find(".tag-editor-tag").click(),!1}if((39==e.which||!o.autocomplete&&40==e.which)&&a.caretme()==a.val().length){var r=a.closest("li").next("li").find(".tag-editor-tag");return r.length?r.click().find("input").caretme(0):a.val()&&d.click(),!1}if(9==e.which){if(e.shiftKey){var i=a.closest("li").prev("li").find(".tag-editor-tag");if(i.length)i.click().find("input").caretme(0);else{if(!a.val()||o.maxTags&&d.data("tags").length>=o.maxTags)return n.attr("disabled","disabled"),void setTimeout(function(){n.removeAttr("disabled")},30);t(c).insertBefore(a.closest("li")).find(".tag-editor-tag").click()}return!1}var r=a.closest("li").next("li").find(".tag-editor-tag");if(r.length)r.click().find("input").caretme(0);else{if(!a.val())return;d.click()}return!1}if(!(46!=e.which||t.trim(a.val())&&a.caretme()!=a.val().length)){var r=a.closest("li").next("li").find(".tag-editor-tag");
return r.length?r.click().find("input").caretme(0):a.val()&&d.click(),!1}if(13==e.which)return d.trigger("click",[a.closest("li").next("li").find(".tag-editor-tag")]),o.maxTags&&d.data("tags").length>=o.maxTags&&d.find("input").blur(),!1;if(36!=e.which||a.caretme()){if(35==e.which&&a.caretme()==a.val().length)d.find(".tag-editor-tag").last().click();else if(27==e.which)return a.val(a.data("old_tag")?a.data("old_tag"):"").blur(),!1}else d.find(".tag-editor-tag").first().click()});for(var f=o.initialTags.length?o.initialTags:n.val().split(o.dregex),p=0;p<f.length&&!(o.maxTags&&p>=o.maxTags);p++){var v=t.trim(f[p].replace(/ +/," "));v&&(o.forceLowercase&&(v=v.toLowerCase()),l.push(v),d.append('<li><div class="tag-editor-spacer">&nbsp;'+o.delimiter[0]+'</div><div class="tag-editor-tag">'+r(v)+'</div><div class="tag-editor-delete"><i></i></div></li>'))}a(!0),o.sortable&&t.fn.sortable&&d.sortable({distance:5,cancel:".tag-editor-spacer, input",helper:"clone",update:function(){a()}})})},t.fn.TS_VCSC_TagEditor.defaults={initialTags:[],maxTags:0,maxLength:50,delimiter:",;",placeholder:"",forceLowercase:!0,forceNumbersOnly:!1,removeDuplicates:!0,clickDelete:!1,animateDelete:175,sortable:!0,autocomplete:null,onChange:function(){},beforeTagSave:function(){},beforeTagDelete:function(){}}}(jQuery),function(t,e){var a=document.createElement("input"),i={setSelectionRange:"setSelectionRange"in a||"selectionStart"in a,createTextRange:"createTextRange"in a||"selection"in document},n=/\r\n/g,r=/\r/g,s=function(e){return"undefined"!=typeof e.value?e.value:t(e).text()},o=function(e,a){"undefined"!=typeof e.value?e.value=a:t(e).text(a)},l=function(t,e){var a=s(t).replace(r,""),i=a.length;return"undefined"==typeof e&&(e=i),e=Math.floor(e),0>e&&(e=i+e),0>e&&(e=0),e>i&&(e=i),e},d=function(t,e){return t.hasAttribute?t.hasAttribute(e):"undefined"!=typeof t[e]},c=function(t,e,a,i){this.start=t||0,this.end=e||0,this.length=a||0,this.text=i||""};c.prototype.toString=function(){return JSON.stringify(this,null,"    ")};var u=function(t){return t.selectionStart},h=function(t){var e,a,i,r,o,l;return t.focus(),t.focus(),a=document.selection.createRange(),a&&a.parentElement()===t?(r=s(t),o=r.length,i=t.createTextRange(),i.moveToBookmark(a.getBookmark()),l=t.createTextRange(),l.collapse(!1),e=i.compareEndPoints("StartToEnd",l)>-1?r.replace(n,"\n").length:-i.moveStart("character",-o)):0},f=function(t){return t?i.setSelectionRange?u(t):i.createTextRange?h(t):e:e},p=function(t,e){t.setSelectionRange(e,e)},v=function(t,e){var a=t.createTextRange();a.move("character",e),a.select()},g=function(t,e){t.focus(),e=l(t,e),i.setSelectionRange?p(t,e):i.createTextRange&&v(t,e)},m=function(t,e){var a=f(t),i=s(t).replace(r,""),n=+(a+e.length+(i.length-a)),l=+t.getAttribute("maxlength");if(d(t,"maxlength")&&n>l){var c=e.length-(n-l);e=e.substr(0,c)}o(t,i.substr(0,a)+e+i.substr(a)),g(t,a+e.length)},y=function(t){var e=new c;e.start=t.selectionStart,e.end=t.selectionEnd;var a=Math.min(e.start,e.end),i=Math.max(e.start,e.end);return e.length=i-a,e.text=s(t).substring(a,i),e},j=function(t){var e=new c;t.focus();var a=document.selection.createRange();if(a&&a.parentElement()===t){var i,n,r,o,l=0,d=0,u=s(t);i=u.length,n=u.replace(/\r\n/g,"\n"),r=t.createTextRange(),r.moveToBookmark(a.getBookmark()),o=t.createTextRange(),o.collapse(!1),r.compareEndPoints("StartToEnd",o)>-1?l=d=i:(l=-r.moveStart("character",-i),l+=n.slice(0,l).split("\n").length-1,r.compareEndPoints("EndToEnd",o)>-1?d=i:(d=-r.moveEnd("character",-i),d+=n.slice(0,d).split("\n").length-1)),l-=u.substring(0,l).split("\r\n").length-1,d-=u.substring(0,d).split("\r\n").length-1,e.start=l,e.end=d,e.length=e.end-e.start,e.text=n.substr(e.start,e.length)}return e},Q=function(t){return t?i.setSelectionRange?y(t):i.createTextRange?j(t):e:e},w=function(t,e,a){t.setSelectionRange(e,a)},k=function(t,e,a){var i=t.createTextRange();i.moveEnd("textedit",-1),i.moveStart("character",e),i.moveEnd("character",a-e),i.select()},b=function(t,e,a){e=l(t,e),a=l(t,a),i.setSelectionRange?w(t,e,a):i.createTextRange&&k(t,e,a)},S=function(e,a){var i=t(e),n=i.val(),r=Q(e),s=+(r.start+a.length+(n.length-r.end)),o=+i.attr("maxlength");if(i.is("[maxlength]")&&s>o){var l=a.length-(s-o);a=a.substr(0,l)}var d=n.substr(0,r.start),c=n.substr(r.end);i.val(d+a+c);var u=r.start,h=u+a.length;b(e,r.length?u:h,h)},C=function(t){var e=window.getSelection(),a=document.createRange();a.selectNodeContents(t),e.removeAllRanges(),e.addRange(a)},_=function(t){var e=document.body.createTextRange();e.moveToElementText(t),e.select()},x=function(e){var a=t(e);return a.is("input, textarea")||e.select?void a.select():void(i.setSelectionRange?C(e):i.createTextRange&&_(e))},$=function(){document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()};t.extend(t.fn,{caretme:function(){var t=this.filter("input, textarea");if(0===arguments.length){var e=t.get(0);return f(e)}if("number"==typeof arguments[0]){var a=arguments[0];t.each(function(t,e){g(e,a)})}else{var i=arguments[0];t.each(function(t,e){m(e,i)})}return this},rangeme:function(){var t=this.filter("input, textarea");if(0===arguments.length){var e=t.get(0);return Q(e)}if("number"==typeof arguments[0]){var a=arguments[0],i=arguments[1];t.each(function(t,e){b(e,a,i)})}else{var n=arguments[0];t.each(function(t,e){S(e,n)})}return this},selectAll:function(){return this.each(function(t,e){x(e)})}}),t.extend(t,{deselectAll:function(){return $(),this}})}(window.jQuery||window.Zepto||window.$);